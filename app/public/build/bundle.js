var app=function(){"use strict";function t(){}function e(t){return t()}function n(){return Object.create(null)}function r(t){t.forEach(e)}function i(t){return"function"==typeof t}function o(t,e){return t!=t?e==e:t!==e||t&&"object"==typeof t||"function"==typeof t}function a(t,e,n){t.$$.on_destroy.push(function(t,e){const n=t.subscribe(e);return n.unsubscribe?()=>n.unsubscribe():n}(e,n))}function l(t,e,n=e){return t.set(n),e}function u(t,e){t.appendChild(e)}function s(t,e,n){t.insertBefore(e,n||null)}function c(t){t.parentNode.removeChild(t)}function f(t,e){for(let n=0;n<t.length;n+=1)t[n]&&t[n].d(e)}function h(t){return document.createElement(t)}function d(t){return document.createElementNS("http://www.w3.org/2000/svg",t)}function g(t){return document.createTextNode(t)}function m(){return g(" ")}function p(){return g("")}function v(t,e,n,r){return t.addEventListener(e,n,r),()=>t.removeEventListener(e,n,r)}function y(t,e,n){null==n?t.removeAttribute(e):t.getAttribute(e)!==n&&t.setAttribute(e,n)}function M(t,e){e=""+e,t.data!==e&&(t.data=e)}function b(t,e){(null!=e||t.value)&&(t.value=e)}function x(t,e){for(let n=0;n<t.options.length;n+=1){const r=t.options[n];if(r.__value===e)return void(r.selected=!0)}}function w(t){const e=t.querySelector(":checked")||t.options[0];return e&&e.__value}function _(t,e,n){t.classList[n?"add":"remove"](e)}class ${constructor(t,e=null){this.e=h("div"),this.a=e,this.u(t)}m(t,e=null){for(let n=0;n<this.n.length;n+=1)s(t,this.n[n],e);this.t=t}u(t){this.e.innerHTML=t,this.n=Array.from(this.e.childNodes)}p(t){this.d(),this.u(t),this.m(this.t,this.a)}d(){this.n.forEach(c)}}let k;function T(t){k=t}function S(){if(!k)throw new Error("Function called outside component initialization");return k}const A=[],C=[],D=[],N=[],F=Promise.resolve();let U=!1;function Y(){U||(U=!0,F.then(E))}function L(t){D.push(t)}function H(t){N.push(t)}function E(){const t=new Set;do{for(;A.length;){const t=A.shift();T(t),R(t.$$)}for(;C.length;)C.pop()();for(let e=0;e<D.length;e+=1){const n=D[e];t.has(n)||(n(),t.add(n))}D.length=0}while(A.length);for(;N.length;)N.pop()();U=!1}function R(t){if(null!==t.fragment){t.update(),r(t.before_update);const e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(L)}}const z=new Set;let j;function q(){j={r:0,c:[],p:j}}function P(){j.r||r(j.c),j=j.p}function Z(t,e){t&&t.i&&(z.delete(t),t.i(e))}function O(t,e,n,r){if(t&&t.o){if(z.has(t))return;z.add(t),j.c.push(()=>{z.delete(t),r&&(n&&t.d(1),r())}),t.o(e)}}function J(t,e){const n=e.token={};function r(t,r,i,o){if(e.token!==n)return;e.resolved=o;let a=e.ctx;void 0!==i&&(a=a.slice(),a[i]=o);const l=t&&(e.current=t)(a);let u=!1;e.block&&(e.blocks?e.blocks.forEach((t,n)=>{n!==r&&t&&(q(),O(t,1,1,()=>{e.blocks[n]=null}),P())}):e.block.d(1),l.c(),Z(l,1),l.m(e.mount(),e.anchor),u=!0),e.block=l,e.blocks&&(e.blocks[r]=l),u&&E()}if((i=t)&&"object"==typeof i&&"function"==typeof i.then){const n=S();if(t.then(t=>{T(n),r(e.then,1,e.value,t),T(null)},t=>{T(n),r(e.catch,2,e.error,t),T(null)}),e.current!==e.pending)return r(e.pending,0),!0}else{if(e.current!==e.then)return r(e.then,1,e.value,t),!0;e.resolved=t}var i}const W="undefined"!=typeof window?window:global;function V(t,e,n){const r=t.$$.props[e];void 0!==r&&(t.$$.bound[r]=n,n(t.$$.ctx[r]))}function I(t){t&&t.c()}function B(t,n,o){const{fragment:a,on_mount:l,on_destroy:u,after_update:s}=t.$$;a&&a.m(n,o),L(()=>{const n=l.map(e).filter(i);u?u.push(...n):r(n),t.$$.on_mount=[]}),s.forEach(L)}function X(t,e){const n=t.$$;null!==n.fragment&&(r(n.on_destroy),n.fragment&&n.fragment.d(e),n.on_destroy=n.fragment=null,n.ctx=[])}function G(e,i,o,a,l,u,s=[-1]){const c=k;T(e);const f=i.props||{},h=e.$$={fragment:null,ctx:null,props:u,update:t,not_equal:l,bound:n(),on_mount:[],on_destroy:[],before_update:[],after_update:[],context:new Map(c?c.$$.context:[]),callbacks:n(),dirty:s};let d=!1;h.ctx=o?o(e,f,(t,n,r=n)=>(h.ctx&&l(h.ctx[t],h.ctx[t]=r)&&(h.bound[t]&&h.bound[t](r),d&&function(t,e){-1===t.$$.dirty[0]&&(A.push(t),Y(),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}(e,t)),n)):[],h.update(),d=!0,r(h.before_update),h.fragment=!!a&&a(h.ctx),i.target&&(i.hydrate?h.fragment&&h.fragment.l(function(t){return Array.from(t.childNodes)}(i.target)):h.fragment&&h.fragment.c(),i.intro&&Z(e.$$.fragment),B(e,i.target,i.anchor),E()),T(c)}class Q{$destroy(){X(this,1),this.$destroy=t}$on(t,e){const n=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return n.push(e),()=>{const t=n.indexOf(e);-1!==t&&n.splice(t,1)}}$set(){}}var K={},tt={},et=34,nt=10,rt=13;function it(t){return new Function("d","return {"+t.map((function(t,e){return JSON.stringify(t)+": d["+e+'] || ""'})).join(",")+"}")}function ot(t){var e=Object.create(null),n=[];return t.forEach((function(t){for(var r in t)r in e||n.push(e[r]=r)})),n}function at(t,e){var n=t+"",r=n.length;return r<e?new Array(e-r+1).join(0)+n:n}function lt(t){var e=t.getUTCHours(),n=t.getUTCMinutes(),r=t.getUTCSeconds(),i=t.getUTCMilliseconds();return isNaN(t)?"Invalid Date":function(t){return t<0?"-"+at(-t,6):t>9999?"+"+at(t,6):at(t,4)}(t.getUTCFullYear())+"-"+at(t.getUTCMonth()+1,2)+"-"+at(t.getUTCDate(),2)+(i?"T"+at(e,2)+":"+at(n,2)+":"+at(r,2)+"."+at(i,3)+"Z":r?"T"+at(e,2)+":"+at(n,2)+":"+at(r,2)+"Z":n||e?"T"+at(e,2)+":"+at(n,2)+"Z":"")}var ut=function(t){var e=new RegExp('["'+t+"\n\r]"),n=t.charCodeAt(0);function r(t,e){var r,i=[],o=t.length,a=0,l=0,u=o<=0,s=!1;function c(){if(u)return tt;if(s)return s=!1,K;var e,r,i=a;if(t.charCodeAt(i)===et){for(;a++<o&&t.charCodeAt(a)!==et||t.charCodeAt(++a)===et;);return(e=a)>=o?u=!0:(r=t.charCodeAt(a++))===nt?s=!0:r===rt&&(s=!0,t.charCodeAt(a)===nt&&++a),t.slice(i+1,e-1).replace(/""/g,'"')}for(;a<o;){if((r=t.charCodeAt(e=a++))===nt)s=!0;else if(r===rt)s=!0,t.charCodeAt(a)===nt&&++a;else if(r!==n)continue;return t.slice(i,e)}return u=!0,t.slice(i,o)}for(t.charCodeAt(o-1)===nt&&--o,t.charCodeAt(o-1)===rt&&--o;(r=c())!==tt;){for(var f=[];r!==K&&r!==tt;)f.push(r),r=c();e&&null==(f=e(f,l++))||i.push(f)}return i}function i(e,n){return e.map((function(e){return n.map((function(t){return a(e[t])})).join(t)}))}function o(e){return e.map(a).join(t)}function a(t){return null==t?"":t instanceof Date?lt(t):e.test(t+="")?'"'+t.replace(/"/g,'""')+'"':t}return{parse:function(t,e){var n,i,o=r(t,(function(t,r){if(n)return n(t,r-1);i=t,n=e?function(t,e){var n=it(t);return function(r,i){return e(n(r),i,t)}}(t,e):it(t)}));return o.columns=i||[],o},parseRows:r,format:function(e,n){return null==n&&(n=ot(e)),[n.map(a).join(t)].concat(i(e,n)).join("\n")},formatBody:function(t,e){return null==e&&(e=ot(t)),i(t,e).join("\n")},formatRows:function(t){return t.map(o).join("\n")},formatRow:o,formatValue:a}}(",").parse;function st(t){if(!t.ok)throw new Error(t.status+" "+t.statusText);return t.text()}function ct(t,e){return fetch(t,e).then(st)}var ft,ht=(ft=ut,function(t,e,n){return 2===arguments.length&&"function"==typeof e&&(n=e,e=void 0),ct(t,e).then((function(t){return ft(t,n)}))});function dt(t,e){return t<e?-1:t>e?1:t>=e?0:NaN}function gt(t){var e;return 1===t.length&&(e=t,t=function(t,n){return dt(e(t),n)}),{left:function(e,n,r,i){for(null==r&&(r=0),null==i&&(i=e.length);r<i;){var o=r+i>>>1;t(e[o],n)<0?r=o+1:i=o}return r},right:function(e,n,r,i){for(null==r&&(r=0),null==i&&(i=e.length);r<i;){var o=r+i>>>1;t(e[o],n)>0?i=o:r=o+1}return r}}}var mt=gt(dt).right;function pt(t){return t}function vt(t,...e){return function(t,e,n,r){return function t(i,o){if(o>=r.length)return n(i);const a=new Map,l=r[o++];let u=-1;for(const t of i){const e=l(t,++u,i),n=a.get(e);n?n.push(t):a.set(e,[t])}for(const[e,n]of a)a.set(e,t(n,o));return e(a)}(t,0)}(t,pt,pt,e)}var yt=Math.sqrt(50),Mt=Math.sqrt(10),bt=Math.sqrt(2);function xt(t,e,n){var r=(e-t)/Math.max(0,n),i=Math.floor(Math.log(r)/Math.LN10),o=r/Math.pow(10,i);return i>=0?(o>=yt?10:o>=Mt?5:o>=bt?2:1)*Math.pow(10,i):-Math.pow(10,-i)/(o>=yt?10:o>=Mt?5:o>=bt?2:1)}function wt(t,e,n){var r=Math.abs(e-t)/Math.max(0,n),i=Math.pow(10,Math.floor(Math.log(r)/Math.LN10)),o=r/i;return o>=yt?i*=10:o>=Mt?i*=5:o>=bt&&(i*=2),e<t?-i:i}function _t(t){return null===t?NaN:+t}function $t(t,e,n=_t){if(r=t.length){if((e=+e)<=0||r<2)return+n(t[0],0,t);if(e>=1)return+n(t[r-1],r-1,t);var r,i=(r-1)*e,o=Math.floor(i),a=+n(t[o],o,t);return a+(+n(t[o+1],o+1,t)-a)*(i-o)}}function kt(t,e){let n=0,r=0;if(void 0===e)for(let e of t)null!=e&&(e=+e)>=e&&(++n,r+=e);else{let i=-1;for(let o of t)null!=(o=e(o,++i,t))&&(o=+o)>=o&&(++n,r+=o)}if(n)return r/n}const Tt=[];function St(e,n=t){let r;const i=[];function a(t){if(o(e,t)&&(e=t,r)){const t=!Tt.length;for(let t=0;t<i.length;t+=1){const n=i[t];n[1](),Tt.push(n,e)}if(t){for(let t=0;t<Tt.length;t+=2)Tt[t][0](Tt[t+1]);Tt.length=0}}}return{set:a,update:function(t){a(t(e))},subscribe:function(o,l=t){const u=[o,l];return i.push(u),1===i.length&&(r=n(a)||t),o(e),()=>{const t=i.indexOf(u);-1!==t&&i.splice(t,1),0===i.length&&(r(),r=null)}}}}function At(e,n,o){const a=!Array.isArray(e),l=a?[e]:e,u=n.length<2;return{subscribe:St(o,e=>{let o=!1;const s=[];let c=0,f=t;const h=()=>{if(c)return;f();const r=n(a?s[0]:s,e);u?e(r):f=i(r)?r:t},d=l.map((t,e)=>t.subscribe(t=>{s[e]=t,c&=~(1<<e),o&&h()},()=>{c|=1<<e}));return o=!0,h(),function(){r(d),f()}}).subscribe}}var Ct=new Date,Dt=new Date;function Nt(t,e,n,r){function i(e){return t(e=0===arguments.length?new Date:new Date(+e)),e}return i.floor=function(e){return t(e=new Date(+e)),e},i.ceil=function(n){return t(n=new Date(n-1)),e(n,1),t(n),n},i.round=function(t){var e=i(t),n=i.ceil(t);return t-e<n-t?e:n},i.offset=function(t,n){return e(t=new Date(+t),null==n?1:Math.floor(n)),t},i.range=function(n,r,o){var a,l=[];if(n=i.ceil(n),o=null==o?1:Math.floor(o),!(n<r&&o>0))return l;do{l.push(a=new Date(+n)),e(n,o),t(n)}while(a<n&&n<r);return l},i.filter=function(n){return Nt((function(e){if(e>=e)for(;t(e),!n(e);)e.setTime(e-1)}),(function(t,r){if(t>=t)if(r<0)for(;++r<=0;)for(;e(t,-1),!n(t););else for(;--r>=0;)for(;e(t,1),!n(t););}))},n&&(i.count=function(e,r){return Ct.setTime(+e),Dt.setTime(+r),t(Ct),t(Dt),Math.floor(n(Ct,Dt))},i.every=function(t){return t=Math.floor(t),isFinite(t)&&t>0?t>1?i.filter(r?function(e){return r(e)%t==0}:function(e){return i.count(0,e)%t==0}):i:null}),i}var Ft=Nt((function(){}),(function(t,e){t.setTime(+t+e)}),(function(t,e){return e-t}));Ft.every=function(t){return t=Math.floor(t),isFinite(t)&&t>0?t>1?Nt((function(e){e.setTime(Math.floor(e/t)*t)}),(function(e,n){e.setTime(+e+n*t)}),(function(e,n){return(n-e)/t})):Ft:null};var Ut=6e4,Yt=6048e5,Lt=Nt((function(t){t.setTime(t-t.getMilliseconds())}),(function(t,e){t.setTime(+t+1e3*e)}),(function(t,e){return(e-t)/1e3}),(function(t){return t.getUTCSeconds()})),Ht=Nt((function(t){t.setTime(t-t.getMilliseconds()-1e3*t.getSeconds())}),(function(t,e){t.setTime(+t+e*Ut)}),(function(t,e){return(e-t)/Ut}),(function(t){return t.getMinutes()})),Et=Nt((function(t){t.setTime(t-t.getMilliseconds()-1e3*t.getSeconds()-t.getMinutes()*Ut)}),(function(t,e){t.setTime(+t+36e5*e)}),(function(t,e){return(e-t)/36e5}),(function(t){return t.getHours()})),Rt=Nt((function(t){t.setHours(0,0,0,0)}),(function(t,e){t.setDate(t.getDate()+e)}),(function(t,e){return(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*Ut)/864e5}),(function(t){return t.getDate()-1})),zt=Rt.range;function jt(t){return Nt((function(e){e.setDate(e.getDate()-(e.getDay()+7-t)%7),e.setHours(0,0,0,0)}),(function(t,e){t.setDate(t.getDate()+7*e)}),(function(t,e){return(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*Ut)/Yt}))}var qt=jt(0),Pt=jt(1),Zt=(jt(2),jt(3),jt(4)),Ot=(jt(5),jt(6),Nt((function(t){t.setDate(1),t.setHours(0,0,0,0)}),(function(t,e){t.setMonth(t.getMonth()+e)}),(function(t,e){return e.getMonth()-t.getMonth()+12*(e.getFullYear()-t.getFullYear())}),(function(t){return t.getMonth()}))),Jt=Nt((function(t){t.setMonth(0,1),t.setHours(0,0,0,0)}),(function(t,e){t.setFullYear(t.getFullYear()+e)}),(function(t,e){return e.getFullYear()-t.getFullYear()}),(function(t){return t.getFullYear()}));Jt.every=function(t){return isFinite(t=Math.floor(t))&&t>0?Nt((function(e){e.setFullYear(Math.floor(e.getFullYear()/t)*t),e.setMonth(0,1),e.setHours(0,0,0,0)}),(function(e,n){e.setFullYear(e.getFullYear()+n*t)})):null};var Wt=Nt((function(t){t.setUTCHours(0,0,0,0)}),(function(t,e){t.setUTCDate(t.getUTCDate()+e)}),(function(t,e){return(e-t)/864e5}),(function(t){return t.getUTCDate()-1}));function Vt(t){return Nt((function(e){e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-t)%7),e.setUTCHours(0,0,0,0)}),(function(t,e){t.setUTCDate(t.getUTCDate()+7*e)}),(function(t,e){return(e-t)/Yt}))}var It=Vt(0),Bt=Vt(1),Xt=(Vt(2),Vt(3),Vt(4)),Gt=(Vt(5),Vt(6),Nt((function(t){t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)}),(function(t,e){t.setUTCFullYear(t.getUTCFullYear()+e)}),(function(t,e){return e.getUTCFullYear()-t.getUTCFullYear()}),(function(t){return t.getUTCFullYear()})));Gt.every=function(t){return isFinite(t=Math.floor(t))&&t>0?Nt((function(e){e.setUTCFullYear(Math.floor(e.getUTCFullYear()/t)*t),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)}),(function(e,n){e.setUTCFullYear(e.getUTCFullYear()+n*t)})):null};const Qt={today:"Heute",year:"Jahr",month:"Monat",language:"Sprache",day:"Tag",days:"Tage",timerange:"Zeitraum",to:"bis",selectStation:"Wetterstation auswählen",altitude:"Stationshöhe",tooltipDateFormat:"%d. %b",monthLong:"Januar,Februar,März,April,Mai,Juni,Juli,August,September,Oktober,November,Dezember".split(","),source:"Quelle",visBy:"Visualisierung",intro:"Wie warm ist dieser Winter verglichen mit vergangenen Wintern? Der letzte Sommer war heiß, aber war er wirklich heißer als normal? Um diese und andere Fragen zu beantworten kombiniert das obige Diagramm tagesaktuelle Wetterdaten mit historischen Mittelwerten über lange Zeitspannen. Temperaturen über immun fb unter den normalen Höchst- und Tiefstwerten sind als Anomalien hervorgehoben. Die Grafik ist verfügbar für ... Wetterstationen in Deutschland. Inspiriert von diesem klassischem Temperatur-Diagramm der New York Times. ",absRecords:"Absolute Höchst- und Tiefstwerte",avgHighLow:"Mittlere Höchst und Tiefstwerte",avgMedian:"Mittlere Tagesmitteltemperatur",showAnomalies:"Anomalien hervorheben",showRecords:"Rekorde beschriften",anomaliesNote:"Anomalien bezeichnen Tagestemperaturen ober- und unterhalb der gemittelten Tageshöchst- und Tiefstwerte",overFullPeriod:"Bezogen auf gesamten verfügbaren Zeitraum (bis zum gezeigten Bereich)",overPeriod:"Gemittelte Werte beziehen sich auf den Vergleichszeitraum",cdcUrl:"https://www.dwd.de/DE/klimaumwelt/cdc/cdc_node.html",monthShort:"Jan.,Feb.,März,April,Mai,Juni,Juli,Aug.,Sept.,Okt.,Nov.,Dez.".split(",")},Kt={today:"Today",year:"Year",language:"Language",month:"Month",day:"Day",days:"days",timerange:"Range",to:"to",selectStation:"Select weather station",altitude:"Station altitude",tooltipDateFormat:"%b %d",source:"Source",visBy:"Visualization",intro:"How warm is this winter compared to past winters. Last summer was hot, but was it hotter than normal? To answer these questions the diagram above combines daily weather data with historical data averages over thirty years. Temperatures above and below normal highs and lows are highlighted as anomalies. Data is available for ... weather at stations in Germany. Inspired by this classic New York Times temperature chart.",absRecords:"Maximum and minimum temperature",avgHighLow:"Average maximum and minimum",avgMedian:"Average daily median temperature",showAnomalies:"Highlight anomalies",anomaliesNote:"Anomalies are daily temperatures above or below the average maximum and minimum temperatures",showRecords:"Label temperature records",recordsNote:"Temperatures that are higher or lower than the max/min temperatures in the past",overFullPeriod:"Full availabe period until displayed time range",overPeriod:"Averages are computed over period ",cdcUrl:"https://www.dwd.de/EN/climate_environment/cdc/cdc_node.html",monthLong:"January,February,March,April,May,June,July,August,September,October,November,December".split(","),monthShort:"Jan.,Feb.,March,April,May,June,July,Aug.,Sept.,Oct.,Nov.,Dec.".split(",")},te=St(1981),ee=St(30),ne=At([te,ee],([t,e])=>t+e),re=St(50),ie=St(new Date),oe=St(window.innerWidth),ae=St(1e3),le=(At(ae,t=>Math.round(t/4)),At([ie,ae],([t,e])=>{const n=Math.round((e-50)/4),r=Ot.ceil(t),i=Ot.floor(new Date(r.getTime()-864e5*n)),o=Rt.count(i,r);return new Date(t.getTime()-864e5*o)})),ue=St("de"),se=St(!0),ce=St(!0),fe=St(0),he=At(ue,t=>"de"===t?Qt:Kt);function de(t){if(0<=t.y&&t.y<100){var e=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return e.setFullYear(t.y),e}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function ge(t){if(0<=t.y&&t.y<100){var e=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return e.setUTCFullYear(t.y),e}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function me(t,e,n){return{y:t,m:e,d:n,H:0,M:0,S:0,L:0}}var pe,ve,ye={"-":"",_:" ",0:"0"},Me=/^\s*\d+/,be=/^%/,xe=/[\\^$*+?|[\]().{}]/g;function we(t,e,n){var r=t<0?"-":"",i=(r?-t:t)+"",o=i.length;return r+(o<n?new Array(n-o+1).join(e)+i:i)}function _e(t){return t.replace(xe,"\\$&")}function $e(t){return new RegExp("^(?:"+t.map(_e).join("|")+")","i")}function ke(t){for(var e={},n=-1,r=t.length;++n<r;)e[t[n].toLowerCase()]=n;return e}function Te(t,e,n){var r=Me.exec(e.slice(n,n+1));return r?(t.w=+r[0],n+r[0].length):-1}function Se(t,e,n){var r=Me.exec(e.slice(n,n+1));return r?(t.u=+r[0],n+r[0].length):-1}function Ae(t,e,n){var r=Me.exec(e.slice(n,n+2));return r?(t.U=+r[0],n+r[0].length):-1}function Ce(t,e,n){var r=Me.exec(e.slice(n,n+2));return r?(t.V=+r[0],n+r[0].length):-1}function De(t,e,n){var r=Me.exec(e.slice(n,n+2));return r?(t.W=+r[0],n+r[0].length):-1}function Ne(t,e,n){var r=Me.exec(e.slice(n,n+4));return r?(t.y=+r[0],n+r[0].length):-1}function Fe(t,e,n){var r=Me.exec(e.slice(n,n+2));return r?(t.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function Ue(t,e,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(n,n+6));return r?(t.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function Ye(t,e,n){var r=Me.exec(e.slice(n,n+1));return r?(t.q=3*r[0]-3,n+r[0].length):-1}function Le(t,e,n){var r=Me.exec(e.slice(n,n+2));return r?(t.m=r[0]-1,n+r[0].length):-1}function He(t,e,n){var r=Me.exec(e.slice(n,n+2));return r?(t.d=+r[0],n+r[0].length):-1}function Ee(t,e,n){var r=Me.exec(e.slice(n,n+3));return r?(t.m=0,t.d=+r[0],n+r[0].length):-1}function Re(t,e,n){var r=Me.exec(e.slice(n,n+2));return r?(t.H=+r[0],n+r[0].length):-1}function ze(t,e,n){var r=Me.exec(e.slice(n,n+2));return r?(t.M=+r[0],n+r[0].length):-1}function je(t,e,n){var r=Me.exec(e.slice(n,n+2));return r?(t.S=+r[0],n+r[0].length):-1}function qe(t,e,n){var r=Me.exec(e.slice(n,n+3));return r?(t.L=+r[0],n+r[0].length):-1}function Pe(t,e,n){var r=Me.exec(e.slice(n,n+6));return r?(t.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function Ze(t,e,n){var r=be.exec(e.slice(n,n+1));return r?n+r[0].length:-1}function Oe(t,e,n){var r=Me.exec(e.slice(n));return r?(t.Q=+r[0],n+r[0].length):-1}function Je(t,e,n){var r=Me.exec(e.slice(n));return r?(t.s=+r[0],n+r[0].length):-1}function We(t,e){return we(t.getDate(),e,2)}function Ve(t,e){return we(t.getHours(),e,2)}function Ie(t,e){return we(t.getHours()%12||12,e,2)}function Be(t,e){return we(1+Rt.count(Jt(t),t),e,3)}function Xe(t,e){return we(t.getMilliseconds(),e,3)}function Ge(t,e){return Xe(t,e)+"000"}function Qe(t,e){return we(t.getMonth()+1,e,2)}function Ke(t,e){return we(t.getMinutes(),e,2)}function tn(t,e){return we(t.getSeconds(),e,2)}function en(t){var e=t.getDay();return 0===e?7:e}function nn(t,e){return we(qt.count(Jt(t)-1,t),e,2)}function rn(t,e){var n=t.getDay();return t=n>=4||0===n?Zt(t):Zt.ceil(t),we(Zt.count(Jt(t),t)+(4===Jt(t).getDay()),e,2)}function on(t){return t.getDay()}function an(t,e){return we(Pt.count(Jt(t)-1,t),e,2)}function ln(t,e){return we(t.getFullYear()%100,e,2)}function un(t,e){return we(t.getFullYear()%1e4,e,4)}function sn(t){var e=t.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+we(e/60|0,"0",2)+we(e%60,"0",2)}function cn(t,e){return we(t.getUTCDate(),e,2)}function fn(t,e){return we(t.getUTCHours(),e,2)}function hn(t,e){return we(t.getUTCHours()%12||12,e,2)}function dn(t,e){return we(1+Wt.count(Gt(t),t),e,3)}function gn(t,e){return we(t.getUTCMilliseconds(),e,3)}function mn(t,e){return gn(t,e)+"000"}function pn(t,e){return we(t.getUTCMonth()+1,e,2)}function vn(t,e){return we(t.getUTCMinutes(),e,2)}function yn(t,e){return we(t.getUTCSeconds(),e,2)}function Mn(t){var e=t.getUTCDay();return 0===e?7:e}function bn(t,e){return we(It.count(Gt(t)-1,t),e,2)}function xn(t,e){var n=t.getUTCDay();return t=n>=4||0===n?Xt(t):Xt.ceil(t),we(Xt.count(Gt(t),t)+(4===Gt(t).getUTCDay()),e,2)}function wn(t){return t.getUTCDay()}function _n(t,e){return we(Bt.count(Gt(t)-1,t),e,2)}function $n(t,e){return we(t.getUTCFullYear()%100,e,2)}function kn(t,e){return we(t.getUTCFullYear()%1e4,e,4)}function Tn(){return"+0000"}function Sn(){return"%"}function An(t){return+t}function Cn(t){return Math.floor(+t/1e3)}function Dn(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t)}return this}function Nn(t,e,n){t.prototype=e.prototype=n,n.constructor=t}function Fn(t,e){var n=Object.create(t.prototype);for(var r in e)n[r]=e[r];return n}function Un(){}pe=function(t){var e=t.dateTime,n=t.date,r=t.time,i=t.periods,o=t.days,a=t.shortDays,l=t.months,u=t.shortMonths,s=$e(i),c=ke(i),f=$e(o),h=ke(o),d=$e(a),g=ke(a),m=$e(l),p=ke(l),v=$e(u),y=ke(u),M={a:function(t){return a[t.getDay()]},A:function(t){return o[t.getDay()]},b:function(t){return u[t.getMonth()]},B:function(t){return l[t.getMonth()]},c:null,d:We,e:We,f:Ge,H:Ve,I:Ie,j:Be,L:Xe,m:Qe,M:Ke,p:function(t){return i[+(t.getHours()>=12)]},q:function(t){return 1+~~(t.getMonth()/3)},Q:An,s:Cn,S:tn,u:en,U:nn,V:rn,w:on,W:an,x:null,X:null,y:ln,Y:un,Z:sn,"%":Sn},b={a:function(t){return a[t.getUTCDay()]},A:function(t){return o[t.getUTCDay()]},b:function(t){return u[t.getUTCMonth()]},B:function(t){return l[t.getUTCMonth()]},c:null,d:cn,e:cn,f:mn,H:fn,I:hn,j:dn,L:gn,m:pn,M:vn,p:function(t){return i[+(t.getUTCHours()>=12)]},q:function(t){return 1+~~(t.getUTCMonth()/3)},Q:An,s:Cn,S:yn,u:Mn,U:bn,V:xn,w:wn,W:_n,x:null,X:null,y:$n,Y:kn,Z:Tn,"%":Sn},x={a:function(t,e,n){var r=d.exec(e.slice(n));return r?(t.w=g[r[0].toLowerCase()],n+r[0].length):-1},A:function(t,e,n){var r=f.exec(e.slice(n));return r?(t.w=h[r[0].toLowerCase()],n+r[0].length):-1},b:function(t,e,n){var r=v.exec(e.slice(n));return r?(t.m=y[r[0].toLowerCase()],n+r[0].length):-1},B:function(t,e,n){var r=m.exec(e.slice(n));return r?(t.m=p[r[0].toLowerCase()],n+r[0].length):-1},c:function(t,n,r){return $(t,e,n,r)},d:He,e:He,f:Pe,H:Re,I:Re,j:Ee,L:qe,m:Le,M:ze,p:function(t,e,n){var r=s.exec(e.slice(n));return r?(t.p=c[r[0].toLowerCase()],n+r[0].length):-1},q:Ye,Q:Oe,s:Je,S:je,u:Se,U:Ae,V:Ce,w:Te,W:De,x:function(t,e,r){return $(t,n,e,r)},X:function(t,e,n){return $(t,r,e,n)},y:Fe,Y:Ne,Z:Ue,"%":Ze};function w(t,e){return function(n){var r,i,o,a=[],l=-1,u=0,s=t.length;for(n instanceof Date||(n=new Date(+n));++l<s;)37===t.charCodeAt(l)&&(a.push(t.slice(u,l)),null!=(i=ye[r=t.charAt(++l)])?r=t.charAt(++l):i="e"===r?" ":"0",(o=e[r])&&(r=o(n,i)),a.push(r),u=l+1);return a.push(t.slice(u,l)),a.join("")}}function _(t,e){return function(n){var r,i,o=me(1900,void 0,1);if($(o,t,n+="",0)!=n.length)return null;if("Q"in o)return new Date(o.Q);if("s"in o)return new Date(1e3*o.s+("L"in o?o.L:0));if(!e||"Z"in o||(o.Z=0),"p"in o&&(o.H=o.H%12+12*o.p),void 0===o.m&&(o.m="q"in o?o.q:0),"V"in o){if(o.V<1||o.V>53)return null;"w"in o||(o.w=1),"Z"in o?(i=(r=ge(me(o.y,0,1))).getUTCDay(),r=i>4||0===i?Bt.ceil(r):Bt(r),r=Wt.offset(r,7*(o.V-1)),o.y=r.getUTCFullYear(),o.m=r.getUTCMonth(),o.d=r.getUTCDate()+(o.w+6)%7):(i=(r=de(me(o.y,0,1))).getDay(),r=i>4||0===i?Pt.ceil(r):Pt(r),r=Rt.offset(r,7*(o.V-1)),o.y=r.getFullYear(),o.m=r.getMonth(),o.d=r.getDate()+(o.w+6)%7)}else("W"in o||"U"in o)&&("w"in o||(o.w="u"in o?o.u%7:"W"in o?1:0),i="Z"in o?ge(me(o.y,0,1)).getUTCDay():de(me(o.y,0,1)).getDay(),o.m=0,o.d="W"in o?(o.w+6)%7+7*o.W-(i+5)%7:o.w+7*o.U-(i+6)%7);return"Z"in o?(o.H+=o.Z/100|0,o.M+=o.Z%100,ge(o)):de(o)}}function $(t,e,n,r){for(var i,o,a=0,l=e.length,u=n.length;a<l;){if(r>=u)return-1;if(37===(i=e.charCodeAt(a++))){if(i=e.charAt(a++),!(o=x[i in ye?e.charAt(a++):i])||(r=o(t,n,r))<0)return-1}else if(i!=n.charCodeAt(r++))return-1}return r}return(M.x=w(n,M),M.X=w(r,M),M.c=w(e,M),b.x=w(n,b),b.X=w(r,b),b.c=w(e,b),{format:function(t){var e=w(t+="",M);return e.toString=function(){return t},e},parse:function(t){var e=_(t+="",!1);return e.toString=function(){return t},e},utcFormat:function(t){var e=w(t+="",b);return e.toString=function(){return t},e},utcParse:function(t){var e=_(t+="",!0);return e.toString=function(){return t},e}})}({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]}),ve=pe.format,pe.parse,pe.utcFormat,pe.utcParse;var Yn="\\s*([+-]?\\d+)\\s*",Ln="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)\\s*",Hn="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*",En=/^#([0-9a-f]{3,8})$/,Rn=new RegExp("^rgb\\("+[Yn,Yn,Yn]+"\\)$"),zn=new RegExp("^rgb\\("+[Hn,Hn,Hn]+"\\)$"),jn=new RegExp("^rgba\\("+[Yn,Yn,Yn,Ln]+"\\)$"),qn=new RegExp("^rgba\\("+[Hn,Hn,Hn,Ln]+"\\)$"),Pn=new RegExp("^hsl\\("+[Ln,Hn,Hn]+"\\)$"),Zn=new RegExp("^hsla\\("+[Ln,Hn,Hn,Ln]+"\\)$"),On={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function Jn(){return this.rgb().formatHex()}function Wn(){return this.rgb().formatRgb()}function Vn(t){var e,n;return t=(t+"").trim().toLowerCase(),(e=En.exec(t))?(n=e[1].length,e=parseInt(e[1],16),6===n?In(e):3===n?new Gn(e>>8&15|e>>4&240,e>>4&15|240&e,(15&e)<<4|15&e,1):8===n?new Gn(e>>24&255,e>>16&255,e>>8&255,(255&e)/255):4===n?new Gn(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|240&e,((15&e)<<4|15&e)/255):null):(e=Rn.exec(t))?new Gn(e[1],e[2],e[3],1):(e=zn.exec(t))?new Gn(255*e[1]/100,255*e[2]/100,255*e[3]/100,1):(e=jn.exec(t))?Bn(e[1],e[2],e[3],e[4]):(e=qn.exec(t))?Bn(255*e[1]/100,255*e[2]/100,255*e[3]/100,e[4]):(e=Pn.exec(t))?er(e[1],e[2]/100,e[3]/100,1):(e=Zn.exec(t))?er(e[1],e[2]/100,e[3]/100,e[4]):On.hasOwnProperty(t)?In(On[t]):"transparent"===t?new Gn(NaN,NaN,NaN,0):null}function In(t){return new Gn(t>>16&255,t>>8&255,255&t,1)}function Bn(t,e,n,r){return r<=0&&(t=e=n=NaN),new Gn(t,e,n,r)}function Xn(t,e,n,r){return 1===arguments.length?((i=t)instanceof Un||(i=Vn(i)),i?new Gn((i=i.rgb()).r,i.g,i.b,i.opacity):new Gn):new Gn(t,e,n,null==r?1:r);var i}function Gn(t,e,n,r){this.r=+t,this.g=+e,this.b=+n,this.opacity=+r}function Qn(){return"#"+tr(this.r)+tr(this.g)+tr(this.b)}function Kn(){var t=this.opacity;return(1===(t=isNaN(t)?1:Math.max(0,Math.min(1,t)))?"rgb(":"rgba(")+Math.max(0,Math.min(255,Math.round(this.r)||0))+", "+Math.max(0,Math.min(255,Math.round(this.g)||0))+", "+Math.max(0,Math.min(255,Math.round(this.b)||0))+(1===t?")":", "+t+")")}function tr(t){return((t=Math.max(0,Math.min(255,Math.round(t)||0)))<16?"0":"")+t.toString(16)}function er(t,e,n,r){return r<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new rr(t,e,n,r)}function nr(t){if(t instanceof rr)return new rr(t.h,t.s,t.l,t.opacity);if(t instanceof Un||(t=Vn(t)),!t)return new rr;if(t instanceof rr)return t;var e=(t=t.rgb()).r/255,n=t.g/255,r=t.b/255,i=Math.min(e,n,r),o=Math.max(e,n,r),a=NaN,l=o-i,u=(o+i)/2;return l?(a=e===o?(n-r)/l+6*(n<r):n===o?(r-e)/l+2:(e-n)/l+4,l/=u<.5?o+i:2-o-i,a*=60):l=u>0&&u<1?0:a,new rr(a,l,u,t.opacity)}function rr(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}function ir(t,e,n){return 255*(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)}function or(t){return function(){return t}}function ar(t){return 1==(t=+t)?lr:function(e,n){return n-e?function(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(r){return Math.pow(t+r*e,n)}}(e,n,t):or(isNaN(e)?n:e)}}function lr(t,e){var n=e-t;return n?function(t,e){return function(n){return t+n*e}}(t,n):or(isNaN(t)?e:t)}Nn(Un,Vn,{copy:function(t){return Object.assign(new this.constructor,this,t)},displayable:function(){return this.rgb().displayable()},hex:Jn,formatHex:Jn,formatHsl:function(){return nr(this).formatHsl()},formatRgb:Wn,toString:Wn}),Nn(Gn,Xn,Fn(Un,{brighter:function(t){return t=null==t?1/.7:Math.pow(1/.7,t),new Gn(this.r*t,this.g*t,this.b*t,this.opacity)},darker:function(t){return t=null==t?.7:Math.pow(.7,t),new Gn(this.r*t,this.g*t,this.b*t,this.opacity)},rgb:function(){return this},displayable:function(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:Qn,formatHex:Qn,formatRgb:Kn,toString:Kn})),Nn(rr,(function(t,e,n,r){return 1===arguments.length?nr(t):new rr(t,e,n,null==r?1:r)}),Fn(Un,{brighter:function(t){return t=null==t?1/.7:Math.pow(1/.7,t),new rr(this.h,this.s,this.l*t,this.opacity)},darker:function(t){return t=null==t?.7:Math.pow(.7,t),new rr(this.h,this.s,this.l*t,this.opacity)},rgb:function(){var t=this.h%360+360*(this.h<0),e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*e,i=2*n-r;return new Gn(ir(t>=240?t-240:t+120,i,r),ir(t,i,r),ir(t<120?t+240:t-120,i,r),this.opacity)},displayable:function(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl:function(){var t=this.opacity;return(1===(t=isNaN(t)?1:Math.max(0,Math.min(1,t)))?"hsl(":"hsla(")+(this.h||0)+", "+100*(this.s||0)+"%, "+100*(this.l||0)+"%"+(1===t?")":", "+t+")")}}));var ur=function t(e){var n=ar(e);function r(t,e){var r=n((t=Xn(t)).r,(e=Xn(e)).r),i=n(t.g,e.g),o=n(t.b,e.b),a=lr(t.opacity,e.opacity);return function(e){return t.r=r(e),t.g=i(e),t.b=o(e),t.opacity=a(e),t+""}}return r.gamma=t,r}(1);function sr(t,e){e||(e=[]);var n,r=t?Math.min(e.length,t.length):0,i=e.slice();return function(o){for(n=0;n<r;++n)i[n]=t[n]*(1-o)+e[n]*o;return i}}function cr(t,e){var n,r=e?e.length:0,i=t?Math.min(r,t.length):0,o=new Array(i),a=new Array(r);for(n=0;n<i;++n)o[n]=vr(t[n],e[n]);for(;n<r;++n)a[n]=e[n];return function(t){for(n=0;n<i;++n)a[n]=o[n](t);return a}}function fr(t,e){var n=new Date;return t=+t,e=+e,function(r){return n.setTime(t*(1-r)+e*r),n}}function hr(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}}function dr(t,e){var n,r={},i={};for(n in null!==t&&"object"==typeof t||(t={}),null!==e&&"object"==typeof e||(e={}),e)n in t?r[n]=vr(t[n],e[n]):i[n]=e[n];return function(t){for(n in r)i[n]=r[n](t);return i}}var gr=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,mr=new RegExp(gr.source,"g");function pr(t,e){var n,r,i,o=gr.lastIndex=mr.lastIndex=0,a=-1,l=[],u=[];for(t+="",e+="";(n=gr.exec(t))&&(r=mr.exec(e));)(i=r.index)>o&&(i=e.slice(o,i),l[a]?l[a]+=i:l[++a]=i),(n=n[0])===(r=r[0])?l[a]?l[a]+=r:l[++a]=r:(l[++a]=null,u.push({i:a,x:hr(n,r)})),o=mr.lastIndex;return o<e.length&&(i=e.slice(o),l[a]?l[a]+=i:l[++a]=i),l.length<2?u[0]?function(t){return function(e){return t(e)+""}}(u[0].x):function(t){return function(){return t}}(e):(e=u.length,function(t){for(var n,r=0;r<e;++r)l[(n=u[r]).i]=n.x(t);return l.join("")})}function vr(t,e){var n,r=typeof e;return null==e||"boolean"===r?or(e):("number"===r?hr:"string"===r?(n=Vn(e))?(e=n,ur):pr:e instanceof Vn?ur:e instanceof Date?fr:function(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}(e)?sr:Array.isArray(e)?cr:"function"!=typeof e.valueOf&&"function"!=typeof e.toString||isNaN(e)?dr:hr)(t,e)}function yr(t,e){return t=+t,e=+e,function(n){return Math.round(t*(1-n)+e*n)}}function Mr(t){return+t}var br=[0,1];function xr(t){return t}function wr(t,e){return(e-=t=+t)?function(n){return(n-t)/e}:function(t){return function(){return t}}(isNaN(e)?NaN:.5)}function _r(t,e,n){var r=t[0],i=t[1],o=e[0],a=e[1];return i<r?(r=wr(i,r),o=n(a,o)):(r=wr(r,i),o=n(o,a)),function(t){return o(r(t))}}function $r(t,e,n){var r=Math.min(t.length,e.length)-1,i=new Array(r),o=new Array(r),a=-1;for(t[r]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++a<r;)i[a]=wr(t[a],t[a+1]),o[a]=n(e[a],e[a+1]);return function(e){var n=mt(t,e,1,r)-1;return o[n](i[n](e))}}function kr(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function Tr(){var t,e,n,r,i,o,a=br,l=br,u=vr,s=xr;function c(){var t,e,n,u=Math.min(a.length,l.length);return s!==xr&&(t=a[0],e=a[u-1],t>e&&(n=t,t=e,e=n),s=function(n){return Math.max(t,Math.min(e,n))}),r=u>2?$r:_r,i=o=null,f}function f(e){return isNaN(e=+e)?n:(i||(i=r(a.map(t),l,u)))(t(s(e)))}return f.invert=function(n){return s(e((o||(o=r(l,a.map(t),hr)))(n)))},f.domain=function(t){return arguments.length?(a=Array.from(t,Mr),c()):a.slice()},f.range=function(t){return arguments.length?(l=Array.from(t),c()):l.slice()},f.rangeRound=function(t){return l=Array.from(t),u=yr,c()},f.clamp=function(t){return arguments.length?(s=!!t||xr,c()):s!==xr},f.interpolate=function(t){return arguments.length?(u=t,c()):u},f.unknown=function(t){return arguments.length?(n=t,f):n},function(n,r){return t=n,e=r,c()}}function Sr(){return Tr()(xr,xr)}function Ar(t,e){if((n=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var n,r=t.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+t.slice(n+1)]}function Cr(t){return(t=Ar(Math.abs(t)))?t[1]:NaN}var Dr,Nr=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Fr(t){if(!(e=Nr.exec(t)))throw new Error("invalid format: "+t);var e;return new Ur({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}function Ur(t){this.fill=void 0===t.fill?" ":t.fill+"",this.align=void 0===t.align?">":t.align+"",this.sign=void 0===t.sign?"-":t.sign+"",this.symbol=void 0===t.symbol?"":t.symbol+"",this.zero=!!t.zero,this.width=void 0===t.width?void 0:+t.width,this.comma=!!t.comma,this.precision=void 0===t.precision?void 0:+t.precision,this.trim=!!t.trim,this.type=void 0===t.type?"":t.type+""}function Yr(t,e){var n=Ar(t,e);if(!n)return t+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}Fr.prototype=Ur.prototype,Ur.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(void 0===this.width?"":Math.max(1,0|this.width))+(this.comma?",":"")+(void 0===this.precision?"":"."+Math.max(0,0|this.precision))+(this.trim?"~":"")+this.type};var Lr={"%":function(t,e){return(100*t).toFixed(e)},b:function(t){return Math.round(t).toString(2)},c:function(t){return t+""},d:function(t){return Math.round(t).toString(10)},e:function(t,e){return t.toExponential(e)},f:function(t,e){return t.toFixed(e)},g:function(t,e){return t.toPrecision(e)},o:function(t){return Math.round(t).toString(8)},p:function(t,e){return Yr(100*t,e)},r:Yr,s:function(t,e){var n=Ar(t,e);if(!n)return t+"";var r=n[0],i=n[1],o=i-(Dr=3*Math.max(-8,Math.min(8,Math.floor(i/3))))+1,a=r.length;return o===a?r:o>a?r+new Array(o-a+1).join("0"):o>0?r.slice(0,o)+"."+r.slice(o):"0."+new Array(1-o).join("0")+Ar(t,Math.max(0,e+o-1))[0]},X:function(t){return Math.round(t).toString(16).toUpperCase()},x:function(t){return Math.round(t).toString(16)}};function Hr(t){return t}var Er,Rr,zr,jr=Array.prototype.map,qr=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"];function Pr(t){var e,n,r=void 0===t.grouping||void 0===t.thousands?Hr:(e=jr.call(t.grouping,Number),n=t.thousands+"",function(t,r){for(var i=t.length,o=[],a=0,l=e[0],u=0;i>0&&l>0&&(u+l+1>r&&(l=Math.max(1,r-u)),o.push(t.substring(i-=l,i+l)),!((u+=l+1)>r));)l=e[a=(a+1)%e.length];return o.reverse().join(n)}),i=void 0===t.currency?"":t.currency[0]+"",o=void 0===t.currency?"":t.currency[1]+"",a=void 0===t.decimal?".":t.decimal+"",l=void 0===t.numerals?Hr:function(t){return function(e){return e.replace(/[0-9]/g,(function(e){return t[+e]}))}}(jr.call(t.numerals,String)),u=void 0===t.percent?"%":t.percent+"",s=void 0===t.minus?"-":t.minus+"",c=void 0===t.nan?"NaN":t.nan+"";function f(t){var e=(t=Fr(t)).fill,n=t.align,f=t.sign,h=t.symbol,d=t.zero,g=t.width,m=t.comma,p=t.precision,v=t.trim,y=t.type;"n"===y?(m=!0,y="g"):Lr[y]||(void 0===p&&(p=12),v=!0,y="g"),(d||"0"===e&&"="===n)&&(d=!0,e="0",n="=");var M="$"===h?i:"#"===h&&/[boxX]/.test(y)?"0"+y.toLowerCase():"",b="$"===h?o:/[%p]/.test(y)?u:"",x=Lr[y],w=/[defgprs%]/.test(y);function _(t){var i,o,u,h=M,_=b;if("c"===y)_=x(t)+_,t="";else{var $=(t=+t)<0;if(t=isNaN(t)?c:x(Math.abs(t),p),v&&(t=function(t){t:for(var e,n=t.length,r=1,i=-1;r<n;++r)switch(t[r]){case".":i=e=r;break;case"0":0===i&&(i=r),e=r;break;default:if(i>0){if(!+t[r])break t;i=0}}return i>0?t.slice(0,i)+t.slice(e+1):t}(t)),$&&0==+t&&($=!1),h=($?"("===f?f:s:"-"===f||"("===f?"":f)+h,_=("s"===y?qr[8+Dr/3]:"")+_+($&&"("===f?")":""),w)for(i=-1,o=t.length;++i<o;)if(48>(u=t.charCodeAt(i))||u>57){_=(46===u?a+t.slice(i+1):t.slice(i))+_,t=t.slice(0,i);break}}m&&!d&&(t=r(t,1/0));var k=h.length+t.length+_.length,T=k<g?new Array(g-k+1).join(e):"";switch(m&&d&&(t=r(T+t,T.length?g-_.length:1/0),T=""),n){case"<":t=h+t+_+T;break;case"=":t=h+T+t+_;break;case"^":t=T.slice(0,k=T.length>>1)+h+t+_+T.slice(k);break;default:t=T+h+t+_}return l(t)}return p=void 0===p?6:/[gprs]/.test(y)?Math.max(1,Math.min(21,p)):Math.max(0,Math.min(20,p)),_.toString=function(){return t+""},_}return{format:f,formatPrefix:function(t,e){var n=f(((t=Fr(t)).type="f",t)),r=3*Math.max(-8,Math.min(8,Math.floor(Cr(e)/3))),i=Math.pow(10,-r),o=qr[8+r/3];return function(t){return n(i*t)+o}}}}function Zr(t,e,n,r){var i,o=wt(t,e,n);switch((r=Fr(null==r?",f":r)).type){case"s":var a=Math.max(Math.abs(t),Math.abs(e));return null!=r.precision||isNaN(i=function(t,e){return Math.max(0,3*Math.max(-8,Math.min(8,Math.floor(Cr(e)/3)))-Cr(Math.abs(t)))}(o,a))||(r.precision=i),zr(r,a);case"":case"e":case"g":case"p":case"r":null!=r.precision||isNaN(i=function(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,Cr(e)-Cr(t))+1}(o,Math.max(Math.abs(t),Math.abs(e))))||(r.precision=i-("e"===r.type));break;case"f":case"%":null!=r.precision||isNaN(i=function(t){return Math.max(0,-Cr(Math.abs(t)))}(o))||(r.precision=i-2*("%"===r.type))}return Rr(r)}function Or(t){var e=t.domain;return t.ticks=function(t){var n=e();return function(t,e,n){var r,i,o,a,l=-1;if(n=+n,(t=+t)===(e=+e)&&n>0)return[t];if((r=e<t)&&(i=t,t=e,e=i),0===(a=xt(t,e,n))||!isFinite(a))return[];if(a>0)for(t=Math.ceil(t/a),e=Math.floor(e/a),o=new Array(i=Math.ceil(e-t+1));++l<i;)o[l]=(t+l)*a;else for(t=Math.floor(t*a),e=Math.ceil(e*a),o=new Array(i=Math.ceil(t-e+1));++l<i;)o[l]=(t-l)/a;return r&&o.reverse(),o}(n[0],n[n.length-1],null==t?10:t)},t.tickFormat=function(t,n){var r=e();return Zr(r[0],r[r.length-1],null==t?10:t,n)},t.nice=function(n){null==n&&(n=10);var r,i=e(),o=0,a=i.length-1,l=i[o],u=i[a];return u<l&&(r=l,l=u,u=r,r=o,o=a,a=r),(r=xt(l,u,n))>0?r=xt(l=Math.floor(l/r)*r,u=Math.ceil(u/r)*r,n):r<0&&(r=xt(l=Math.ceil(l*r)/r,u=Math.floor(u*r)/r,n)),r>0?(i[o]=Math.floor(l/r)*r,i[a]=Math.ceil(u/r)*r,e(i)):r<0&&(i[o]=Math.ceil(l*r)/r,i[a]=Math.floor(u*r)/r,e(i)),t},t}!function(t){Er=Pr(t),Rr=Er.format,zr=Er.formatPrefix}({decimal:".",thousands:",",grouping:[3],currency:["$",""],minus:"-"});var Jr=1e3,Wr=60*Jr,Vr=60*Wr,Ir=24*Vr,Br=7*Ir,Xr=30*Ir,Gr=365*Ir;function Qr(t){return new Date(t)}function Kr(t){return t instanceof Date?+t:+new Date(+t)}function ti(){return Dn.apply(function t(e,n,r,i,o,a,l,u,s){var c=Sr(),f=c.invert,h=c.domain,d=s(".%L"),g=s(":%S"),m=s("%I:%M"),p=s("%I %p"),v=s("%a %d"),y=s("%b %d"),M=s("%B"),b=s("%Y"),x=[[l,1,Jr],[l,5,5*Jr],[l,15,15*Jr],[l,30,30*Jr],[a,1,Wr],[a,5,5*Wr],[a,15,15*Wr],[a,30,30*Wr],[o,1,Vr],[o,3,3*Vr],[o,6,6*Vr],[o,12,12*Vr],[i,1,Ir],[i,2,2*Ir],[r,1,Br],[n,1,Xr],[n,3,3*Xr],[e,1,Gr]];function w(t){return(l(t)<t?d:a(t)<t?g:o(t)<t?m:i(t)<t?p:n(t)<t?r(t)<t?v:y:e(t)<t?M:b)(t)}function _(t,n,r){if(null==t&&(t=10),"number"==typeof t){var i,o=Math.abs(r-n)/t,a=gt((function(t){return t[2]})).right(x,o);return a===x.length?(i=wt(n/Gr,r/Gr,t),t=e):a?(i=(a=x[o/x[a-1][2]<x[a][2]/o?a-1:a])[1],t=a[0]):(i=Math.max(wt(n,r,t),1),t=u),t.every(i)}return t}return c.invert=function(t){return new Date(f(t))},c.domain=function(t){return arguments.length?h(Array.from(t,Kr)):h().map(Qr)},c.ticks=function(t){var e,n=h(),r=n[0],i=n[n.length-1],o=i<r;return o&&(e=r,r=i,i=e),e=(e=_(t,r,i))?e.range(r,i+1):[],o?e.reverse():e},c.tickFormat=function(t,e){return null==e?w:s(e)},c.nice=function(t){var e=h();return(t=_(t,e[0],e[e.length-1]))?h(function(t,e){var n,r=0,i=(t=t.slice()).length-1,o=t[r],a=t[i];return a<o&&(n=r,r=i,i=n,n=o,o=a,a=n),t[r]=e.floor(o),t[i]=e.ceil(a),t}(e,t)):c},c.copy=function(){return kr(c,t(e,n,r,i,o,a,l,u,s))},c}(Jt,Ot,qt,Rt,Et,Ht,Lt,Ft,ve).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function ei(t,e,n){const r=t.slice();return r[28]=e[n],r}function ni(t,e,n){const r=t.slice();return r[31]=e[n],r[33]=n,r}function ri(t,e,n){const r=t.slice();return r[31]=e[n],r}function ii(t){let e,n,r,i,o,a,l,f,h=t[31]<0?"&minus;":"",m=Math.abs(t[31])+"";return{c(){e=d("g"),n=d("line"),r=d("text"),o=g(m),a=g("°C\n                        "),y(n,"x2","100%"),y(n,"class","svelte-ybrff"),i=new $(h,o),y(r,"y","-4"),y(r,"class","svelte-ybrff"),y(e,"class",l="tick tick-"+t[31]+" svelte-ybrff"),y(e,"transform",f="translate(0, "+t[8](t[31])+")")},m(t,l){s(t,e,l),u(e,n),u(e,r),i.m(r),u(r,o),u(r,a)},p(t,n){1024&n[0]&&h!==(h=t[31]<0?"&minus;":"")&&i.p(h),1024&n[0]&&m!==(m=Math.abs(t[31])+"")&&M(o,m),1024&n[0]&&l!==(l="tick tick-"+t[31]+" svelte-ybrff")&&y(e,"class",l),1280&n[0]&&f!==(f="translate(0, "+t[8](t[31])+")")&&y(e,"transform",f)},d(t){t&&c(e)}}}function oi(t){let e,n,r,i,o=(oe>400?t[11](t[31],t[33]):t[12](t[31],t[33]))+"",a=!t[33]&&t[31].getMonth()<11||!t[31].getMonth(),l=a&&ai(t);return{c(){e=d("g"),n=d("text"),r=g(o),l&&l.c(),y(n,"y","0"),y(n,"class","svelte-ybrff"),y(e,"transform",i="translate("+(t[4](t[14](t[31]))-t[4](t[31]))+",-50)")},m(t,i){s(t,e,i),u(e,n),u(n,r),l&&l.m(e,null)},p(t,n){6272&n[0]&&o!==(o=(oe>400?t[11](t[31],t[33]):t[12](t[31],t[33]))+"")&&M(r,o),128&n[0]&&(a=!t[33]&&t[31].getMonth()<11||!t[31].getMonth()),a?l?l.p(t,n):(l=ai(t),l.c(),l.m(e,null)):l&&(l.d(1),l=null),144&n[0]&&i!==(i="translate("+(t[4](t[14](t[31]))-t[4](t[31]))+",-50)")&&y(e,"transform",i)},d(t){t&&c(e),l&&l.d()}}}function ai(t){let e,n,r=t[31].getFullYear()+"";return{c(){e=d("text"),n=g(r),y(e,"class","year svelte-ybrff"),y(e,"y","20")},m(t,r){s(t,e,r),u(e,n)},p(t,e){128&e[0]&&r!==(r=t[31].getFullYear()+"")&&M(n,r)},d(t){t&&c(e)}}}function li(t){let e,n,r,i,o,a,l=t[14](t[31])<t[5],f=l&&oi(t);return{c(){e=d("g"),n=d("line"),f&&f.c(),y(n,"y1",r="-"+t[9]),y(n,"y2",i="-"+t[3].bottom),y(n,"x1","0"),y(n,"x2","0"),y(n,"class","svelte-ybrff"),y(e,"class",o="tick tick-"+t[31]+" svelte-ybrff"),y(e,"transform",a="translate("+t[4](t[31])+","+t[9]+")")},m(t,r){s(t,e,r),u(e,n),f&&f.m(e,null)},p(t,u){512&u[0]&&r!==(r="-"+t[9])&&y(n,"y1",r),8&u[0]&&i!==(i="-"+t[3].bottom)&&y(n,"y2",i),160&u[0]&&(l=t[14](t[31])<t[5]),l?f?f.p(t,u):(f=oi(t),f.c(),f.m(e,null)):f&&(f.d(1),f=null),128&u[0]&&o!==(o="tick tick-"+t[31]+" svelte-ybrff")&&y(e,"class",o),656&u[0]&&a!==(a="translate("+t[4](t[31])+","+t[9]+")")&&y(e,"transform",a)},d(t){t&&c(e),f&&f.d()}}}function ui(t){let e,n;var r=t[28];function i(t){return{props:{data:t[0],grouped:t[2],xScale:t[4],yScale:t[8]}}}if(r)var o=new r(i(t));return{c(){o&&I(o.$$.fragment),e=p()},m(t,r){o&&B(o,t,r),s(t,e,r),n=!0},p(t,n){const a={};if(1&n[0]&&(a.data=t[0]),4&n[0]&&(a.grouped=t[2]),16&n[0]&&(a.xScale=t[4]),256&n[0]&&(a.yScale=t[8]),r!==(r=t[28])){if(o){q();const t=o;O(t.$$.fragment,1,0,()=>{X(t,1)}),P()}r?(I((o=new r(i(t))).$$.fragment),Z(o.$$.fragment,1),B(o,e.parentNode,e)):o=null}else r&&o.$set(a)},i(t){n||(o&&Z(o.$$.fragment,t),n=!0)},o(t){o&&O(o.$$.fragment,t),n=!1},d(t){t&&c(e),o&&X(o,t)}}}function si(t){let e,n,r,i,o,a,l,g,m,p;L(t[26]);let M=t[10],b=[];for(let e=0;e<M.length;e+=1)b[e]=ii(ri(t,M,e));let x=t[7],w=[];for(let e=0;e<x.length;e+=1)w[e]=li(ni(t,x,e));let _=t[1],$=[];for(let e=0;e<_.length;e+=1)$[e]=ui(ei(t,_,e));const k=t=>O($[t],1,1,()=>{$[t]=null});return{c(){e=h("div"),n=d("svg"),r=d("g"),i=d("g");for(let t=0;t<b.length;t+=1)b[t].c();o=d("g");for(let t=0;t<w.length;t+=1)w[t].c();for(let t=0;t<$.length;t+=1)$[t].c();a=d("line"),y(i,"class","axis y-axis"),y(o,"class","axis x-axis svelte-ybrff"),y(a,"class","zero svelte-ybrff"),y(a,"transform",l="translate(0,"+t[8](0)+")"),y(a,"x2","100%"),y(n,"height",t[9]),y(n,"class","svelte-ybrff"),y(e,"class","chart svelte-ybrff"),L(()=>t[27].call(e)),p=v(window,"resize",t[26])},m(l,c){s(l,e,c),u(e,n),u(n,r),u(r,i);for(let t=0;t<b.length;t+=1)b[t].m(i,null);u(r,o);for(let t=0;t<w.length;t+=1)w[t].m(o,null);for(let t=0;t<$.length;t+=1)$[t].m(r,null);u(r,a),g=function(t,e){"static"===getComputedStyle(t).position&&(t.style.position="relative");const n=document.createElement("object");let r;return n.setAttribute("style","display: block; position: absolute; top: 0; left: 0; height: 100%; width: 100%; overflow: hidden; pointer-events: none; z-index: -1;"),n.setAttribute("aria-hidden","true"),n.type="text/html",n.tabIndex=-1,n.onload=()=>{r=n.contentDocument.defaultView,r.addEventListener("resize",e)},/Trident/.test(navigator.userAgent)?(t.appendChild(n),n.data="about:blank"):(n.data="about:blank",t.appendChild(n)),{cancel:()=>{r&&r.removeEventListener&&r.removeEventListener("resize",e),t.removeChild(n)}}}(e,t[27].bind(e)),m=!0},p(t,e){if(1280&e[0]){let n;for(M=t[10],n=0;n<M.length;n+=1){const r=ri(t,M,n);b[n]?b[n].p(r,e):(b[n]=ii(r),b[n].c(),b[n].m(i,null))}for(;n<b.length;n+=1)b[n].d(1);b.length=M.length}if(23224&e[0]){let n;for(x=t[7],n=0;n<x.length;n+=1){const r=ni(t,x,n);w[n]?w[n].p(r,e):(w[n]=li(r),w[n].c(),w[n].m(o,null))}for(;n<w.length;n+=1)w[n].d(1);w.length=x.length}if(279&e[0]){let n;for(_=t[1],n=0;n<_.length;n+=1){const i=ei(t,_,n);$[n]?($[n].p(i,e),Z($[n],1)):($[n]=ui(i),$[n].c(),Z($[n],1),$[n].m(r,a))}for(q(),n=_.length;n<$.length;n+=1)k(n);P()}(!m||256&e[0]&&l!==(l="translate(0,"+t[8](0)+")"))&&y(a,"transform",l),(!m||512&e[0])&&y(n,"height",t[9])},i(t){if(!m){for(let t=0;t<_.length;t+=1)Z($[t]);m=!0}},o(t){$=$.filter(Boolean);for(let t=0;t<$.length;t+=1)O($[t]);m=!1},d(t){t&&c(e),f(b,t),f(w,t),f($,t),g.cancel(),p()}}}function ci(t,e,n){let r,i,o,l,u,s,c,f,h;a(t,fe,t=>n(19,r=t)),a(t,le,t=>n(20,i=t)),a(t,ie,t=>n(5,o=t)),a(t,ae,t=>n(6,l=t)),a(t,he,t=>n(21,u=t)),a(t,te,t=>n(22,s=t)),a(t,ne,t=>n(23,c=t)),a(t,re,t=>n(24,f=t)),a(t,oe,t=>n(13,h=t));let{data:d=[]}=e,g=-29,m=45,{layers:p=[]}=e;const v=ve("-%m-%d");let y,M,b,x,w,_,$,k,T,S,A;return t.$set=t=>{"data"in t&&n(0,d=t.data),"layers"in t&&n(1,p=t.layers)},t.$$.update=()=>{if(1&t.$$.dirty[0]&&n(17,M=d.filter(t=>t.tMin>-999&&t.tMax>-999)),655360&t.$$.dirty[0]&&n(18,b=r>0?M.map((t,e)=>({date:t.date,dateRaw:t.dateRaw,tMin:kt(M.slice(Math.max(0,e-r),e+r+1).map(t=>t.tMin)),tAvg:kt(M.slice(Math.max(0,e-r),e+r+1).map(t=>t.tAvg)),tMax:kt(M.slice(Math.max(0,e-r),e+r+1).map(t=>t.tMax))})):M),1048680&t.$$.dirty[0]&&n(4,w=ti().domain([i,o]).range([x.left,l-x.right])),16&t.$$.dirty[0]&&n(7,_=w.ticks(Ot)),30900257&t.$$.dirty[0]){const t=vt(M,t=>t.dateRaw.substr(4)),e=vt(b,t=>t.dateRaw.substr(4));for(n(15,g=99),n(16,m=-99),n(2,y=zt(i,Rt.offset(o,1)).map(r=>{const o=v(r),a=t.get(o).filter(t=>t.date.getTime()<i.getTime()),l=function(t,e){let n;if(void 0===e)for(const e of t)null!=e&&(n>e||void 0===n&&e>=e)&&(n=e);else{let r=-1;for(let i of t)null!=(i=e(i,++r,t))&&(n>i||void 0===n&&i>=i)&&(n=i)}return n}(a,t=>t.tMin),u=function(t,e){let n;if(void 0===e)for(const e of t)null!=e&&(n<e||void 0===n&&e>=e)&&(n=e);else{let r=-1;for(let i of t)null!=(i=e(i,++r,t))&&(n<i||void 0===n&&i>=i)&&(n=i)}return n}(a,t=>t.tMax),h=e.get(o).filter(t=>t.date.getFullYear()>=s&&t.date.getFullYear()<c),p=h.map(t=>t.tMin).sort(dt),y=h.map(t=>t.tAvg).sort(dt),M=h.map(t=>t.tMax).sort(dt),b=r.getFullYear()+o,x=d.find(t=>t.dateRaw===b);n(15,g=Math.min(g,l-5)),n(16,m=Math.max(m,u+5)),x&&(n(15,g=Math.min(g,x.tMin-5)),n(16,m=Math.max(m,x.tMax+5)));const w=$t(y,.5);return{date:r,dateRaw:b,grouped:h,tMin:f<100?$t(p,f/100):w,tAvg:w,tMax:f<100?$t(M,1-f/100):w,tMinAbs:l,tMaxAbs:u,tMinSorted:p,tAvgSorted:y,tMaxSorted:M}}));m-g<40;)n(16,m++,m),n(15,g--,g)}64&t.$$.dirty[0]&&n(9,T=Math.max(450,l*(l>800?.35:l>500?.7:1))),98824&t.$$.dirty[0]&&n(8,$=function t(){var e=Sr();return e.copy=function(){return kr(e,t())},Dn.apply(e,arguments),Or(e)}().domain([g,m]).range([T-x.bottom,x.top])),256&t.$$.dirty[0]&&n(10,k=$.ticks(6)),2097152&t.$$.dirty[0]&&n(11,S=(t,e)=>u.monthLong[t.getMonth()]),2097152&t.$$.dirty[0]&&n(12,A=(t,e)=>u.monthShort[t.getMonth()])},n(3,x={top:20,right:5,bottom:30,left:oe<400?30:40}),[d,p,y,x,w,o,l,_,$,T,k,S,A,h,t=>new Date(t.getTime()+(new Date(t.getFullYear(),t.getMonth()+1,t.getDate())-t)/2),g,m,M,b,r,i,u,s,c,f,v,function(){oe.set(h=window.innerWidth)},function(){l=this.clientWidth,ae.set(l)}]}class fi extends Q{constructor(t){super(),G(this,t,ci,si,o,{data:0,layers:1},[-1,-1])}}var hi=Math.PI,di=2*hi,gi=di-1e-6;function mi(){this._x0=this._y0=this._x1=this._y1=null,this._=""}function pi(){return new mi}function vi(t){return function(){return t}}function yi(t){this._context=t}function Mi(t){return new yi(t)}function bi(t){return t[0]}function xi(t){return t[1]}function wi(){var t=bi,e=xi,n=vi(!0),r=null,i=Mi,o=null;function a(a){var l,u,s,c=a.length,f=!1;for(null==r&&(o=i(s=pi())),l=0;l<=c;++l)!(l<c&&n(u=a[l],l,a))===f&&((f=!f)?o.lineStart():o.lineEnd()),f&&o.point(+t(u,l,a),+e(u,l,a));if(s)return o=null,s+""||null}return a.x=function(e){return arguments.length?(t="function"==typeof e?e:vi(+e),a):t},a.y=function(t){return arguments.length?(e="function"==typeof t?t:vi(+t),a):e},a.defined=function(t){return arguments.length?(n="function"==typeof t?t:vi(!!t),a):n},a.curve=function(t){return arguments.length?(i=t,null!=r&&(o=i(r)),a):i},a.context=function(t){return arguments.length?(null==t?r=o=null:o=i(r=t),a):r},a}function _i(){var t=bi,e=null,n=vi(0),r=xi,i=vi(!0),o=null,a=Mi,l=null;function u(u){var s,c,f,h,d,g=u.length,m=!1,p=new Array(g),v=new Array(g);for(null==o&&(l=a(d=pi())),s=0;s<=g;++s){if(!(s<g&&i(h=u[s],s,u))===m)if(m=!m)c=s,l.areaStart(),l.lineStart();else{for(l.lineEnd(),l.lineStart(),f=s-1;f>=c;--f)l.point(p[f],v[f]);l.lineEnd(),l.areaEnd()}m&&(p[s]=+t(h,s,u),v[s]=+n(h,s,u),l.point(e?+e(h,s,u):p[s],r?+r(h,s,u):v[s]))}if(d)return l=null,d+""||null}function s(){return wi().defined(i).curve(a).context(o)}return u.x=function(n){return arguments.length?(t="function"==typeof n?n:vi(+n),e=null,u):t},u.x0=function(e){return arguments.length?(t="function"==typeof e?e:vi(+e),u):t},u.x1=function(t){return arguments.length?(e=null==t?null:"function"==typeof t?t:vi(+t),u):e},u.y=function(t){return arguments.length?(n="function"==typeof t?t:vi(+t),r=null,u):n},u.y0=function(t){return arguments.length?(n="function"==typeof t?t:vi(+t),u):n},u.y1=function(t){return arguments.length?(r=null==t?null:"function"==typeof t?t:vi(+t),u):r},u.lineX0=u.lineY0=function(){return s().x(t).y(n)},u.lineY1=function(){return s().x(t).y(r)},u.lineX1=function(){return s().x(e).y(n)},u.defined=function(t){return arguments.length?(i="function"==typeof t?t:vi(!!t),u):i},u.curve=function(t){return arguments.length?(a=t,null!=o&&(l=a(o)),u):a},u.context=function(t){return arguments.length?(null==t?o=l=null:l=a(o=t),u):o},u}function $i(t,e,n){t._context.bezierCurveTo((2*t._x0+t._x1)/3,(2*t._y0+t._y1)/3,(t._x0+2*t._x1)/3,(t._y0+2*t._y1)/3,(t._x0+4*t._x1+e)/6,(t._y0+4*t._y1+n)/6)}function ki(t){this._context=t}function Ti(t){return new ki(t)}function Si(t,e){this._context=t,this._t=e}function Ai(t){return new Si(t,.5)}function Ci(e){let n;return{c(){n=d("path"),y(n,"d",e[0])},m(t,e){s(t,n,e)},p(t,[e]){1&e&&y(n,"d",t[0])},i:t,o:t,d(t){t&&c(n)}}}function Di(t,e,n){let r,{low:i="tMin"}=e,{high:o="tMax"}=e,{xScale:a}=e,{yScale:l}=e,{data:u}=e;return t.$set=t=>{"low"in t&&n(1,i=t.low),"high"in t&&n(2,o=t.high),"xScale"in t&&n(3,a=t.xScale),"yScale"in t&&n(4,l=t.yScale),"data"in t&&n(5,u=t.data)},t.$$.update=()=>{62&t.$$.dirty&&n(0,r=_i().curve(Ai).x(t=>a(t.date)).y0(t=>l(t[i])).y1(t=>l(t[o]))(u))},[r,i,o,a,l,u]}mi.prototype=pi.prototype={constructor:mi,moveTo:function(t,e){this._+="M"+(this._x0=this._x1=+t)+","+(this._y0=this._y1=+e)},closePath:function(){null!==this._x1&&(this._x1=this._x0,this._y1=this._y0,this._+="Z")},lineTo:function(t,e){this._+="L"+(this._x1=+t)+","+(this._y1=+e)},quadraticCurveTo:function(t,e,n,r){this._+="Q"+ +t+","+ +e+","+(this._x1=+n)+","+(this._y1=+r)},bezierCurveTo:function(t,e,n,r,i,o){this._+="C"+ +t+","+ +e+","+ +n+","+ +r+","+(this._x1=+i)+","+(this._y1=+o)},arcTo:function(t,e,n,r,i){t=+t,e=+e,n=+n,r=+r,i=+i;var o=this._x1,a=this._y1,l=n-t,u=r-e,s=o-t,c=a-e,f=s*s+c*c;if(i<0)throw new Error("negative radius: "+i);if(null===this._x1)this._+="M"+(this._x1=t)+","+(this._y1=e);else if(f>1e-6)if(Math.abs(c*l-u*s)>1e-6&&i){var h=n-o,d=r-a,g=l*l+u*u,m=h*h+d*d,p=Math.sqrt(g),v=Math.sqrt(f),y=i*Math.tan((hi-Math.acos((g+f-m)/(2*p*v)))/2),M=y/v,b=y/p;Math.abs(M-1)>1e-6&&(this._+="L"+(t+M*s)+","+(e+M*c)),this._+="A"+i+","+i+",0,0,"+ +(c*h>s*d)+","+(this._x1=t+b*l)+","+(this._y1=e+b*u)}else this._+="L"+(this._x1=t)+","+(this._y1=e);else;},arc:function(t,e,n,r,i,o){t=+t,e=+e,o=!!o;var a=(n=+n)*Math.cos(r),l=n*Math.sin(r),u=t+a,s=e+l,c=1^o,f=o?r-i:i-r;if(n<0)throw new Error("negative radius: "+n);null===this._x1?this._+="M"+u+","+s:(Math.abs(this._x1-u)>1e-6||Math.abs(this._y1-s)>1e-6)&&(this._+="L"+u+","+s),n&&(f<0&&(f=f%di+di),f>gi?this._+="A"+n+","+n+",0,1,"+c+","+(t-a)+","+(e-l)+"A"+n+","+n+",0,1,"+c+","+(this._x1=u)+","+(this._y1=s):f>1e-6&&(this._+="A"+n+","+n+",0,"+ +(f>=hi)+","+c+","+(this._x1=t+n*Math.cos(i))+","+(this._y1=e+n*Math.sin(i))))},rect:function(t,e,n,r){this._+="M"+(this._x0=this._x1=+t)+","+(this._y0=this._y1=+e)+"h"+ +n+"v"+ +r+"h"+-n+"Z"},toString:function(){return this._}},yi.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e)}}},ki.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:$i(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:$i(this,t,e)}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}},Si.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&2===this._point&&this._context.lineTo(this._x,this._y),(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:if(this._t<=0)this._context.lineTo(this._x,e),this._context.lineTo(t,e);else{var n=this._x*(1-this._t)+t*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,e)}}this._x=t,this._y=e}};class Ni extends Q{constructor(t){super(),G(this,t,Di,Ci,o,{low:1,high:2,xScale:3,yScale:4,data:5})}}function Fi(t){let e,n;const r=new Ni({props:{xScale:t[0],yScale:t[1],data:t[2]}});return{c(){e=d("g"),I(r.$$.fragment),y(e,"class","svelte-19ej34d")},m(t,i){s(t,e,i),B(r,e,null),n=!0},p(t,[e]){const n={};1&e&&(n.xScale=t[0]),2&e&&(n.yScale=t[1]),4&e&&(n.data=t[2]),r.$set(n)},i(t){n||(Z(r.$$.fragment,t),n=!0)},o(t){O(r.$$.fragment,t),n=!1},d(t){t&&c(e),X(r)}}}function Ui(t,e,n){let r,{xScale:i}=e,{yScale:o}=e,{data:a}=e,{grouped:l}=e;return t.$set=t=>{"xScale"in t&&n(0,i=t.xScale),"yScale"in t&&n(1,o=t.yScale),"data"in t&&n(3,a=t.data),"grouped"in t&&n(4,l=t.grouped)},t.$$.update=()=>{16&t.$$.dirty&&n(2,r=l.map(t=>({date:t.date,tMin:t.tMinAbs,tMax:t.tMaxAbs})))},[i,o,r,a,l]}class Yi extends Q{constructor(t){super(),G(this,t,Ui,Fi,o,{xScale:0,yScale:1,data:3,grouped:4})}}function Li(e){let n,r;return{c(){n=d("g"),r=d("path"),y(r,"d",e[0]),y(r,"class","svelte-1cmn9dm"),y(n,"class","normal-temp")},m(t,e){s(t,n,e),u(n,r)},p(t,[e]){1&e&&y(r,"d",t[0])},i:t,o:t,d(t){t&&c(n)}}}function Hi(t,e,n){let r,i,{xScale:o}=e,{yScale:a}=e,{data:l}=e,{grouped:u}=e;return t.$set=t=>{"xScale"in t&&n(1,o=t.xScale),"yScale"in t&&n(2,a=t.yScale),"data"in t&&n(3,l=t.data),"grouped"in t&&n(4,u=t.grouped)},t.$$.update=()=>{6&t.$$.dirty&&n(5,i=wi().x(t=>o(t.date)).y(t=>a(t.tAvg)).curve(Ti)),48&t.$$.dirty&&n(0,r=i(u))},[r,o,a,l,u]}class Ei extends Q{constructor(t){super(),G(this,t,Hi,Li,o,{xScale:1,yScale:2,data:3,grouped:4})}}function Ri(t){let e,n;const r=new Ni({props:{xScale:t[0],yScale:t[1],data:t[2]}});return{c(){e=d("g"),I(r.$$.fragment),y(e,"class","normal-temp-range svelte-1q0l0k4"),_(e,"faint",t[3])},m(t,i){s(t,e,i),B(r,e,null),n=!0},p(t,[n]){const i={};1&n&&(i.xScale=t[0]),2&n&&(i.yScale=t[1]),4&n&&(i.data=t[2]),r.$set(i),8&n&&_(e,"faint",t[3])},i(t){n||(Z(r.$$.fragment,t),n=!0)},o(t){O(r.$$.fragment,t),n=!1},d(t){t&&c(e),X(r)}}}function zi(t,e,n){let r;a(t,se,t=>n(3,r=t));let i,{xScale:o}=e,{yScale:l}=e,{data:u}=e,{grouped:s}=e;return t.$set=t=>{"xScale"in t&&n(0,o=t.xScale),"yScale"in t&&n(1,l=t.yScale),"data"in t&&n(4,u=t.data),"grouped"in t&&n(5,s=t.grouped)},t.$$.update=()=>{32&t.$$.dirty&&n(2,i=s)},[o,l,i,r,u,s]}class ji extends Q{constructor(t){super(),G(this,t,zi,Ri,o,{xScale:0,yScale:1,data:4,grouped:5})}}function qi(t,e,n){const r=t.slice();return r[19]=e[n],r}function Pi(t){let e,n,r;return{c(){e=d("line"),y(e,"y1",n=t[1](t[19].tMin)),y(e,"y2",r=t[1](t[19].tMax)),y(e,"class","svelte-b7ki1s")},m(t,n){s(t,e,n)},p(t,i){34&i&&n!==(n=t[1](t[19].tMin))&&y(e,"y1",n),34&i&&r!==(r=t[1](t[19].tMax))&&y(e,"y2",r)},d(t){t&&c(e)}}}function Zi(t){let e,n,r,i=t[19].tMin<t[19].trendMin&&Oi(t),o=t[19].tMax>t[19].trendMax&&Ji(t),a=t[19].tMin<t[19].trendMax&&t[19].tMax>t[19].trendMin&&Wi(t);return{c(){i&&i.c(),e=p(),o&&o.c(),n=p(),a&&a.c(),r=p()},m(t,l){i&&i.m(t,l),s(t,e,l),o&&o.m(t,l),s(t,n,l),a&&a.m(t,l),s(t,r,l)},p(t,l){t[19].tMin<t[19].trendMin?i?i.p(t,l):(i=Oi(t),i.c(),i.m(e.parentNode,e)):i&&(i.d(1),i=null),t[19].tMax>t[19].trendMax?o?o.p(t,l):(o=Ji(t),o.c(),o.m(n.parentNode,n)):o&&(o.d(1),o=null),t[19].tMin<t[19].trendMax&&t[19].tMax>t[19].trendMin?a?a.p(t,l):(a=Wi(t),a.c(),a.m(r.parentNode,r)):a&&(a.d(1),a=null)},d(t){i&&i.d(t),t&&c(e),o&&o.d(t),t&&c(n),a&&a.d(t),t&&c(r)}}}function Oi(t){let e,n,r;return{c(){e=d("line"),y(e,"class","colder svelte-b7ki1s"),y(e,"y1",n=t[1](t[19].tMin)),y(e,"y2",r=t[1](Math.min(t[19].tMax,t[19].trendMin)))},m(t,n){s(t,e,n)},p(t,i){34&i&&n!==(n=t[1](t[19].tMin))&&y(e,"y1",n),34&i&&r!==(r=t[1](Math.min(t[19].tMax,t[19].trendMin)))&&y(e,"y2",r)},d(t){t&&c(e)}}}function Ji(t){let e,n,r;return{c(){e=d("line"),y(e,"class","hotter svelte-b7ki1s"),y(e,"y1",n=t[1](t[19].tMax)),y(e,"y2",r=t[1](Math.max(t[19].tMin,t[19].trendMax)))},m(t,n){s(t,e,n)},p(t,i){34&i&&n!==(n=t[1](t[19].tMax))&&y(e,"y1",n),34&i&&r!==(r=t[1](Math.max(t[19].tMin,t[19].trendMax)))&&y(e,"y2",r)},d(t){t&&c(e)}}}function Wi(t){let e,n,r;return{c(){e=d("line"),y(e,"class","normal svelte-b7ki1s"),y(e,"y1",n=t[1](Math.max(t[19].trendMin,t[19].tMin))),y(e,"y2",r=t[1](Math.min(t[19].trendMax,t[19].tMax)))},m(t,n){s(t,e,n)},p(t,i){34&i&&n!==(n=t[1](Math.max(t[19].trendMin,t[19].tMin)))&&y(e,"y1",n),34&i&&r!==(r=t[1](Math.min(t[19].trendMax,t[19].tMax)))&&y(e,"y2",r)},d(t){t&&c(e)}}}function Vi(t){let e,n,r,i,o,a,l,f,h,m,v,b,x=t[4](t[19].date)+"",w=t[19].tMax+"",_=t[19].tMin+"",$=t[1](t[19].tMin)-t[1](t[19].tMax)>30,k=$&&Ii(t);return{c(){e=d("text"),n=g(x),i=d("text"),o=g(w),a=g("°C"),f=d("text"),h=g(_),m=g("°C"),k&&k.c(),b=p(),y(e,"class","date svelte-b7ki1s"),y(e,"y",r=t[1](t[19].tMax)-25),y(i,"y",l=t[1](t[19].tMax)-5),y(i,"class","svelte-b7ki1s"),y(f,"class","min svelte-b7ki1s"),y(f,"y",v=t[1](t[19].tMin)+5)},m(t,r){s(t,e,r),u(e,n),s(t,i,r),u(i,o),u(i,a),s(t,f,r),u(f,h),u(f,m),k&&k.m(t,r),s(t,b,r)},p(t,a){48&a&&x!==(x=t[4](t[19].date)+"")&&M(n,x),34&a&&r!==(r=t[1](t[19].tMax)-25)&&y(e,"y",r),32&a&&w!==(w=t[19].tMax+"")&&M(o,w),34&a&&l!==(l=t[1](t[19].tMax)-5)&&y(i,"y",l),32&a&&_!==(_=t[19].tMin+"")&&M(h,_),34&a&&v!==(v=t[1](t[19].tMin)+5)&&y(f,"y",v),34&a&&($=t[1](t[19].tMin)-t[1](t[19].tMax)>30),$?k?k.p(t,a):(k=Ii(t),k.c(),k.m(b.parentNode,b)):k&&(k.d(1),k=null)},d(t){t&&c(e),t&&c(i),t&&c(f),k&&k.d(t),t&&c(b)}}}function Ii(t){let e,n,r,i,o=t[19].tAvg+"";return{c(){e=d("text"),n=g(o),r=g("°C"),y(e,"class","avg svelte-b7ki1s"),y(e,"x","5"),y(e,"y",i=t[1](t[19].tAvg))},m(t,i){s(t,e,i),u(e,n),u(e,r)},p(t,r){32&r&&o!==(o=t[19].tAvg+"")&&M(n,o),34&r&&i!==(i=t[1](t[19].tAvg))&&y(e,"y",i)},d(t){t&&c(e)}}}function Bi(t){let e,n,r=t[19].tMax>t[19].tMaxAbs&&Xi(t),i=t[19].tMin<t[19].tMinAbs&&Qi(t);return{c(){r&&r.c(),e=p(),i&&i.c(),n=p()},m(t,o){r&&r.m(t,o),s(t,e,o),i&&i.m(t,o),s(t,n,o)},p(t,o){t[19].tMax>t[19].tMaxAbs?r?r.p(t,o):(r=Xi(t),r.c(),r.m(e.parentNode,e)):r&&(r.d(1),r=null),t[19].tMin<t[19].tMinAbs?i?i.p(t,o):(i=Qi(t),i.c(),i.m(n.parentNode,n)):i&&(i.d(1),i=null)},d(t){r&&r.d(t),t&&c(e),i&&i.d(t),t&&c(n)}}}function Xi(t){let e,n,r,i=t[19].labelMaxRecord&&Gi(t);return{c(){e=d("g"),i&&i.c(),n=d("path"),y(n,"d","M0,0 L-4,-4 L 4,-4 Z"),y(n,"class","svelte-b7ki1s"),y(e,"class","record high svelte-b7ki1s"),y(e,"transform",r="translate(0, "+(t[1](t[19].tMax)-7)+")")},m(t,r){s(t,e,r),i&&i.m(e,null),u(e,n)},p(t,o){t[19].labelMaxRecord?i?i.p(t,o):(i=Gi(t),i.c(),i.m(e,n)):i&&(i.d(1),i=null),34&o&&r!==(r="translate(0, "+(t[1](t[19].tMax)-7)+")")&&y(e,"transform",r)},d(t){t&&c(e),i&&i.d()}}}function Gi(t){let e,n,r=t[19].tMax+"";return{c(){e=d("text"),n=g(r),y(e,"y","-15"),y(e,"class","svelte-b7ki1s")},m(t,r){s(t,e,r),u(e,n)},p(t,e){32&e&&r!==(r=t[19].tMax+"")&&M(n,r)},d(t){t&&c(e)}}}function Qi(t){let e,n,r,i=t[19].labelMinRecord&&Ki(t);return{c(){e=d("g"),i&&i.c(),n=d("path"),y(n,"d","M0,0 L-4,4 L 4,4 Z"),y(n,"class","svelte-b7ki1s"),y(e,"class","record low svelte-b7ki1s"),y(e,"transform",r="translate(0, "+(t[1](t[19].tMin)+7)+")")},m(t,r){s(t,e,r),i&&i.m(e,null),u(e,n)},p(t,o){t[19].labelMinRecord?i?i.p(t,o):(i=Ki(t),i.c(),i.m(e,n)):i&&(i.d(1),i=null),34&o&&r!==(r="translate(0, "+(t[1](t[19].tMin)+7)+")")&&y(e,"transform",r)},d(t){t&&c(e),i&&i.d()}}}function Ki(t){let e,n,r=t[19].tMin+"";return{c(){e=d("text"),n=g(r),y(e,"y","15"),y(e,"class","svelte-b7ki1s")},m(t,r){s(t,e,r),u(e,n)},p(t,e){32&e&&r!==(r=t[19].tMin+"")&&M(n,r)},d(t){t&&c(e)}}}function to(t){let e,n,r,i,o,a,l=t[3]&&ro(t[3],t[19].date);function f(t,e){return t[6]?Zi:Pi}let h=f(t),g=h(t),m=l&&Vi(t),v=t[7]&&!t[3]&&Bi(t);return{c(){e=d("g"),g.c(),n=d("circle"),m&&m.c(),o=p(),v&&v.c(),y(n,"r",r=t[3]&&ro(t[3],t[19].date)?3:2),y(n,"transform",i="translate(0,"+t[1](t[19].tAvg)+")"),y(n,"class","svelte-b7ki1s"),_(n,"hotter",t[6]&&t[19].tAvg>t[19].trendMax),_(n,"colder",t[6]&&t[19].tAvg<t[19].trendMin),_(n,"normal",t[6]&&t[19].tAvg>=t[19].trendMin&&t[19].tAvg<=t[19].trendMax),y(e,"class","day svelte-b7ki1s"),y(e,"transform",a="translate("+t[0](t[19].date)+",0)"),_(e,"highlight",t[3]&&ro(t[3],t[19].date)),_(e,"sameMonth",t[3]&&no(t[3],t[19].date))},m(t,r){s(t,e,r),g.m(e,null),u(e,n),m&&m.m(e,null),u(e,o),v&&v.m(e,null)},p(t,u){h===(h=f(t))&&g?g.p(t,u):(g.d(1),g=h(t),g&&(g.c(),g.m(e,n))),40&u&&r!==(r=t[3]&&ro(t[3],t[19].date)?3:2)&&y(n,"r",r),34&u&&i!==(i="translate(0,"+t[1](t[19].tAvg)+")")&&y(n,"transform",i),96&u&&_(n,"hotter",t[6]&&t[19].tAvg>t[19].trendMax),96&u&&_(n,"colder",t[6]&&t[19].tAvg<t[19].trendMin),96&u&&_(n,"normal",t[6]&&t[19].tAvg>=t[19].trendMin&&t[19].tAvg<=t[19].trendMax),40&u&&(l=t[3]&&ro(t[3],t[19].date)),l?m?m.p(t,u):(m=Vi(t),m.c(),m.m(e,o)):m&&(m.d(1),m=null),t[7]&&!t[3]?v?v.p(t,u):(v=Bi(t),v.c(),v.m(e,null)):v&&(v.d(1),v=null),33&u&&a!==(a="translate("+t[0](t[19].date)+",0)")&&y(e,"transform",a),40&u&&_(e,"highlight",t[3]&&ro(t[3],t[19].date)),40&u&&_(e,"sameMonth",t[3]&&no(t[3],t[19].date))},d(t){t&&c(e),g.d(),m&&m.d(),v&&v.d()}}}function eo(e){let n,i,o=e[5],a=[];for(let t=0;t<o.length;t+=1)a[t]=to(qi(e,o,t));return{c(){n=d("g");for(let t=0;t<a.length;t+=1)a[t].c();y(n,"class","svelte-b7ki1s"),_(n,"highlight",e[3]),i=[v(window,"mousemove",e[8]),v(window,"mouseout",e[17])]},m(t,r){s(t,n,r);for(let t=0;t<a.length;t+=1)a[t].m(n,null);e[18](n)},p(t,[e]){if(251&e){let r;for(o=t[5],r=0;r<o.length;r+=1){const i=qi(t,o,r);a[r]?a[r].p(i,e):(a[r]=to(i),a[r].c(),a[r].m(n,null))}for(;r<a.length;r+=1)a[r].d(1);a.length=o.length}8&e&&_(n,"highlight",t[3])},i:t,o:t,d(t){t&&c(n),f(a,t),e[18](null),r(i)}}}function no(t,e){return function(t,e){return t.getFullYear()===e.getFullYear()}(t,e)&&t.getMonth()===e.getMonth()}function ro(t,e){return no(t,e)&&t.getDate()===e.getDate()}function io(t,e,n){let r,i,o,l,u,s;a(t,ue,t=>n(11,r=t)),a(t,he,t=>n(12,i=t)),a(t,le,t=>n(14,o=t)),a(t,ie,t=>n(15,l=t)),a(t,se,t=>n(6,u=t)),a(t,ce,t=>n(7,s=t));let{xScale:c}=e,{yScale:f}=e,{data:h}=e,{grouped:d}=e;const g=ve("%Y-%m-%d");let m,p;let v,y,M;return t.$set=t=>{"xScale"in t&&n(0,c=t.xScale),"yScale"in t&&n(1,f=t.yScale),"data"in t&&n(9,h=t.data),"grouped"in t&&n(10,d=t.grouped)},t.$$.update=()=>{6144&t.$$.dirty&&n(4,v=t=>"de"===r?`${t.getDate()}. ${i.monthShort[t.getMonth()]}`:`${i.monthShort[t.getMonth()]} ${t.getDate()}`),49664&t.$$.dirty&&n(13,y=h.filter(t=>t.dateRaw>=g(o)&&t.dateRaw<=g(l))),9408&t.$$.dirty&&n(5,M=y.map(t=>{if(u){const e=d.find(e=>e.dateRaw===t.dateRaw);e&&(t.trendMin=e.tMin,t.trendMax=e.tMax,t.tMinAbs=e.tMinAbs,t.tMaxAbs=e.tMaxAbs)}return t}).map((t,e)=>(s&&(t.tMax>t.tMaxAbs||t.tMin<t.tMinAbs)&&(t.labelMaxRecord=!0,t.labelMinRecord=!0,y.slice(Math.max(0,e-7),e+8).forEach(e=>{t!=e&&e.tMax>e.tMaxAbs&&e.tMax>=t.tMax&&(t.labelMaxRecord=!1),t!=e&&e.tMin<e.tMinAbs&&e.tMin<=t.tMin&&(t.labelMinRecord=!1)})),t)))},[c,f,m,p,v,M,u,s,function(t){const[e,r]=function(t,e){var n=t.ownerSVGElement||t;if(n.createSVGPoint){var r=n.createSVGPoint();return r.x=e.clientX,r.y=e.clientY,[(r=r.matrixTransform(t.getScreenCTM().inverse())).x,r.y]}var i=t.getBoundingClientRect();return[e.clientX-i.left-t.clientLeft,e.clientY-i.top-t.clientTop]}(m,t),i=c.invert(e),o=f.invert(r);n(3,p=o>=f.domain()[0]&&o<=f.domain()[1]?i:null)},h,d,r,i,y,o,l,g,()=>n(3,p=null),function(t){C[t?"unshift":"push"](()=>{n(2,m=t)})}]}class oo extends Q{constructor(t){super(),G(this,t,io,eo,o,{xScale:0,yScale:1,data:9,grouped:10})}}function ao(e){let n,r,i,o,a;return{c(){n=h("div"),r=h("input"),i=m(),o=h("label"),y(r,"type","checkbox"),y(r,"class","custom-control-input"),y(r,"id",e[2]),y(o,"class","custom-control-label"),y(o,"for",e[2]),y(n,"class","custom-control custom-checkbox svelte-2esays"),a=v(r,"change",e[3])},m(t,a){s(t,n,a),u(n,r),r.checked=e[0],u(n,i),u(n,o),o.innerHTML=e[1]},p(t,[e]){1&e&&(r.checked=t[0]),2&e&&(o.innerHTML=t[1])},i:t,o:t,d(t){t&&c(n),a()}}}function lo(t,e,n){let{value:r}=e,{label:i}=e;const o=`checkbox-${Math.round(1e6*Math.random()).toString(30)}`;return t.$set=t=>{"value"in t&&n(0,r=t.value),"label"in t&&n(1,i=t.label)},[r,i,o,function(){r=this.checked,n(0,r)}]}class uo extends Q{constructor(t){super(),G(this,t,lo,ao,o,{value:0,label:1})}}function so(t,e,n){const r=t.slice();return r[40]=e[n],r}function co(t,e,n){const r=t.slice();return r[43]=e[n],r}function fo(e){let n,r,i;return{c(){n=h("option"),r=g(e[43]),n.__value=i=e[43],n.value=n.__value},m(t,e){s(t,n,e),u(n,r)},p:t,d(t){t&&c(n)}}}function ho(e){let n,r,i;return{c(){n=h("option"),r=g(e[40]),n.__value=i=e[40],n.value=n.__value},m(t,e){s(t,n,e),u(n,r)},p:t,d(t){t&&c(n)}}}function go(t){let e,n,i,o,a,l,d,p,w,_,$,k,T,S,A,D,N,F,U,Y,E,R,z,j,q,P,J,W,G,Q,K,tt,et,nt,rt,it,ot,at,lt,ut,st,ct,ft,ht,dt,gt,mt,pt,vt,yt,Mt,bt,xt,wt,_t,$t,kt,Tt,St,At,Ct,Dt,Nt,Ft,Ut,Yt,Lt,Ht,Et,Rt,zt,jt,qt,Pt,Zt,Ot,Jt,Wt,Vt,It,Bt,Xt,Gt,Qt,Kt,te,ee,ne,re,ie,oe,ae,le,ue,se,ce,fe,he,de,ge,me,pe,ve,ye,Me,be,xe,we,_e,$e,ke,Te,Se=t[10].source+"",Ae=t[10].visBy+"",Ce=t[10].today+"",De=t[10].intro+"",Ne=t[10].overFullPeriod+"",Fe=t[10].anomaliesNote+"",Ue=t[10].recordsNote+"",Ye=t[10].overPeriod+"",Le=t[14]-1+"",He=!1,Ee=(1===t[17]?t[10].day:t[10].days)+"";const Re=new fi({props:{data:t[0],layers:t[4]}});function ze(e){t[31].call(null,e)}let je={label:t[10].absRecords};void 0!==t[1]&&(je.value=t[1]);const qe=new uo({props:je});function Pe(e){t[32].call(null,e)}C.push(()=>V(qe,"value",ze));let Ze={label:t[10].showAnomalies};void 0!==t[11]&&(Ze.value=t[11]);const Oe=new uo({props:Ze});function Je(e){t[33].call(null,e)}C.push(()=>V(Oe,"value",Pe));let We={label:t[10].showRecords};void 0!==t[12]&&(We.value=t[12]);const Ve=new uo({props:We});function Ie(e){t[34].call(null,e)}C.push(()=>V(Ve,"value",Je));let Be={label:t[10].avgHighLow};void 0!==t[3]&&(Be.value=t[3]);const Xe=new uo({props:Be});function Ge(e){t[35].call(null,e)}C.push(()=>V(Xe,"value",Ie));let Qe={label:t[10].avgMedian};void 0!==t[2]&&(Qe.value=t[2]);const Ke=new uo({props:Qe});C.push(()=>V(Ke,"value",Ge));let tn=[5,10,15,20,25,30,35,40,50,60,70,80],en=[];for(let e=0;e<12;e+=1)en[e]=fo(co(t,tn,e));function nn(){He=!0,t[37].call(ne)}let rn=[0,1,2,3,4,5,7,15],on=[];for(let e=0;e<8;e+=1)on[e]=ho(so(t,rn,e));return{c(){I(Re.$$.fragment),e=m(),n=h("div"),i=h("div"),o=g(Se),a=g(": "),l=h("a"),d=g("Deutscher Wetterdienst"),w=g(" / "),_=h("a"),$=g("Climate Data Center"),T=m(),S=h("span"),A=g(Ae),D=g(": "),N=h("a"),N.textContent="Gregor Aisch",F=m(),U=h("div"),Y=h("div"),E=h("div"),R=h("div"),z=h("button"),z.textContent="◂◂◂",j=m(),q=h("button"),q.textContent="◂◂",P=m(),J=h("button"),J.textContent="◂",W=m(),G=h("div"),Q=h("input"),K=m(),tt=h("div"),et=h("div"),nt=h("button"),nt.textContent="▸",rt=m(),it=h("button"),it.textContent="▸▸",ot=m(),at=h("button"),at.textContent="▸▸▸",lt=m(),ut=h("div"),st=h("button"),ct=g(Ce),ft=m(),ht=h("div"),dt=h("div"),gt=h("p"),mt=m(),pt=h("div"),vt=h("div"),yt=h("div"),I(qe.$$.fragment),bt=m(),xt=h("p"),wt=g(Ne),_t=m(),I(Oe.$$.fragment),kt=m(),Tt=h("p"),St=g(Fe),At=m(),I(Ve.$$.fragment),Dt=m(),Nt=h("p"),Ft=g(Ue),Ut=m(),Yt=h("div"),Lt=h("div"),I(Xe.$$.fragment),Et=m(),I(Ke.$$.fragment),zt=m(),jt=h("p"),qt=g(Ye),Pt=m(),Zt=h("b"),Ot=g(t[13]),Jt=g(" - "),Wt=g(Le),Vt=g("."),It=m(),Bt=h("div"),Xt=h("label"),Xt.textContent="Vergleichszeitraum ändern:",Gt=m(),Qt=h("select");for(let t=0;t<12;t+=1)en[t].c();Kt=m(),te=h("label"),te.textContent="Jahre ab",ee=m(),ne=h("input"),ie=m(),oe=h("div"),ae=h("label"),ae.textContent="Normalbereich:",le=m(),ue=h("select"),se=h("option"),se.textContent="Median (Tiefst- u. Höchstwert)",fe=h("option"),fe.textContent="35pct. Tiefst - 65pct Höchst",de=h("option"),de.textContent="25pct. Tiefst - 75pct Höchst",me=h("option"),me.textContent="keiner",ve=m(),ye=h("div"),Me=h("label"),Me.textContent="Glättung: ±",be=m(),xe=h("select");for(let t=0;t<8;t+=1)on[t].c();we=m(),_e=h("label"),$e=g(Ee),y(l,"href",p="https://www.dwd.de/"+t[9].toUpperCase()),y(l,"target","_blank"),y(_,"target","_blank"),y(_,"href",k=t[10].cdcUrl),y(N,"href","https://vis4.net"),y(S,"class","ml-4"),y(i,"class","col-auto"),y(z,"class","btn btn-outline-secondary"),y(q,"class","btn btn-outline-secondary"),y(J,"class","btn btn-outline-secondary"),y(R,"class","btn-group btn-group-toggle"),y(R,"data-toggle","buttons"),y(E,"class","col-auto"),y(Q,"class","form-control svelte-5kb5qa"),y(Q,"type","date"),Q.value=t[8],Q.required=!0,y(G,"class","col-auto form-group svelte-5kb5qa"),y(nt,"class","btn btn-outline-secondary"),y(it,"class","btn btn-outline-secondary"),y(at,"class","btn btn-outline-secondary"),y(et,"class","btn-group btn-group-toggle"),y(et,"data-toggle","buttons"),y(tt,"class","col-auto"),y(st,"class","btn btn-outline-secondary"),y(ut,"class","col-auto"),y(Y,"class","form-row"),y(U,"class","col-auto"),y(n,"class","row justify-content-between"),y(dt,"class","col-md-6 col-lg-4 col-xl-4"),y(xt,"class","text-muted"),y(Tt,"class","text-muted"),y(Nt,"class","text-muted"),y(yt,"class","col-xl-4"),y(Lt,"class","form-inline svelte-5kb5qa"),y(jt,"class","text-muted"),y(Xt,"class","my-1 mr-2"),y(Qt,"class","custom-select custom-select-sm"),void 0===t[15]&&L(()=>t[36].call(Qt)),y(te,"class","my-1 mr-1 ml-1 text-muted"),y(ne,"type","number"),y(ne,"class","form-control form-control-sm svelte-5kb5qa"),y(ne,"min",t[5]),y(ne,"max",re=t[6]-t[15]),y(Bt,"class","form-inline svelte-5kb5qa"),y(ae,"class","my-1 mr-2"),se.__value=ce=50,se.value=se.__value,fe.__value=he=35,fe.value=fe.__value,de.__value=ge=25,de.value=de.__value,me.__value=pe=100,me.value=me.__value,y(ue,"class","custom-select custom-select-sm"),void 0===t[16]&&L(()=>t[38].call(ue)),y(oe,"class","form-inline svelte-5kb5qa"),y(Me,"class","my-1 mr-2"),y(xe,"class","custom-select custom-select-sm"),void 0===t[17]&&L(()=>t[39].call(xe)),y(_e,"class","my-1 mr-1 ml-1 text-muted"),y(ye,"class","form-inline svelte-5kb5qa"),y(Yt,"class","col-xl"),y(vt,"class","row"),y(pt,"class","col-md-6 col-lg-8 col-xl-8"),y(ht,"class","row"),Te=[v(window,"mouseup",t[24]),v(z,"mousedown",t[22]),v(q,"mousedown",t[20]),v(J,"mousedown",t[18]),v(Q,"change",t[25]),v(nt,"mousedown",t[19]),v(it,"mousedown",t[21]),v(at,"mousedown",t[23]),v(st,"mousedown",t[30]),v(Qt,"change",t[36]),v(ne,"input",nn),v(ue,"change",t[38]),v(xe,"change",t[39])]},m(r,c){B(Re,r,c),s(r,e,c),s(r,n,c),u(n,i),u(i,o),u(i,a),u(i,l),u(l,d),u(i,w),u(i,_),u(_,$),u(i,T),u(i,S),u(S,A),u(S,D),u(S,N),u(n,F),u(n,U),u(U,Y),u(Y,E),u(E,R),u(R,z),u(R,j),u(R,q),u(R,P),u(R,J),u(Y,W),u(Y,G),u(G,Q),u(Y,K),u(Y,tt),u(tt,et),u(et,nt),u(et,rt),u(et,it),u(et,ot),u(et,at),u(Y,lt),u(Y,ut),u(ut,st),u(st,ct),s(r,ft,c),s(r,ht,c),u(ht,dt),u(dt,gt),gt.innerHTML=De,u(ht,mt),u(ht,pt),u(pt,vt),u(vt,yt),B(qe,yt,null),u(yt,bt),u(yt,xt),u(xt,wt),u(yt,_t),B(Oe,yt,null),u(yt,kt),u(yt,Tt),u(Tt,St),u(yt,At),B(Ve,yt,null),u(yt,Dt),u(yt,Nt),u(Nt,Ft),u(vt,Ut),u(vt,Yt),u(Yt,Lt),B(Xe,Lt,null),u(Lt,Et),B(Ke,Lt,null),u(Yt,zt),u(Yt,jt),u(jt,qt),u(jt,Pt),u(jt,Zt),u(Zt,Ot),u(Zt,Jt),u(Zt,Wt),u(jt,Vt),u(Yt,It),u(Yt,Bt),u(Bt,Xt),u(Bt,Gt),u(Bt,Qt);for(let t=0;t<12;t+=1)en[t].m(Qt,null);x(Qt,t[15]),u(Bt,Kt),u(Bt,te),u(Bt,ee),u(Bt,ne),b(ne,t[13]),u(Yt,ie),u(Yt,oe),u(oe,ae),u(oe,le),u(oe,ue),u(ue,se),u(ue,fe),u(ue,de),u(ue,me),x(ue,t[16]),u(Yt,ve),u(Yt,ye),u(ye,Me),u(ye,be),u(ye,xe);for(let t=0;t<8;t+=1)on[t].m(xe,null);x(xe,t[17]),u(ye,we),u(ye,_e),u(_e,$e),ke=!0},p(t,e){const n={};1&e[0]&&(n.data=t[0]),16&e[0]&&(n.layers=t[4]),Re.$set(n),(!ke||1024&e[0])&&Se!==(Se=t[10].source+"")&&M(o,Se),(!ke||512&e[0]&&p!==(p="https://www.dwd.de/"+t[9].toUpperCase()))&&y(l,"href",p),(!ke||1024&e[0]&&k!==(k=t[10].cdcUrl))&&y(_,"href",k),(!ke||1024&e[0])&&Ae!==(Ae=t[10].visBy+"")&&M(A,Ae),(!ke||256&e[0])&&(Q.value=t[8]),(!ke||1024&e[0])&&Ce!==(Ce=t[10].today+"")&&M(ct,Ce),(!ke||1024&e[0])&&De!==(De=t[10].intro+"")&&(gt.innerHTML=De);const r={};1024&e[0]&&(r.label=t[10].absRecords),!Mt&&2&e[0]&&(Mt=!0,r.value=t[1],H(()=>Mt=!1)),qe.$set(r),(!ke||1024&e[0])&&Ne!==(Ne=t[10].overFullPeriod+"")&&M(wt,Ne);const i={};1024&e[0]&&(i.label=t[10].showAnomalies),!$t&&2048&e[0]&&($t=!0,i.value=t[11],H(()=>$t=!1)),Oe.$set(i),(!ke||1024&e[0])&&Fe!==(Fe=t[10].anomaliesNote+"")&&M(St,Fe);const a={};1024&e[0]&&(a.label=t[10].showRecords),!Ct&&4096&e[0]&&(Ct=!0,a.value=t[12],H(()=>Ct=!1)),Ve.$set(a),(!ke||1024&e[0])&&Ue!==(Ue=t[10].recordsNote+"")&&M(Ft,Ue);const u={};1024&e[0]&&(u.label=t[10].avgHighLow),!Ht&&8&e[0]&&(Ht=!0,u.value=t[3],H(()=>Ht=!1)),Xe.$set(u);const s={};1024&e[0]&&(s.label=t[10].avgMedian),!Rt&&4&e[0]&&(Rt=!0,s.value=t[2],H(()=>Rt=!1)),Ke.$set(s),(!ke||1024&e[0])&&Ye!==(Ye=t[10].overPeriod+"")&&M(qt,Ye),(!ke||8192&e[0])&&M(Ot,t[13]),(!ke||16384&e[0])&&Le!==(Le=t[14]-1+"")&&M(Wt,Le),32768&e[0]&&x(Qt,t[15]),(!ke||32&e[0])&&y(ne,"min",t[5]),(!ke||32832&e[0]&&re!==(re=t[6]-t[15]))&&y(ne,"max",re),!He&&8192&e[0]&&b(ne,t[13]),He=!1,65536&e[0]&&x(ue,t[16]),131072&e[0]&&x(xe,t[17]),(!ke||132096&e[0])&&Ee!==(Ee=(1===t[17]?t[10].day:t[10].days)+"")&&M($e,Ee)},i(t){ke||(Z(Re.$$.fragment,t),Z(qe.$$.fragment,t),Z(Oe.$$.fragment,t),Z(Ve.$$.fragment,t),Z(Xe.$$.fragment,t),Z(Ke.$$.fragment,t),ke=!0)},o(t){O(Re.$$.fragment,t),O(qe.$$.fragment,t),O(Oe.$$.fragment,t),O(Ve.$$.fragment,t),O(Xe.$$.fragment,t),O(Ke.$$.fragment,t),ke=!1},d(t){X(Re,t),t&&c(e),t&&c(n),t&&c(ft),t&&c(ht),X(qe),X(Oe),X(Ve),X(Xe),X(Ke),f(en,t),f(on,t),r(Te)}}}function mo(t,e,n){let r,i,o,u,s,c,f,h,d,g;a(t,ie,t=>n(7,r=t)),a(t,ue,t=>n(9,i=t)),a(t,he,t=>n(10,o=t)),a(t,se,t=>n(11,u=t)),a(t,ce,t=>n(12,s=t)),a(t,te,t=>n(13,c=t)),a(t,ne,t=>n(14,f=t)),a(t,ee,t=>n(15,h=t)),a(t,re,t=>n(16,d=t)),a(t,fe,t=>n(17,g=t));let m,{data:p}=e;function v(t,e,n=300){let i=new Date(r);i[`set${t}`](i[`get${t}`]()+e),i>=new Date&&(i=new Date),l(ie,r=i),M(),m=setTimeout(()=>v(t,e,0),n)}const y=ve("%Y-%m-%d");function M(){clearInterval(m)}let b,x,_,$,k,T,S;return t.$set=t=>{"data"in t&&n(0,p=t.data)},t.$$.update=()=>{14&t.$$.dirty[0]&&n(4,$=[...b?[Yi]:[],..._?[ji]:[],oo,...x?[Ei]:[]]),1&t.$$.dirty[0]&&n(5,k=p[p.length-1].date.getFullYear()),1&t.$$.dirty[0]&&n(6,T=p[0].date.getFullYear()),128&t.$$.dirty[0]&&n(8,S=y(r))},n(1,b=!0),n(2,x=!0),n(3,_=!0),[p,b,x,_,$,k,T,r,S,i,o,u,s,c,f,h,d,g,()=>v("Date",-1),()=>v("Date",1),()=>v("Month",-1),()=>v("Month",1),()=>v("FullYear",-1),()=>v("FullYear",1),M,function(t){l(ie,r=new Date(t.target.value))},m,v,y,function(){l(ue,i="de"===i?"en":"de")},()=>l(ie,r=new Date),function(t){b=t,n(1,b)},function(t){u=t,se.set(u)},function(t){s=t,ce.set(s)},function(t){_=t,n(3,_)},function(t){x=t,n(2,x)},function(){h=w(this),ee.set(h)},function(){var t;t=this.value,c=""===t?void 0:+t,te.set(c)},function(){d=w(this),re.set(d)},function(){g=w(this),fe.set(g)}]}class po extends Q{constructor(t){super(),G(this,t,mo,go,o,{data:0},[-1,-1])}}function vo(t,e,n){const r=t.slice();return r[4]=e[n],r}function yo(t){let e,n,r,i,o,a,l,f=t[4].toUpperCase()+"";return{c(){e=h("label"),n=h("input"),i=m(),o=g(f),a=m(),n.__value=r=t[4],n.value=n.__value,y(n,"type","radio"),y(n,"name","options"),t[3][0].push(n),y(e,"class","btn btn-sm btn-outline-secondary"),_(e,"active",t[0]===t[4]),l=v(n,"change",t[2])},m(r,l){s(r,e,l),u(e,n),n.checked=n.__value===t[0],u(e,i),u(e,o),u(e,a)},p(t,r){1&r&&(n.checked=n.__value===t[0]),3&r&&_(e,"active",t[0]===t[4])},d(r){r&&c(e),t[3][0].splice(t[3][0].indexOf(n),1),l()}}}function Mo(e){let n,r=e[1],i=[];for(let t=0;t<r.length;t+=1)i[t]=yo(vo(e,r,t));return{c(){n=h("div");for(let t=0;t<i.length;t+=1)i[t].c();y(n,"class","btn-group btn-group-toggle svelte-1eggmks"),y(n,"data-toggle","buttons")},m(t,e){s(t,n,e);for(let t=0;t<i.length;t+=1)i[t].m(n,null)},p(t,[e]){if(3&e){let o;for(r=t[1],o=0;o<r.length;o+=1){const a=vo(t,r,o);i[o]?i[o].p(a,e):(i[o]=yo(a),i[o].c(),i[o].m(n,null))}for(;o<i.length;o+=1)i[o].d(1);i.length=r.length}},i:t,o:t,d(t){t&&c(n),f(i,t)}}}function bo(t,e,n){let r;a(t,ue,t=>n(0,r=t));return[r,["de","en"],function(){r=this.__value,ue.set(r)},[[]]]}class xo extends Q{constructor(t){super(),G(this,t,bo,Mo,o,{})}}function wo(t){let e,n,r,i,o,a,l,f,d,p,v,b,x,w,_,$,k,T,S,A,C,D,N,F,U,Y,L,H,E,R,z,j,q,P,Z,O,J,W,V,I,B,X,G,Q,K=t[0].name+"",tt=t[0].state+"",et=t[0].id+"",nt=t[1].timerange+"",rt=t[1].monthLong[t[0].from.getMonth()]+"",it=t[0].from.getFullYear()+"",ot=t[1].to+"",at=t[1].monthLong[t[0].to.getMonth()]+"",lt=t[0].to.getFullYear()+"",ut=t[0].lat+"",st=t[0].lon+"",ct=t[1].altitude+"",ft=t[0].altitude+"";return{c(){e=h("h2"),n=g(K),r=g(", "),i=g(tt),o=m(),a=h("div"),l=h("div"),f=h("div"),d=h("b"),d.textContent="ID:",p=m(),v=h("tt"),b=g(et),x=m(),w=h("div"),_=h("b"),$=g(nt),k=g(":"),T=m(),S=g(rt),A=m(),C=g(it),D=m(),N=g(ot),F=m(),U=g(at),Y=m(),L=g(lt),H=m(),E=h("div"),R=h("b"),R.textContent="Lat/Lon:",z=m(),j=h("a"),q=g(ut),P=g(", "),Z=g(st),J=m(),W=h("div"),V=h("b"),I=g(ct),B=g(":"),X=m(),G=g(ft),Q=g("m"),y(f,"class","col-sm-auto"),y(w,"class","col-sm-auto"),y(j,"target","_blank"),y(j,"href",O="https://www.openstreetmap.org/#map=19/"+t[0].lat+"/"+t[0].lon),y(E,"class","col-sm-auto"),y(W,"class","col-sm-auto"),y(l,"class","row"),y(a,"class","info")},m(t,c){s(t,e,c),u(e,n),u(e,r),u(e,i),s(t,o,c),s(t,a,c),u(a,l),u(l,f),u(f,d),u(f,p),u(f,v),u(v,b),u(f,x),u(l,w),u(w,_),u(_,$),u(_,k),u(w,T),u(w,S),u(w,A),u(w,C),u(w,D),u(w,N),u(w,F),u(w,U),u(w,Y),u(w,L),u(l,H),u(l,E),u(E,R),u(E,z),u(E,j),u(j,q),u(j,P),u(j,Z),u(l,J),u(l,W),u(W,V),u(V,I),u(V,B),u(W,X),u(W,G),u(W,Q)},p(t,e){1&e&&K!==(K=t[0].name+"")&&M(n,K),1&e&&tt!==(tt=t[0].state+"")&&M(i,tt),1&e&&et!==(et=t[0].id+"")&&M(b,et),2&e&&nt!==(nt=t[1].timerange+"")&&M($,nt),3&e&&rt!==(rt=t[1].monthLong[t[0].from.getMonth()]+"")&&M(S,rt),1&e&&it!==(it=t[0].from.getFullYear()+"")&&M(C,it),2&e&&ot!==(ot=t[1].to+"")&&M(N,ot),3&e&&at!==(at=t[1].monthLong[t[0].to.getMonth()]+"")&&M(U,at),1&e&&lt!==(lt=t[0].to.getFullYear()+"")&&M(L,lt),1&e&&ut!==(ut=t[0].lat+"")&&M(q,ut),1&e&&st!==(st=t[0].lon+"")&&M(Z,st),1&e&&O!==(O="https://www.openstreetmap.org/#map=19/"+t[0].lat+"/"+t[0].lon)&&y(j,"href",O),2&e&&ct!==(ct=t[1].altitude+"")&&M(I,ct),1&e&&ft!==(ft=t[0].altitude+"")&&M(G,ft)},d(t){t&&c(e),t&&c(o),t&&c(a)}}}function _o(e){let n,r=e[0]&&wo(e);return{c(){r&&r.c(),n=p()},m(t,e){r&&r.m(t,e),s(t,n,e)},p(t,[e]){t[0]?r?r.p(t,e):(r=wo(t),r.c(),r.m(n.parentNode,n)):r&&(r.d(1),r=null)},i:t,o:t,d(t){r&&r.d(t),t&&c(n)}}}function $o(t,e,n){let r;a(t,he,t=>n(1,r=t));let{station:i}=e;return t.$set=t=>{"station"in t&&n(0,i=t.station)},[i,r]}class ko extends Q{constructor(t){super(),G(this,t,$o,_o,o,{station:0})}}const{window:To}=W;function So(t,e,n){const r=t.slice();return r[20]=e[n],r}function Ao(t,e,n){const r=t.slice();return r[4]=e[n],r}function Co(e){let n,r,i,o=e[16].message+"";return{c(){n=h("p"),r=g("Something went wrong: "),i=g(o)},m(t,e){s(t,n,e),u(n,r),u(n,i)},p:t,d(t){t&&c(n)}}}function Do(t){let e,n,r,i,o,a,l,d=t[3].selectStation+"",p=t[2],b=[];for(let e=0;e<p.length;e+=1)b[e]=Fo(Ao(t,p,e));return{c(){e=h("small"),n=g(d),r=m(),i=h("select"),o=h("option"),o.textContent="(select station)";for(let t=0;t<b.length;t+=1)b[t].c();y(e,"class","form-text text-muted"),o.__value=a=null,o.value=o.__value,y(i,"class","custom-select svelte-1doxtus"),void 0===t[0]&&L(()=>t[14].call(i)),l=v(i,"change",t[14])},m(a,l){s(a,e,l),u(e,n),s(a,r,l),s(a,i,l),u(i,o);for(let t=0;t<b.length;t+=1)b[t].m(i,null);x(i,t[0])},p(t,e){if(8&e&&d!==(d=t[3].selectStation+"")&&M(n,d),4&e){let n;for(p=t[2],n=0;n<p.length;n+=1){const r=Ao(t,p,n);b[n]?b[n].p(r,e):(b[n]=Fo(r),b[n].c(),b[n].m(i,null))}for(;n<b.length;n+=1)b[n].d(1);b.length=p.length}1&e&&x(i,t[0])},d(t){t&&c(e),t&&c(r),t&&c(i),f(b,t),l()}}}function No(t){let e,n,r,i,o,a,l,f,d=t[20].name+"",m=t[20].from.getFullYear()+"",p=t[20].to.getFullYear()+"";return{c(){e=h("option"),n=g(d),r=g(" ("),i=g(m),o=g(" - "),a=g(p),l=g(")"),e.__value=f=t[20],e.value=e.__value},m(t,c){s(t,e,c),u(e,n),u(e,r),u(e,i),u(e,o),u(e,a),u(e,l)},p(t,r){4&r&&d!==(d=t[20].name+"")&&M(n,d),4&r&&m!==(m=t[20].from.getFullYear()+"")&&M(i,m),4&r&&p!==(p=t[20].to.getFullYear()+"")&&M(a,p),4&r&&f!==(f=t[20])&&(e.__value=f),e.value=e.__value},d(t){t&&c(e)}}}function Fo(t){let e,n,r=t[4],i=[];for(let e=0;e<r.length;e+=1)i[e]=No(So(t,r,e));return{c(){e=h("optgroup");for(let t=0;t<i.length;t+=1)i[t].c();y(e,"label",n=t[4][0].state)},m(t,n){s(t,e,n);for(let t=0;t<i.length;t+=1)i[t].m(e,null)},p(t,o){if(4&o){let n;for(r=t[4],n=0;n<r.length;n+=1){const a=So(t,r,n);i[n]?i[n].p(a,o):(i[n]=No(a),i[n].c(),i[n].m(e,null))}for(;n<i.length;n+=1)i[n].d(1);i.length=r.length}4&o&&n!==(n=t[4][0].state)&&y(e,"label",n)},d(t){t&&c(e),f(i,t)}}}function Uo(e){return{c:t,m:t,p:t,d:t}}function Yo(t){let e,n,r,i={ctx:t,current:null,token:null,pending:Eo,then:Ho,catch:Lo,value:15,error:16,blocks:[,,,]};return J(n=t[1],i),{c(){e=p(),i.block.c()},m(t,n){s(t,e,n),i.block.m(t,i.anchor=n),i.mount=()=>e.parentNode,i.anchor=e,r=!0},p(e,r){if(t=e,i.ctx=t,2&r&&n!==(n=t[1])&&J(n,i));else{const e=t.slice();e[15]=i.resolved,i.block.p(e,r)}},i(t){r||(Z(i.block),r=!0)},o(t){for(let t=0;t<3;t+=1){O(i.blocks[t])}r=!1},d(t){t&&c(e),i.block.d(t),i.token=null,i=null}}}function Lo(e){let n,r,i,o=e[16].message+"";return{c(){n=h("p"),r=g("Something went wrong: "),i=g(o)},m(t,e){s(t,n,e),u(n,r),u(n,i)},p(t,e){2&e&&o!==(o=t[16].message+"")&&M(i,o)},i:t,o:t,d(t){t&&c(n)}}}function Ho(t){let e;const n=new po({props:{data:t[15]}});return{c(){I(n.$$.fragment)},m(t,r){B(n,t,r),e=!0},p(t,e){const r={};2&e&&(r.data=t[15]),n.$set(r)},i(t){e||(Z(n.$$.fragment,t),e=!0)},o(t){O(n.$$.fragment,t),e=!1},d(t){X(n,t)}}}function Eo(e){let n;return{c(){n=h("p"),n.textContent="Daten werden geladen..."},m(t,e){s(t,n,e)},p:t,i:t,o:t,d(t){t&&c(n)}}}function Ro(t){let e,n,r,i,o,a,l,f,d,g,p,M,b,x,w,_,$,k;const T=new xo({}),S=new ko({props:{station:t[0]}});let A={ctx:t,current:null,token:null,pending:Uo,then:Do,catch:Co,value:17,error:16};J(x=t[5],A);let C=t[1]&&Yo(t);return{c(){e=h("header"),n=h("div"),r=h("div"),r.innerHTML='<h1 class="svelte-1doxtus"><span>weather.</span>vis4.net</h1>',i=m(),o=h("div"),I(T.$$.fragment),a=m(),l=h("div"),f=h("div"),d=h("div"),I(S.$$.fragment),g=m(),p=h("div"),M=h("div"),b=h("div"),A.block.c(),w=m(),_=h("main"),C&&C.c(),y(r,"class","col"),y(o,"class","col-auto"),y(n,"class","row"),y(e,"class","container-fluid svelte-1doxtus"),y(d,"class","col-sm"),y(b,"class","col-lg"),y(M,"class","form-row"),y(p,"class","col-sm-4"),y(f,"class","row"),y(l,"class","container-fluid"),y(_,"class","svelte-1doxtus"),k=v(To,"hashchange",t[6])},m(t,c){s(t,e,c),u(e,n),u(n,r),u(n,i),u(n,o),B(T,o,null),s(t,a,c),s(t,l,c),u(l,f),u(f,d),B(S,d,null),u(f,g),u(f,p),u(p,M),u(M,b),A.block.m(b,A.anchor=null),A.mount=()=>b,A.anchor=null,s(t,w,c),s(t,_,c),C&&C.m(_,null),$=!0},p(e,[n]){t=e;const r={};1&n&&(r.station=t[0]),S.$set(r);{const e=t.slice();e[17]=A.resolved,A.block.p(e,n)}t[1]?C?(C.p(t,n),Z(C,1)):(C=Yo(t),C.c(),Z(C,1),C.m(_,null)):C&&(q(),O(C,1,1,()=>{C=null}),P())},i(t){$||(Z(T.$$.fragment,t),Z(S.$$.fragment,t),Z(C),$=!0)},o(t){O(T.$$.fragment,t),O(S.$$.fragment,t),O(C),$=!1},d(t){t&&c(e),X(T),t&&c(a),t&&c(l),X(S),A.block.d(),A.token=null,A=null,t&&c(w),t&&c(_),C&&C.d(),k()}}}function zo(t,e,n){let r,i,o;a(t,ue,t=>n(8,r=t)),a(t,ie,t=>n(9,i=t)),a(t,he,t=>n(3,o=t));const u=ve("%Y/%m/%d"),s=t=>({date:new Date(t.date),dateRaw:t.date,tMin:+t.TNK,tAvg:+t.TMK,tMax:+t.TXK}),c=t=>({...t,from:new Date(t.from),to:new Date(t.to),altitude:+t.altitude});let f,h,d,g=[],m=ht("/data/stations.csv",c).then(async t=>{n(4,g=t.filter(t=>t.from.getFullYear()<=1980&&t.to.getFullYear()>=2019).sort((t,e)=>t.name>e.name?1:t.name<e.name?-1:0)),await(Y(),F),y()});const p=()=>{h&&n(1,d=ht(`/data/stations/${h.id}.csv`,s))};var v;function y(){const t=window.location.hash.match(/^#\/(de|en)\/(\d{5})\/[^\/]+(?:\/(\d{4}\/\d{2}\/\d{2}))?/);if(t){const[e,o,a]=t.slice(1);e&&l(ue,r=e),h&&o===h.id||n(0,h=g.find(t=>t.id===o)),a&&l(ie,i=new Date(a))}}let M;return v=()=>{h!==f&&(f=h,p())},S().$$.before_update.push(v),t.$$.update=()=>{16&t.$$.dirty&&n(2,M=Array.from(vt(g,t=>t.state)).map(([t,e])=>e).sort((t,e)=>t[0].state>e[0].state?1:t[0].state<e[0].state?-1:0)),769&t.$$.dirty&&h&&h.name&&(window.location.hash=`#/${r}/${h.id}/${h.name.toLowerCase().split("(")[0].trim().replace(/[^a-z-]/g,"")}${u(i)<u(new Date)?`/${u(i)}`:""}`)},[h,d,M,o,g,m,y,f,r,i,u,s,c,p,function(){h=w(this),n(0,h),n(2,M),n(4,g)}]}return new class extends Q{constructor(t){super(),G(this,t,zo,Ro,o,{})}}({target:document.body,props:{name:"world"}})}();
//# sourceMappingURL=bundle.js.map
