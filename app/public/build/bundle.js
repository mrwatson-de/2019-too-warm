var app=function(){"use strict";function t(){}function e(t){return t()}function n(){return Object.create(null)}function r(t){t.forEach(e)}function i(t){return"function"==typeof t}function o(t,e){return t!=t?e==e:t!==e||t&&"object"==typeof t||"function"==typeof t}function a(t,e,n){t.$$.on_destroy.push(function(t,e){const n=t.subscribe(e);return n.unsubscribe?()=>n.unsubscribe():n}(e,n))}function l(t,e,n=e){return t.set(n),e}function u(t,e){t.appendChild(e)}function c(t,e,n){t.insertBefore(e,n||null)}function s(t){t.parentNode.removeChild(t)}function f(t,e){for(let n=0;n<t.length;n+=1)t[n]&&t[n].d(e)}function h(t){return document.createElement(t)}function d(t){return document.createElementNS("http://www.w3.org/2000/svg",t)}function g(t){return document.createTextNode(t)}function m(){return g(" ")}function p(){return g("")}function v(t,e,n,r){return t.addEventListener(e,n,r),()=>t.removeEventListener(e,n,r)}function y(t,e,n){null==n?t.removeAttribute(e):t.getAttribute(e)!==n&&t.setAttribute(e,n)}function M(t,e){e=""+e,t.data!==e&&(t.data=e)}function x(t,e){(null!=e||t.value)&&(t.value=e)}function b(t,e,n,r){t.style.setProperty(e,n,r?"important":"")}function w(t,e){for(let n=0;n<t.options.length;n+=1){const r=t.options[n];if(r.__value===e)return void(r.selected=!0)}}function $(t){const e=t.querySelector(":checked")||t.options[0];return e&&e.__value}function _(t,e,n){t.classList[n?"add":"remove"](e)}class T{constructor(t,e=null){this.e=h("div"),this.a=e,this.u(t)}m(t,e=null){for(let n=0;n<this.n.length;n+=1)c(t,this.n[n],e);this.t=t}u(t){this.e.innerHTML=t,this.n=Array.from(this.e.childNodes)}p(t){this.d(),this.u(t),this.m(this.t,this.a)}d(){this.n.forEach(s)}}let k;function S(t){k=t}function A(){if(!k)throw new Error("Function called outside component initialization");return k}const D=[],C=[],N=[],F=[],L=Promise.resolve();let U=!1;function Y(){U||(U=!0,L.then(R))}function H(t){N.push(t)}function E(t){F.push(t)}function R(){const t=new Set;do{for(;D.length;){const t=D.shift();S(t),z(t.$$)}for(;C.length;)C.pop()();for(let e=0;e<N.length;e+=1){const n=N[e];t.has(n)||(n(),t.add(n))}N.length=0}while(D.length);for(;F.length;)F.pop()();U=!1}function z(t){if(null!==t.fragment){t.update(),r(t.before_update);const e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(H)}}const j=new Set;let P;function q(){P={r:0,c:[],p:P}}function J(){P.r||r(P.c),P=P.p}function O(t,e){t&&t.i&&(j.delete(t),t.i(e))}function Z(t,e,n,r){if(t&&t.o){if(j.has(t))return;j.add(t),P.c.push(()=>{j.delete(t),r&&(n&&t.d(1),r())}),t.o(e)}}function V(t,e){const n=e.token={};function r(t,r,i,o){if(e.token!==n)return;e.resolved=o;let a=e.ctx;void 0!==i&&(a=a.slice(),a[i]=o);const l=t&&(e.current=t)(a);let u=!1;e.block&&(e.blocks?e.blocks.forEach((t,n)=>{n!==r&&t&&(q(),Z(t,1,1,()=>{e.blocks[n]=null}),J())}):e.block.d(1),l.c(),O(l,1),l.m(e.mount(),e.anchor),u=!0),e.block=l,e.blocks&&(e.blocks[r]=l),u&&R()}if((i=t)&&"object"==typeof i&&"function"==typeof i.then){const n=A();if(t.then(t=>{S(n),r(e.then,1,e.value,t),S(null)},t=>{S(n),r(e.catch,2,e.error,t),S(null)}),e.current!==e.pending)return r(e.pending,0),!0}else{if(e.current!==e.then)return r(e.then,1,e.value,t),!0;e.resolved=t}var i}const I="undefined"!=typeof window?window:global;function W(t,e,n){const r=t.$$.props[e];void 0!==r&&(t.$$.bound[r]=n,n(t.$$.ctx[r]))}function B(t){t&&t.c()}function X(t,n,o){const{fragment:a,on_mount:l,on_destroy:u,after_update:c}=t.$$;a&&a.m(n,o),H(()=>{const n=l.map(e).filter(i);u?u.push(...n):r(n),t.$$.on_mount=[]}),c.forEach(H)}function Q(t,e){const n=t.$$;null!==n.fragment&&(r(n.on_destroy),n.fragment&&n.fragment.d(e),n.on_destroy=n.fragment=null,n.ctx=[])}function G(e,i,o,a,l,u,c=[-1]){const s=k;S(e);const f=i.props||{},h=e.$$={fragment:null,ctx:null,props:u,update:t,not_equal:l,bound:n(),on_mount:[],on_destroy:[],before_update:[],after_update:[],context:new Map(s?s.$$.context:[]),callbacks:n(),dirty:c};let d=!1;h.ctx=o?o(e,f,(t,n,r=n)=>(h.ctx&&l(h.ctx[t],h.ctx[t]=r)&&(h.bound[t]&&h.bound[t](r),d&&function(t,e){-1===t.$$.dirty[0]&&(D.push(t),Y(),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}(e,t)),n)):[],h.update(),d=!0,r(h.before_update),h.fragment=!!a&&a(h.ctx),i.target&&(i.hydrate?h.fragment&&h.fragment.l(function(t){return Array.from(t.childNodes)}(i.target)):h.fragment&&h.fragment.c(),i.intro&&O(e.$$.fragment),X(e,i.target,i.anchor),R()),S(s)}class K{$destroy(){Q(this,1),this.$destroy=t}$on(t,e){const n=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return n.push(e),()=>{const t=n.indexOf(e);-1!==t&&n.splice(t,1)}}$set(){}}var tt={},et={},nt=34,rt=10,it=13;function ot(t){return new Function("d","return {"+t.map((function(t,e){return JSON.stringify(t)+": d["+e+'] || ""'})).join(",")+"}")}function at(t){var e=Object.create(null),n=[];return t.forEach((function(t){for(var r in t)r in e||n.push(e[r]=r)})),n}function lt(t,e){var n=t+"",r=n.length;return r<e?new Array(e-r+1).join(0)+n:n}function ut(t){var e=t.getUTCHours(),n=t.getUTCMinutes(),r=t.getUTCSeconds(),i=t.getUTCMilliseconds();return isNaN(t)?"Invalid Date":function(t){return t<0?"-"+lt(-t,6):t>9999?"+"+lt(t,6):lt(t,4)}(t.getUTCFullYear())+"-"+lt(t.getUTCMonth()+1,2)+"-"+lt(t.getUTCDate(),2)+(i?"T"+lt(e,2)+":"+lt(n,2)+":"+lt(r,2)+"."+lt(i,3)+"Z":r?"T"+lt(e,2)+":"+lt(n,2)+":"+lt(r,2)+"Z":n||e?"T"+lt(e,2)+":"+lt(n,2)+"Z":"")}var ct=function(t){var e=new RegExp('["'+t+"\n\r]"),n=t.charCodeAt(0);function r(t,e){var r,i=[],o=t.length,a=0,l=0,u=o<=0,c=!1;function s(){if(u)return et;if(c)return c=!1,tt;var e,r,i=a;if(t.charCodeAt(i)===nt){for(;a++<o&&t.charCodeAt(a)!==nt||t.charCodeAt(++a)===nt;);return(e=a)>=o?u=!0:(r=t.charCodeAt(a++))===rt?c=!0:r===it&&(c=!0,t.charCodeAt(a)===rt&&++a),t.slice(i+1,e-1).replace(/""/g,'"')}for(;a<o;){if((r=t.charCodeAt(e=a++))===rt)c=!0;else if(r===it)c=!0,t.charCodeAt(a)===rt&&++a;else if(r!==n)continue;return t.slice(i,e)}return u=!0,t.slice(i,o)}for(t.charCodeAt(o-1)===rt&&--o,t.charCodeAt(o-1)===it&&--o;(r=s())!==et;){for(var f=[];r!==tt&&r!==et;)f.push(r),r=s();e&&null==(f=e(f,l++))||i.push(f)}return i}function i(e,n){return e.map((function(e){return n.map((function(t){return a(e[t])})).join(t)}))}function o(e){return e.map(a).join(t)}function a(t){return null==t?"":t instanceof Date?ut(t):e.test(t+="")?'"'+t.replace(/"/g,'""')+'"':t}return{parse:function(t,e){var n,i,o=r(t,(function(t,r){if(n)return n(t,r-1);i=t,n=e?function(t,e){var n=ot(t);return function(r,i){return e(n(r),i,t)}}(t,e):ot(t)}));return o.columns=i||[],o},parseRows:r,format:function(e,n){return null==n&&(n=at(e)),[n.map(a).join(t)].concat(i(e,n)).join("\n")},formatBody:function(t,e){return null==e&&(e=at(t)),i(t,e).join("\n")},formatRows:function(t){return t.map(o).join("\n")},formatRow:o,formatValue:a}}(",").parse;function st(t){if(!t.ok)throw new Error(t.status+" "+t.statusText);return t.text()}function ft(t,e){return fetch(t,e).then(st)}var ht,dt=(ht=ct,function(t,e,n){return 2===arguments.length&&"function"==typeof e&&(n=e,e=void 0),ft(t,e).then((function(t){return ht(t,n)}))});const gt=[];function mt(e,n=t){let r;const i=[];function a(t){if(o(e,t)&&(e=t,r)){const t=!gt.length;for(let t=0;t<i.length;t+=1){const n=i[t];n[1](),gt.push(n,e)}if(t){for(let t=0;t<gt.length;t+=2)gt[t][0](gt[t+1]);gt.length=0}}}return{set:a,update:function(t){a(t(e))},subscribe:function(o,l=t){const u=[o,l];return i.push(u),1===i.length&&(r=n(a)||t),o(e),()=>{const t=i.indexOf(u);-1!==t&&i.splice(t,1),0===i.length&&(r(),r=null)}}}}function pt(e,n,o){const a=!Array.isArray(e),l=a?[e]:e,u=n.length<2;return{subscribe:mt(o,e=>{let o=!1;const c=[];let s=0,f=t;const h=()=>{if(s)return;f();const r=n(a?c[0]:c,e);u?e(r):f=i(r)?r:t},d=l.map((t,e)=>t.subscribe(t=>{c[e]=t,s&=~(1<<e),o&&h()},()=>{s|=1<<e}));return o=!0,h(),function(){r(d),f()}}).subscribe}}var vt=new Date,yt=new Date;function Mt(t,e,n,r){function i(e){return t(e=0===arguments.length?new Date:new Date(+e)),e}return i.floor=function(e){return t(e=new Date(+e)),e},i.ceil=function(n){return t(n=new Date(n-1)),e(n,1),t(n),n},i.round=function(t){var e=i(t),n=i.ceil(t);return t-e<n-t?e:n},i.offset=function(t,n){return e(t=new Date(+t),null==n?1:Math.floor(n)),t},i.range=function(n,r,o){var a,l=[];if(n=i.ceil(n),o=null==o?1:Math.floor(o),!(n<r&&o>0))return l;do{l.push(a=new Date(+n)),e(n,o),t(n)}while(a<n&&n<r);return l},i.filter=function(n){return Mt((function(e){if(e>=e)for(;t(e),!n(e);)e.setTime(e-1)}),(function(t,r){if(t>=t)if(r<0)for(;++r<=0;)for(;e(t,-1),!n(t););else for(;--r>=0;)for(;e(t,1),!n(t););}))},n&&(i.count=function(e,r){return vt.setTime(+e),yt.setTime(+r),t(vt),t(yt),Math.floor(n(vt,yt))},i.every=function(t){return t=Math.floor(t),isFinite(t)&&t>0?t>1?i.filter(r?function(e){return r(e)%t==0}:function(e){return i.count(0,e)%t==0}):i:null}),i}var xt=Mt((function(){}),(function(t,e){t.setTime(+t+e)}),(function(t,e){return e-t}));xt.every=function(t){return t=Math.floor(t),isFinite(t)&&t>0?t>1?Mt((function(e){e.setTime(Math.floor(e/t)*t)}),(function(e,n){e.setTime(+e+n*t)}),(function(e,n){return(n-e)/t})):xt:null};var bt=6e4,wt=6048e5,$t=Mt((function(t){t.setTime(t-t.getMilliseconds())}),(function(t,e){t.setTime(+t+1e3*e)}),(function(t,e){return(e-t)/1e3}),(function(t){return t.getUTCSeconds()})),_t=Mt((function(t){t.setTime(t-t.getMilliseconds()-1e3*t.getSeconds())}),(function(t,e){t.setTime(+t+e*bt)}),(function(t,e){return(e-t)/bt}),(function(t){return t.getMinutes()})),Tt=Mt((function(t){t.setTime(t-t.getMilliseconds()-1e3*t.getSeconds()-t.getMinutes()*bt)}),(function(t,e){t.setTime(+t+36e5*e)}),(function(t,e){return(e-t)/36e5}),(function(t){return t.getHours()})),kt=Mt((function(t){t.setHours(0,0,0,0)}),(function(t,e){t.setDate(t.getDate()+e)}),(function(t,e){return(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*bt)/864e5}),(function(t){return t.getDate()-1})),St=kt.range;function At(t){return Mt((function(e){e.setDate(e.getDate()-(e.getDay()+7-t)%7),e.setHours(0,0,0,0)}),(function(t,e){t.setDate(t.getDate()+7*e)}),(function(t,e){return(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*bt)/wt}))}var Dt=At(0),Ct=At(1),Nt=(At(2),At(3),At(4)),Ft=(At(5),At(6),Mt((function(t){t.setDate(1),t.setHours(0,0,0,0)}),(function(t,e){t.setMonth(t.getMonth()+e)}),(function(t,e){return e.getMonth()-t.getMonth()+12*(e.getFullYear()-t.getFullYear())}),(function(t){return t.getMonth()}))),Lt=Mt((function(t){t.setMonth(0,1),t.setHours(0,0,0,0)}),(function(t,e){t.setFullYear(t.getFullYear()+e)}),(function(t,e){return e.getFullYear()-t.getFullYear()}),(function(t){return t.getFullYear()}));Lt.every=function(t){return isFinite(t=Math.floor(t))&&t>0?Mt((function(e){e.setFullYear(Math.floor(e.getFullYear()/t)*t),e.setMonth(0,1),e.setHours(0,0,0,0)}),(function(e,n){e.setFullYear(e.getFullYear()+n*t)})):null};var Ut=Mt((function(t){t.setUTCHours(0,0,0,0)}),(function(t,e){t.setUTCDate(t.getUTCDate()+e)}),(function(t,e){return(e-t)/864e5}),(function(t){return t.getUTCDate()-1}));function Yt(t){return Mt((function(e){e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-t)%7),e.setUTCHours(0,0,0,0)}),(function(t,e){t.setUTCDate(t.getUTCDate()+7*e)}),(function(t,e){return(e-t)/wt}))}var Ht=Yt(0),Et=Yt(1),Rt=(Yt(2),Yt(3),Yt(4)),zt=(Yt(5),Yt(6),Mt((function(t){t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)}),(function(t,e){t.setUTCFullYear(t.getUTCFullYear()+e)}),(function(t,e){return e.getUTCFullYear()-t.getUTCFullYear()}),(function(t){return t.getUTCFullYear()})));zt.every=function(t){return isFinite(t=Math.floor(t))&&t>0?Mt((function(e){e.setUTCFullYear(Math.floor(e.getUTCFullYear()/t)*t),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)}),(function(e,n){e.setUTCFullYear(e.getUTCFullYear()+n*t)})):null};const jt={today:"Heute",year:"Jahr",month:"Monat",language:"Sprache",location:"Position",day:"Tag",days:"Tage",timerange:"Zeitraum",to:"bis",selectStation:"Wetterstation in Deutschland auswählen (%count% insg.)",altitude:"Stationshöhe",tooltipDateFormat:"%d. %b",introDateFormat:"%d.%m.%Y",monthLong:"Januar,Februar,März,April,Mai,Juni,Juli,August,September,Oktober,November,Dezember".split(","),source:"Quelle",distance:"Entfernung",visBy:"Visualisierung",intro:"Lesehilfe",introLong:"Das Diagramm zeigt tägliche Höchst- und Tiefstwerte der Lufttemperatur an der Wetterstation %station% zwischen %minDate% und %maxDate%. Jeder Tag wird durch einen Balken dargestellt; ein Kreis zeigt die Tagesmitteltemperatur.",customize:"Diagramm anpassen",absRecords:"Absolute Höchst- und Tiefstwerte",avgHighLow:"Normaler Temperaturbereich",avgHighLowInfo:"Der Bereich zwischen den mittleren Tageshöchst- und -tiefstwerten im Vergleichszeitraum",avgMedian:"Mittlere Tagesmitteltemperatur",showAnomalies:"Anomalien hervorheben",showRecords:"Rekorde beschriften",recordsNote:"Temperaturen die in dieser Höhe/Tiefe noch nicht an dieser Wetterstation gemessen wurden",smooth:"Normalbereich glätten über",anomaliesNote:"Anomalien bezeichnen Tagestemperaturen ober- und unterhalb der gemittelten Tageshöchst- und Tiefstwerte",overFullPeriod:"Bezogen auf gesamten verfügbaren Zeitraum (bis zum gezeigten Bereich)",overPeriod:"Gemittelte Werte des Normalbereichs beziehen sich auf den Vergleichszeitraum",changePeriod:"Vergleichszeitraum ändern auf",periodYearsFrom:"Jahre ab",cdcUrl:"https://www.dwd.de/DE/klimaumwelt/cdc/cdc_node.html",monthShort:"Jan.,Feb.,März,April,Mai,Juni,Juli,Aug.,Sept.,Okt.,Nov.,Dez.".split(",")},Pt={today:"Today",year:"Year",language:"Language",location:"Location",month:"Month",day:"Day",days:"days",timerange:"Range",to:"to",selectStation:"Select a weather station in Germany (%count% total)",altitude:"Station altitude",tooltipDateFormat:"%b %d",introDateFormat:"%b %d, %Y",source:"Source",distance:"Distance",visBy:"Visualization",intro:"How to read this chart",introLong:"This chart shows daily highs and lows of air temperature at weather station %station% between %minDate% and %maxDate%. Each day is represented by a bar, the daily mean temperature is displayed with a circle.",customize:"Customize chart layers",absRecords:"Maximum and minimum temperature",avgHighLow:"Normal temperature range",avgHighLowInfo:"Range between median of daily maxima and minima in base period",avgMedian:"Average daily median temperature",showAnomalies:"Highlight anomalies",anomaliesNote:"Anomalies are daily temperatures above or below the average maximum and minimum temperatures",showRecords:"Label temperature records",smooth:"Smooth normal range over",recordsNote:"Temperatures that are higher or lower than the max/min temperatures in the past",overFullPeriod:"Full availabe period until displayed time range",overPeriod:"Averages for normal range are computed over period ",changePeriod:"Change base period to",periodYearsFrom:"years from",cdcUrl:"https://www.dwd.de/EN/climate_environment/cdc/cdc_node.html",monthLong:"January,February,March,April,May,June,July,August,September,October,November,December".split(","),monthShort:"Jan.,Feb.,March,April,May,June,July,Aug.,Sept.,Oct.,Nov.,Dec.".split(",")},qt=mt(1981),Jt=mt(30),Ot=pt([qt,Jt],([t,e])=>t+e),Zt=mt(50),Vt=mt(new Date),It=mt(window.innerWidth),Wt=mt(1e3),Bt=(pt(Wt,t=>Math.round(t/4)),pt([Vt,Wt],([t,e])=>{const n=Math.round((e-50)/4),r=Ft.ceil(t),i=Ft.floor(new Date(r.getTime()-864e5*n)),o=kt.count(i,r);return new Date(t.getTime()-864e5*o)})),Xt=mt("de"),Qt=mt(!0),Gt=mt(!0),Kt=mt(0),te=pt(Xt,t=>"de"===t?jt:Pt);function ee(t,e){return t<e?-1:t>e?1:t>=e?0:NaN}function ne(t){var e;return 1===t.length&&(e=t,t=function(t,n){return ee(e(t),n)}),{left:function(e,n,r,i){for(null==r&&(r=0),null==i&&(i=e.length);r<i;){var o=r+i>>>1;t(e[o],n)<0?r=o+1:i=o}return r},right:function(e,n,r,i){for(null==r&&(r=0),null==i&&(i=e.length);r<i;){var o=r+i>>>1;t(e[o],n)>0?i=o:r=o+1}return r}}}var re=ne(ee).right;function ie(t){return t}function oe(t,...e){return function(t,e,n,r){return function t(i,o){if(o>=r.length)return n(i);const a=new Map,l=r[o++];let u=-1;for(const t of i){const e=l(t,++u,i),n=a.get(e);n?n.push(t):a.set(e,[t])}for(const[e,n]of a)a.set(e,t(n,o));return e(a)}(t,0)}(t,ie,ie,e)}var ae=Math.sqrt(50),le=Math.sqrt(10),ue=Math.sqrt(2);function ce(t,e,n){var r=(e-t)/Math.max(0,n),i=Math.floor(Math.log(r)/Math.LN10),o=r/Math.pow(10,i);return i>=0?(o>=ae?10:o>=le?5:o>=ue?2:1)*Math.pow(10,i):-Math.pow(10,-i)/(o>=ae?10:o>=le?5:o>=ue?2:1)}function se(t,e,n){var r=Math.abs(e-t)/Math.max(0,n),i=Math.pow(10,Math.floor(Math.log(r)/Math.LN10)),o=r/i;return o>=ae?i*=10:o>=le?i*=5:o>=ue&&(i*=2),e<t?-i:i}function fe(t){return null===t?NaN:+t}function he(t,e,n=fe){if(r=t.length){if((e=+e)<=0||r<2)return+n(t[0],0,t);if(e>=1)return+n(t[r-1],r-1,t);var r,i=(r-1)*e,o=Math.floor(i),a=+n(t[o],o,t);return a+(+n(t[o+1],o+1,t)-a)*(i-o)}}function de(t,e){let n=0,r=0;if(void 0===e)for(let e of t)null!=e&&(e=+e)>=e&&(++n,r+=e);else{let i=-1;for(let o of t)null!=(o=e(o,++i,t))&&(o=+o)>=o&&(++n,r+=o)}if(n)return r/n}function ge(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t)}return this}function me(t,e,n){t.prototype=e.prototype=n,n.constructor=t}function pe(t,e){var n=Object.create(t.prototype);for(var r in e)n[r]=e[r];return n}function ve(){}var ye="\\s*([+-]?\\d+)\\s*",Me="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)\\s*",xe="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*",be=/^#([0-9a-f]{3,8})$/,we=new RegExp("^rgb\\("+[ye,ye,ye]+"\\)$"),$e=new RegExp("^rgb\\("+[xe,xe,xe]+"\\)$"),_e=new RegExp("^rgba\\("+[ye,ye,ye,Me]+"\\)$"),Te=new RegExp("^rgba\\("+[xe,xe,xe,Me]+"\\)$"),ke=new RegExp("^hsl\\("+[Me,xe,xe]+"\\)$"),Se=new RegExp("^hsla\\("+[Me,xe,xe,Me]+"\\)$"),Ae={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function De(){return this.rgb().formatHex()}function Ce(){return this.rgb().formatRgb()}function Ne(t){var e,n;return t=(t+"").trim().toLowerCase(),(e=be.exec(t))?(n=e[1].length,e=parseInt(e[1],16),6===n?Fe(e):3===n?new Ye(e>>8&15|e>>4&240,e>>4&15|240&e,(15&e)<<4|15&e,1):8===n?new Ye(e>>24&255,e>>16&255,e>>8&255,(255&e)/255):4===n?new Ye(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|240&e,((15&e)<<4|15&e)/255):null):(e=we.exec(t))?new Ye(e[1],e[2],e[3],1):(e=$e.exec(t))?new Ye(255*e[1]/100,255*e[2]/100,255*e[3]/100,1):(e=_e.exec(t))?Le(e[1],e[2],e[3],e[4]):(e=Te.exec(t))?Le(255*e[1]/100,255*e[2]/100,255*e[3]/100,e[4]):(e=ke.exec(t))?ze(e[1],e[2]/100,e[3]/100,1):(e=Se.exec(t))?ze(e[1],e[2]/100,e[3]/100,e[4]):Ae.hasOwnProperty(t)?Fe(Ae[t]):"transparent"===t?new Ye(NaN,NaN,NaN,0):null}function Fe(t){return new Ye(t>>16&255,t>>8&255,255&t,1)}function Le(t,e,n,r){return r<=0&&(t=e=n=NaN),new Ye(t,e,n,r)}function Ue(t,e,n,r){return 1===arguments.length?((i=t)instanceof ve||(i=Ne(i)),i?new Ye((i=i.rgb()).r,i.g,i.b,i.opacity):new Ye):new Ye(t,e,n,null==r?1:r);var i}function Ye(t,e,n,r){this.r=+t,this.g=+e,this.b=+n,this.opacity=+r}function He(){return"#"+Re(this.r)+Re(this.g)+Re(this.b)}function Ee(){var t=this.opacity;return(1===(t=isNaN(t)?1:Math.max(0,Math.min(1,t)))?"rgb(":"rgba(")+Math.max(0,Math.min(255,Math.round(this.r)||0))+", "+Math.max(0,Math.min(255,Math.round(this.g)||0))+", "+Math.max(0,Math.min(255,Math.round(this.b)||0))+(1===t?")":", "+t+")")}function Re(t){return((t=Math.max(0,Math.min(255,Math.round(t)||0)))<16?"0":"")+t.toString(16)}function ze(t,e,n,r){return r<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new Pe(t,e,n,r)}function je(t){if(t instanceof Pe)return new Pe(t.h,t.s,t.l,t.opacity);if(t instanceof ve||(t=Ne(t)),!t)return new Pe;if(t instanceof Pe)return t;var e=(t=t.rgb()).r/255,n=t.g/255,r=t.b/255,i=Math.min(e,n,r),o=Math.max(e,n,r),a=NaN,l=o-i,u=(o+i)/2;return l?(a=e===o?(n-r)/l+6*(n<r):n===o?(r-e)/l+2:(e-n)/l+4,l/=u<.5?o+i:2-o-i,a*=60):l=u>0&&u<1?0:a,new Pe(a,l,u,t.opacity)}function Pe(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}function qe(t,e,n){return 255*(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)}function Je(t){return function(){return t}}function Oe(t){return 1==(t=+t)?Ze:function(e,n){return n-e?function(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(r){return Math.pow(t+r*e,n)}}(e,n,t):Je(isNaN(e)?n:e)}}function Ze(t,e){var n=e-t;return n?function(t,e){return function(n){return t+n*e}}(t,n):Je(isNaN(t)?e:t)}me(ve,Ne,{copy:function(t){return Object.assign(new this.constructor,this,t)},displayable:function(){return this.rgb().displayable()},hex:De,formatHex:De,formatHsl:function(){return je(this).formatHsl()},formatRgb:Ce,toString:Ce}),me(Ye,Ue,pe(ve,{brighter:function(t){return t=null==t?1/.7:Math.pow(1/.7,t),new Ye(this.r*t,this.g*t,this.b*t,this.opacity)},darker:function(t){return t=null==t?.7:Math.pow(.7,t),new Ye(this.r*t,this.g*t,this.b*t,this.opacity)},rgb:function(){return this},displayable:function(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:He,formatHex:He,formatRgb:Ee,toString:Ee})),me(Pe,(function(t,e,n,r){return 1===arguments.length?je(t):new Pe(t,e,n,null==r?1:r)}),pe(ve,{brighter:function(t){return t=null==t?1/.7:Math.pow(1/.7,t),new Pe(this.h,this.s,this.l*t,this.opacity)},darker:function(t){return t=null==t?.7:Math.pow(.7,t),new Pe(this.h,this.s,this.l*t,this.opacity)},rgb:function(){var t=this.h%360+360*(this.h<0),e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*e,i=2*n-r;return new Ye(qe(t>=240?t-240:t+120,i,r),qe(t,i,r),qe(t<120?t+240:t-120,i,r),this.opacity)},displayable:function(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl:function(){var t=this.opacity;return(1===(t=isNaN(t)?1:Math.max(0,Math.min(1,t)))?"hsl(":"hsla(")+(this.h||0)+", "+100*(this.s||0)+"%, "+100*(this.l||0)+"%"+(1===t?")":", "+t+")")}}));var Ve=function t(e){var n=Oe(e);function r(t,e){var r=n((t=Ue(t)).r,(e=Ue(e)).r),i=n(t.g,e.g),o=n(t.b,e.b),a=Ze(t.opacity,e.opacity);return function(e){return t.r=r(e),t.g=i(e),t.b=o(e),t.opacity=a(e),t+""}}return r.gamma=t,r}(1);function Ie(t,e){e||(e=[]);var n,r=t?Math.min(e.length,t.length):0,i=e.slice();return function(o){for(n=0;n<r;++n)i[n]=t[n]*(1-o)+e[n]*o;return i}}function We(t,e){var n,r=e?e.length:0,i=t?Math.min(r,t.length):0,o=new Array(i),a=new Array(r);for(n=0;n<i;++n)o[n]=en(t[n],e[n]);for(;n<r;++n)a[n]=e[n];return function(t){for(n=0;n<i;++n)a[n]=o[n](t);return a}}function Be(t,e){var n=new Date;return t=+t,e=+e,function(r){return n.setTime(t*(1-r)+e*r),n}}function Xe(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}}function Qe(t,e){var n,r={},i={};for(n in null!==t&&"object"==typeof t||(t={}),null!==e&&"object"==typeof e||(e={}),e)n in t?r[n]=en(t[n],e[n]):i[n]=e[n];return function(t){for(n in r)i[n]=r[n](t);return i}}var Ge=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Ke=new RegExp(Ge.source,"g");function tn(t,e){var n,r,i,o=Ge.lastIndex=Ke.lastIndex=0,a=-1,l=[],u=[];for(t+="",e+="";(n=Ge.exec(t))&&(r=Ke.exec(e));)(i=r.index)>o&&(i=e.slice(o,i),l[a]?l[a]+=i:l[++a]=i),(n=n[0])===(r=r[0])?l[a]?l[a]+=r:l[++a]=r:(l[++a]=null,u.push({i:a,x:Xe(n,r)})),o=Ke.lastIndex;return o<e.length&&(i=e.slice(o),l[a]?l[a]+=i:l[++a]=i),l.length<2?u[0]?function(t){return function(e){return t(e)+""}}(u[0].x):function(t){return function(){return t}}(e):(e=u.length,function(t){for(var n,r=0;r<e;++r)l[(n=u[r]).i]=n.x(t);return l.join("")})}function en(t,e){var n,r=typeof e;return null==e||"boolean"===r?Je(e):("number"===r?Xe:"string"===r?(n=Ne(e))?(e=n,Ve):tn:e instanceof Ne?Ve:e instanceof Date?Be:function(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}(e)?Ie:Array.isArray(e)?We:"function"!=typeof e.valueOf&&"function"!=typeof e.toString||isNaN(e)?Qe:Xe)(t,e)}function nn(t,e){return t=+t,e=+e,function(n){return Math.round(t*(1-n)+e*n)}}function rn(t){return+t}var on=[0,1];function an(t){return t}function ln(t,e){return(e-=t=+t)?function(n){return(n-t)/e}:function(t){return function(){return t}}(isNaN(e)?NaN:.5)}function un(t,e,n){var r=t[0],i=t[1],o=e[0],a=e[1];return i<r?(r=ln(i,r),o=n(a,o)):(r=ln(r,i),o=n(o,a)),function(t){return o(r(t))}}function cn(t,e,n){var r=Math.min(t.length,e.length)-1,i=new Array(r),o=new Array(r),a=-1;for(t[r]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++a<r;)i[a]=ln(t[a],t[a+1]),o[a]=n(e[a],e[a+1]);return function(e){var n=re(t,e,1,r)-1;return o[n](i[n](e))}}function sn(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function fn(){var t,e,n,r,i,o,a=on,l=on,u=en,c=an;function s(){var t,e,n,u=Math.min(a.length,l.length);return c!==an&&(t=a[0],e=a[u-1],t>e&&(n=t,t=e,e=n),c=function(n){return Math.max(t,Math.min(e,n))}),r=u>2?cn:un,i=o=null,f}function f(e){return isNaN(e=+e)?n:(i||(i=r(a.map(t),l,u)))(t(c(e)))}return f.invert=function(n){return c(e((o||(o=r(l,a.map(t),Xe)))(n)))},f.domain=function(t){return arguments.length?(a=Array.from(t,rn),s()):a.slice()},f.range=function(t){return arguments.length?(l=Array.from(t),s()):l.slice()},f.rangeRound=function(t){return l=Array.from(t),u=nn,s()},f.clamp=function(t){return arguments.length?(c=!!t||an,s()):c!==an},f.interpolate=function(t){return arguments.length?(u=t,s()):u},f.unknown=function(t){return arguments.length?(n=t,f):n},function(n,r){return t=n,e=r,s()}}function hn(){return fn()(an,an)}function dn(t,e){if((n=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var n,r=t.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+t.slice(n+1)]}function gn(t){return(t=dn(Math.abs(t)))?t[1]:NaN}var mn,pn=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function vn(t){if(!(e=pn.exec(t)))throw new Error("invalid format: "+t);var e;return new yn({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}function yn(t){this.fill=void 0===t.fill?" ":t.fill+"",this.align=void 0===t.align?">":t.align+"",this.sign=void 0===t.sign?"-":t.sign+"",this.symbol=void 0===t.symbol?"":t.symbol+"",this.zero=!!t.zero,this.width=void 0===t.width?void 0:+t.width,this.comma=!!t.comma,this.precision=void 0===t.precision?void 0:+t.precision,this.trim=!!t.trim,this.type=void 0===t.type?"":t.type+""}function Mn(t,e){var n=dn(t,e);if(!n)return t+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}vn.prototype=yn.prototype,yn.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(void 0===this.width?"":Math.max(1,0|this.width))+(this.comma?",":"")+(void 0===this.precision?"":"."+Math.max(0,0|this.precision))+(this.trim?"~":"")+this.type};var xn={"%":function(t,e){return(100*t).toFixed(e)},b:function(t){return Math.round(t).toString(2)},c:function(t){return t+""},d:function(t){return Math.round(t).toString(10)},e:function(t,e){return t.toExponential(e)},f:function(t,e){return t.toFixed(e)},g:function(t,e){return t.toPrecision(e)},o:function(t){return Math.round(t).toString(8)},p:function(t,e){return Mn(100*t,e)},r:Mn,s:function(t,e){var n=dn(t,e);if(!n)return t+"";var r=n[0],i=n[1],o=i-(mn=3*Math.max(-8,Math.min(8,Math.floor(i/3))))+1,a=r.length;return o===a?r:o>a?r+new Array(o-a+1).join("0"):o>0?r.slice(0,o)+"."+r.slice(o):"0."+new Array(1-o).join("0")+dn(t,Math.max(0,e+o-1))[0]},X:function(t){return Math.round(t).toString(16).toUpperCase()},x:function(t){return Math.round(t).toString(16)}};function bn(t){return t}var wn,$n,_n,Tn=Array.prototype.map,kn=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"];function Sn(t){var e,n,r=void 0===t.grouping||void 0===t.thousands?bn:(e=Tn.call(t.grouping,Number),n=t.thousands+"",function(t,r){for(var i=t.length,o=[],a=0,l=e[0],u=0;i>0&&l>0&&(u+l+1>r&&(l=Math.max(1,r-u)),o.push(t.substring(i-=l,i+l)),!((u+=l+1)>r));)l=e[a=(a+1)%e.length];return o.reverse().join(n)}),i=void 0===t.currency?"":t.currency[0]+"",o=void 0===t.currency?"":t.currency[1]+"",a=void 0===t.decimal?".":t.decimal+"",l=void 0===t.numerals?bn:function(t){return function(e){return e.replace(/[0-9]/g,(function(e){return t[+e]}))}}(Tn.call(t.numerals,String)),u=void 0===t.percent?"%":t.percent+"",c=void 0===t.minus?"-":t.minus+"",s=void 0===t.nan?"NaN":t.nan+"";function f(t){var e=(t=vn(t)).fill,n=t.align,f=t.sign,h=t.symbol,d=t.zero,g=t.width,m=t.comma,p=t.precision,v=t.trim,y=t.type;"n"===y?(m=!0,y="g"):xn[y]||(void 0===p&&(p=12),v=!0,y="g"),(d||"0"===e&&"="===n)&&(d=!0,e="0",n="=");var M="$"===h?i:"#"===h&&/[boxX]/.test(y)?"0"+y.toLowerCase():"",x="$"===h?o:/[%p]/.test(y)?u:"",b=xn[y],w=/[defgprs%]/.test(y);function $(t){var i,o,u,h=M,$=x;if("c"===y)$=b(t)+$,t="";else{var _=(t=+t)<0;if(t=isNaN(t)?s:b(Math.abs(t),p),v&&(t=function(t){t:for(var e,n=t.length,r=1,i=-1;r<n;++r)switch(t[r]){case".":i=e=r;break;case"0":0===i&&(i=r),e=r;break;default:if(i>0){if(!+t[r])break t;i=0}}return i>0?t.slice(0,i)+t.slice(e+1):t}(t)),_&&0==+t&&(_=!1),h=(_?"("===f?f:c:"-"===f||"("===f?"":f)+h,$=("s"===y?kn[8+mn/3]:"")+$+(_&&"("===f?")":""),w)for(i=-1,o=t.length;++i<o;)if(48>(u=t.charCodeAt(i))||u>57){$=(46===u?a+t.slice(i+1):t.slice(i))+$,t=t.slice(0,i);break}}m&&!d&&(t=r(t,1/0));var T=h.length+t.length+$.length,k=T<g?new Array(g-T+1).join(e):"";switch(m&&d&&(t=r(k+t,k.length?g-$.length:1/0),k=""),n){case"<":t=h+t+$+k;break;case"=":t=h+k+t+$;break;case"^":t=k.slice(0,T=k.length>>1)+h+t+$+k.slice(T);break;default:t=k+h+t+$}return l(t)}return p=void 0===p?6:/[gprs]/.test(y)?Math.max(1,Math.min(21,p)):Math.max(0,Math.min(20,p)),$.toString=function(){return t+""},$}return{format:f,formatPrefix:function(t,e){var n=f(((t=vn(t)).type="f",t)),r=3*Math.max(-8,Math.min(8,Math.floor(gn(e)/3))),i=Math.pow(10,-r),o=kn[8+r/3];return function(t){return n(i*t)+o}}}}function An(t,e,n,r){var i,o=se(t,e,n);switch((r=vn(null==r?",f":r)).type){case"s":var a=Math.max(Math.abs(t),Math.abs(e));return null!=r.precision||isNaN(i=function(t,e){return Math.max(0,3*Math.max(-8,Math.min(8,Math.floor(gn(e)/3)))-gn(Math.abs(t)))}(o,a))||(r.precision=i),_n(r,a);case"":case"e":case"g":case"p":case"r":null!=r.precision||isNaN(i=function(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,gn(e)-gn(t))+1}(o,Math.max(Math.abs(t),Math.abs(e))))||(r.precision=i-("e"===r.type));break;case"f":case"%":null!=r.precision||isNaN(i=function(t){return Math.max(0,-gn(Math.abs(t)))}(o))||(r.precision=i-2*("%"===r.type))}return $n(r)}function Dn(t){var e=t.domain;return t.ticks=function(t){var n=e();return function(t,e,n){var r,i,o,a,l=-1;if(n=+n,(t=+t)===(e=+e)&&n>0)return[t];if((r=e<t)&&(i=t,t=e,e=i),0===(a=ce(t,e,n))||!isFinite(a))return[];if(a>0)for(t=Math.ceil(t/a),e=Math.floor(e/a),o=new Array(i=Math.ceil(e-t+1));++l<i;)o[l]=(t+l)*a;else for(t=Math.floor(t*a),e=Math.ceil(e*a),o=new Array(i=Math.ceil(t-e+1));++l<i;)o[l]=(t-l)/a;return r&&o.reverse(),o}(n[0],n[n.length-1],null==t?10:t)},t.tickFormat=function(t,n){var r=e();return An(r[0],r[r.length-1],null==t?10:t,n)},t.nice=function(n){null==n&&(n=10);var r,i=e(),o=0,a=i.length-1,l=i[o],u=i[a];return u<l&&(r=l,l=u,u=r,r=o,o=a,a=r),(r=ce(l,u,n))>0?r=ce(l=Math.floor(l/r)*r,u=Math.ceil(u/r)*r,n):r<0&&(r=ce(l=Math.ceil(l*r)/r,u=Math.floor(u*r)/r,n)),r>0?(i[o]=Math.floor(l/r)*r,i[a]=Math.ceil(u/r)*r,e(i)):r<0&&(i[o]=Math.ceil(l*r)/r,i[a]=Math.floor(u*r)/r,e(i)),t},t}function Cn(t){if(0<=t.y&&t.y<100){var e=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return e.setFullYear(t.y),e}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function Nn(t){if(0<=t.y&&t.y<100){var e=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return e.setUTCFullYear(t.y),e}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function Fn(t,e,n){return{y:t,m:e,d:n,H:0,M:0,S:0,L:0}}wn=Sn({decimal:".",thousands:",",grouping:[3],currency:["$",""],minus:"-"}),$n=wn.format,_n=wn.formatPrefix;var Ln,Un,Yn={"-":"",_:" ",0:"0"},Hn=/^\s*\d+/,En=/^%/,Rn=/[\\^$*+?|[\]().{}]/g;function zn(t,e,n){var r=t<0?"-":"",i=(r?-t:t)+"",o=i.length;return r+(o<n?new Array(n-o+1).join(e)+i:i)}function jn(t){return t.replace(Rn,"\\$&")}function Pn(t){return new RegExp("^(?:"+t.map(jn).join("|")+")","i")}function qn(t){for(var e={},n=-1,r=t.length;++n<r;)e[t[n].toLowerCase()]=n;return e}function Jn(t,e,n){var r=Hn.exec(e.slice(n,n+1));return r?(t.w=+r[0],n+r[0].length):-1}function On(t,e,n){var r=Hn.exec(e.slice(n,n+1));return r?(t.u=+r[0],n+r[0].length):-1}function Zn(t,e,n){var r=Hn.exec(e.slice(n,n+2));return r?(t.U=+r[0],n+r[0].length):-1}function Vn(t,e,n){var r=Hn.exec(e.slice(n,n+2));return r?(t.V=+r[0],n+r[0].length):-1}function In(t,e,n){var r=Hn.exec(e.slice(n,n+2));return r?(t.W=+r[0],n+r[0].length):-1}function Wn(t,e,n){var r=Hn.exec(e.slice(n,n+4));return r?(t.y=+r[0],n+r[0].length):-1}function Bn(t,e,n){var r=Hn.exec(e.slice(n,n+2));return r?(t.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function Xn(t,e,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(n,n+6));return r?(t.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function Qn(t,e,n){var r=Hn.exec(e.slice(n,n+1));return r?(t.q=3*r[0]-3,n+r[0].length):-1}function Gn(t,e,n){var r=Hn.exec(e.slice(n,n+2));return r?(t.m=r[0]-1,n+r[0].length):-1}function Kn(t,e,n){var r=Hn.exec(e.slice(n,n+2));return r?(t.d=+r[0],n+r[0].length):-1}function tr(t,e,n){var r=Hn.exec(e.slice(n,n+3));return r?(t.m=0,t.d=+r[0],n+r[0].length):-1}function er(t,e,n){var r=Hn.exec(e.slice(n,n+2));return r?(t.H=+r[0],n+r[0].length):-1}function nr(t,e,n){var r=Hn.exec(e.slice(n,n+2));return r?(t.M=+r[0],n+r[0].length):-1}function rr(t,e,n){var r=Hn.exec(e.slice(n,n+2));return r?(t.S=+r[0],n+r[0].length):-1}function ir(t,e,n){var r=Hn.exec(e.slice(n,n+3));return r?(t.L=+r[0],n+r[0].length):-1}function or(t,e,n){var r=Hn.exec(e.slice(n,n+6));return r?(t.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function ar(t,e,n){var r=En.exec(e.slice(n,n+1));return r?n+r[0].length:-1}function lr(t,e,n){var r=Hn.exec(e.slice(n));return r?(t.Q=+r[0],n+r[0].length):-1}function ur(t,e,n){var r=Hn.exec(e.slice(n));return r?(t.s=+r[0],n+r[0].length):-1}function cr(t,e){return zn(t.getDate(),e,2)}function sr(t,e){return zn(t.getHours(),e,2)}function fr(t,e){return zn(t.getHours()%12||12,e,2)}function hr(t,e){return zn(1+kt.count(Lt(t),t),e,3)}function dr(t,e){return zn(t.getMilliseconds(),e,3)}function gr(t,e){return dr(t,e)+"000"}function mr(t,e){return zn(t.getMonth()+1,e,2)}function pr(t,e){return zn(t.getMinutes(),e,2)}function vr(t,e){return zn(t.getSeconds(),e,2)}function yr(t){var e=t.getDay();return 0===e?7:e}function Mr(t,e){return zn(Dt.count(Lt(t)-1,t),e,2)}function xr(t,e){var n=t.getDay();return t=n>=4||0===n?Nt(t):Nt.ceil(t),zn(Nt.count(Lt(t),t)+(4===Lt(t).getDay()),e,2)}function br(t){return t.getDay()}function wr(t,e){return zn(Ct.count(Lt(t)-1,t),e,2)}function $r(t,e){return zn(t.getFullYear()%100,e,2)}function _r(t,e){return zn(t.getFullYear()%1e4,e,4)}function Tr(t){var e=t.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+zn(e/60|0,"0",2)+zn(e%60,"0",2)}function kr(t,e){return zn(t.getUTCDate(),e,2)}function Sr(t,e){return zn(t.getUTCHours(),e,2)}function Ar(t,e){return zn(t.getUTCHours()%12||12,e,2)}function Dr(t,e){return zn(1+Ut.count(zt(t),t),e,3)}function Cr(t,e){return zn(t.getUTCMilliseconds(),e,3)}function Nr(t,e){return Cr(t,e)+"000"}function Fr(t,e){return zn(t.getUTCMonth()+1,e,2)}function Lr(t,e){return zn(t.getUTCMinutes(),e,2)}function Ur(t,e){return zn(t.getUTCSeconds(),e,2)}function Yr(t){var e=t.getUTCDay();return 0===e?7:e}function Hr(t,e){return zn(Ht.count(zt(t)-1,t),e,2)}function Er(t,e){var n=t.getUTCDay();return t=n>=4||0===n?Rt(t):Rt.ceil(t),zn(Rt.count(zt(t),t)+(4===zt(t).getUTCDay()),e,2)}function Rr(t){return t.getUTCDay()}function zr(t,e){return zn(Et.count(zt(t)-1,t),e,2)}function jr(t,e){return zn(t.getUTCFullYear()%100,e,2)}function Pr(t,e){return zn(t.getUTCFullYear()%1e4,e,4)}function qr(){return"+0000"}function Jr(){return"%"}function Or(t){return+t}function Zr(t){return Math.floor(+t/1e3)}!function(t){Ln=function(t){var e=t.dateTime,n=t.date,r=t.time,i=t.periods,o=t.days,a=t.shortDays,l=t.months,u=t.shortMonths,c=Pn(i),s=qn(i),f=Pn(o),h=qn(o),d=Pn(a),g=qn(a),m=Pn(l),p=qn(l),v=Pn(u),y=qn(u),M={a:function(t){return a[t.getDay()]},A:function(t){return o[t.getDay()]},b:function(t){return u[t.getMonth()]},B:function(t){return l[t.getMonth()]},c:null,d:cr,e:cr,f:gr,H:sr,I:fr,j:hr,L:dr,m:mr,M:pr,p:function(t){return i[+(t.getHours()>=12)]},q:function(t){return 1+~~(t.getMonth()/3)},Q:Or,s:Zr,S:vr,u:yr,U:Mr,V:xr,w:br,W:wr,x:null,X:null,y:$r,Y:_r,Z:Tr,"%":Jr},x={a:function(t){return a[t.getUTCDay()]},A:function(t){return o[t.getUTCDay()]},b:function(t){return u[t.getUTCMonth()]},B:function(t){return l[t.getUTCMonth()]},c:null,d:kr,e:kr,f:Nr,H:Sr,I:Ar,j:Dr,L:Cr,m:Fr,M:Lr,p:function(t){return i[+(t.getUTCHours()>=12)]},q:function(t){return 1+~~(t.getUTCMonth()/3)},Q:Or,s:Zr,S:Ur,u:Yr,U:Hr,V:Er,w:Rr,W:zr,x:null,X:null,y:jr,Y:Pr,Z:qr,"%":Jr},b={a:function(t,e,n){var r=d.exec(e.slice(n));return r?(t.w=g[r[0].toLowerCase()],n+r[0].length):-1},A:function(t,e,n){var r=f.exec(e.slice(n));return r?(t.w=h[r[0].toLowerCase()],n+r[0].length):-1},b:function(t,e,n){var r=v.exec(e.slice(n));return r?(t.m=y[r[0].toLowerCase()],n+r[0].length):-1},B:function(t,e,n){var r=m.exec(e.slice(n));return r?(t.m=p[r[0].toLowerCase()],n+r[0].length):-1},c:function(t,n,r){return _(t,e,n,r)},d:Kn,e:Kn,f:or,H:er,I:er,j:tr,L:ir,m:Gn,M:nr,p:function(t,e,n){var r=c.exec(e.slice(n));return r?(t.p=s[r[0].toLowerCase()],n+r[0].length):-1},q:Qn,Q:lr,s:ur,S:rr,u:On,U:Zn,V:Vn,w:Jn,W:In,x:function(t,e,r){return _(t,n,e,r)},X:function(t,e,n){return _(t,r,e,n)},y:Bn,Y:Wn,Z:Xn,"%":ar};function w(t,e){return function(n){var r,i,o,a=[],l=-1,u=0,c=t.length;for(n instanceof Date||(n=new Date(+n));++l<c;)37===t.charCodeAt(l)&&(a.push(t.slice(u,l)),null!=(i=Yn[r=t.charAt(++l)])?r=t.charAt(++l):i="e"===r?" ":"0",(o=e[r])&&(r=o(n,i)),a.push(r),u=l+1);return a.push(t.slice(u,l)),a.join("")}}function $(t,e){return function(n){var r,i,o=Fn(1900,void 0,1);if(_(o,t,n+="",0)!=n.length)return null;if("Q"in o)return new Date(o.Q);if("s"in o)return new Date(1e3*o.s+("L"in o?o.L:0));if(!e||"Z"in o||(o.Z=0),"p"in o&&(o.H=o.H%12+12*o.p),void 0===o.m&&(o.m="q"in o?o.q:0),"V"in o){if(o.V<1||o.V>53)return null;"w"in o||(o.w=1),"Z"in o?(i=(r=Nn(Fn(o.y,0,1))).getUTCDay(),r=i>4||0===i?Et.ceil(r):Et(r),r=Ut.offset(r,7*(o.V-1)),o.y=r.getUTCFullYear(),o.m=r.getUTCMonth(),o.d=r.getUTCDate()+(o.w+6)%7):(i=(r=Cn(Fn(o.y,0,1))).getDay(),r=i>4||0===i?Ct.ceil(r):Ct(r),r=kt.offset(r,7*(o.V-1)),o.y=r.getFullYear(),o.m=r.getMonth(),o.d=r.getDate()+(o.w+6)%7)}else("W"in o||"U"in o)&&("w"in o||(o.w="u"in o?o.u%7:"W"in o?1:0),i="Z"in o?Nn(Fn(o.y,0,1)).getUTCDay():Cn(Fn(o.y,0,1)).getDay(),o.m=0,o.d="W"in o?(o.w+6)%7+7*o.W-(i+5)%7:o.w+7*o.U-(i+6)%7);return"Z"in o?(o.H+=o.Z/100|0,o.M+=o.Z%100,Nn(o)):Cn(o)}}function _(t,e,n,r){for(var i,o,a=0,l=e.length,u=n.length;a<l;){if(r>=u)return-1;if(37===(i=e.charCodeAt(a++))){if(i=e.charAt(a++),!(o=b[i in Yn?e.charAt(a++):i])||(r=o(t,n,r))<0)return-1}else if(i!=n.charCodeAt(r++))return-1}return r}return(M.x=w(n,M),M.X=w(r,M),M.c=w(e,M),x.x=w(n,x),x.X=w(r,x),x.c=w(e,x),{format:function(t){var e=w(t+="",M);return e.toString=function(){return t},e},parse:function(t){var e=$(t+="",!1);return e.toString=function(){return t},e},utcFormat:function(t){var e=w(t+="",x);return e.toString=function(){return t},e},utcParse:function(t){var e=$(t+="",!0);return e.toString=function(){return t},e}})}(t),Un=Ln.format,Ln.parse,Ln.utcFormat,Ln.utcParse}({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});var Vr=1e3,Ir=60*Vr,Wr=60*Ir,Br=24*Wr,Xr=7*Br,Qr=30*Br,Gr=365*Br;function Kr(t){return new Date(t)}function ti(t){return t instanceof Date?+t:+new Date(+t)}function ei(){return ge.apply(function t(e,n,r,i,o,a,l,u,c){var s=hn(),f=s.invert,h=s.domain,d=c(".%L"),g=c(":%S"),m=c("%I:%M"),p=c("%I %p"),v=c("%a %d"),y=c("%b %d"),M=c("%B"),x=c("%Y"),b=[[l,1,Vr],[l,5,5*Vr],[l,15,15*Vr],[l,30,30*Vr],[a,1,Ir],[a,5,5*Ir],[a,15,15*Ir],[a,30,30*Ir],[o,1,Wr],[o,3,3*Wr],[o,6,6*Wr],[o,12,12*Wr],[i,1,Br],[i,2,2*Br],[r,1,Xr],[n,1,Qr],[n,3,3*Qr],[e,1,Gr]];function w(t){return(l(t)<t?d:a(t)<t?g:o(t)<t?m:i(t)<t?p:n(t)<t?r(t)<t?v:y:e(t)<t?M:x)(t)}function $(t,n,r){if(null==t&&(t=10),"number"==typeof t){var i,o=Math.abs(r-n)/t,a=ne((function(t){return t[2]})).right(b,o);return a===b.length?(i=se(n/Gr,r/Gr,t),t=e):a?(i=(a=b[o/b[a-1][2]<b[a][2]/o?a-1:a])[1],t=a[0]):(i=Math.max(se(n,r,t),1),t=u),t.every(i)}return t}return s.invert=function(t){return new Date(f(t))},s.domain=function(t){return arguments.length?h(Array.from(t,ti)):h().map(Kr)},s.ticks=function(t){var e,n=h(),r=n[0],i=n[n.length-1],o=i<r;return o&&(e=r,r=i,i=e),e=(e=$(t,r,i))?e.range(r,i+1):[],o?e.reverse():e},s.tickFormat=function(t,e){return null==e?w:c(e)},s.nice=function(t){var e=h();return(t=$(t,e[0],e[e.length-1]))?h(function(t,e){var n,r=0,i=(t=t.slice()).length-1,o=t[r],a=t[i];return a<o&&(n=r,r=i,i=n,n=o,o=a,a=n),t[r]=e.floor(o),t[i]=e.ceil(a),t}(e,t)):s},s.copy=function(){return sn(s,t(e,n,r,i,o,a,l,u,c))},s}(Lt,Ft,Dt,kt,Tt,_t,$t,xt,Un).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function ni(t,e,n){const r=t.slice();return r[28]=e[n],r}function ri(t,e,n){const r=t.slice();return r[31]=e[n],r[33]=n,r}function ii(t,e,n){const r=t.slice();return r[31]=e[n],r}function oi(t){let e,n,r,i,o,a,l,f,h=t[31]<0?"&minus;":"",m=Math.abs(t[31])+"";return{c(){e=d("g"),n=d("line"),r=d("text"),o=g(m),a=g("°C\n                        "),y(n,"x2","100%"),y(n,"class","svelte-1f5kcr5"),i=new T(h,o),y(r,"y","-4"),y(r,"class","svelte-1f5kcr5"),y(e,"class",l="tick tick-"+t[31]+" svelte-1f5kcr5"),y(e,"transform",f="translate(0, "+t[8](t[31])+")")},m(t,l){c(t,e,l),u(e,n),u(e,r),i.m(r),u(r,o),u(r,a)},p(t,n){1024&n[0]&&h!==(h=t[31]<0?"&minus;":"")&&i.p(h),1024&n[0]&&m!==(m=Math.abs(t[31])+"")&&M(o,m),1024&n[0]&&l!==(l="tick tick-"+t[31]+" svelte-1f5kcr5")&&y(e,"class",l),1280&n[0]&&f!==(f="translate(0, "+t[8](t[31])+")")&&y(e,"transform",f)},d(t){t&&s(e)}}}function ai(t){let e,n,r,i,o=(It>400?t[11](t[31],t[33]):t[12](t[31],t[33]))+"",a=!t[33]&&t[31].getMonth()<11||!t[31].getMonth(),l=a&&li(t);return{c(){e=d("g"),n=d("text"),r=g(o),l&&l.c(),y(n,"y","0"),y(n,"class","svelte-1f5kcr5"),y(e,"transform",i="translate("+(t[4](t[14](t[31]))-t[4](t[31]))+",-50)")},m(t,i){c(t,e,i),u(e,n),u(n,r),l&&l.m(e,null)},p(t,n){6272&n[0]&&o!==(o=(It>400?t[11](t[31],t[33]):t[12](t[31],t[33]))+"")&&M(r,o),128&n[0]&&(a=!t[33]&&t[31].getMonth()<11||!t[31].getMonth()),a?l?l.p(t,n):(l=li(t),l.c(),l.m(e,null)):l&&(l.d(1),l=null),144&n[0]&&i!==(i="translate("+(t[4](t[14](t[31]))-t[4](t[31]))+",-50)")&&y(e,"transform",i)},d(t){t&&s(e),l&&l.d()}}}function li(t){let e,n,r=t[31].getFullYear()+"";return{c(){e=d("text"),n=g(r),y(e,"class","year svelte-1f5kcr5"),y(e,"y","20")},m(t,r){c(t,e,r),u(e,n)},p(t,e){128&e[0]&&r!==(r=t[31].getFullYear()+"")&&M(n,r)},d(t){t&&s(e)}}}function ui(t){let e,n,r,i,o,a,l=t[14](t[31])<t[5],f=l&&ai(t);return{c(){e=d("g"),n=d("line"),f&&f.c(),y(n,"y1",r="-"+t[9]),y(n,"y2",i="-"+t[3].bottom),y(n,"x1","0"),y(n,"x2","0"),y(n,"class","svelte-1f5kcr5"),y(e,"class",o="tick tick-"+t[31]+" svelte-1f5kcr5"),y(e,"transform",a="translate("+t[4](t[31])+","+t[9]+")")},m(t,r){c(t,e,r),u(e,n),f&&f.m(e,null)},p(t,u){512&u[0]&&r!==(r="-"+t[9])&&y(n,"y1",r),8&u[0]&&i!==(i="-"+t[3].bottom)&&y(n,"y2",i),160&u[0]&&(l=t[14](t[31])<t[5]),l?f?f.p(t,u):(f=ai(t),f.c(),f.m(e,null)):f&&(f.d(1),f=null),128&u[0]&&o!==(o="tick tick-"+t[31]+" svelte-1f5kcr5")&&y(e,"class",o),656&u[0]&&a!==(a="translate("+t[4](t[31])+","+t[9]+")")&&y(e,"transform",a)},d(t){t&&s(e),f&&f.d()}}}function ci(t){let e,n;var r=t[28];function i(t){return{props:{data:t[0],grouped:t[2],xScale:t[4],yScale:t[8]}}}if(r)var o=new r(i(t));return{c(){o&&B(o.$$.fragment),e=p()},m(t,r){o&&X(o,t,r),c(t,e,r),n=!0},p(t,n){const a={};if(1&n[0]&&(a.data=t[0]),4&n[0]&&(a.grouped=t[2]),16&n[0]&&(a.xScale=t[4]),256&n[0]&&(a.yScale=t[8]),r!==(r=t[28])){if(o){q();const t=o;Z(t.$$.fragment,1,0,()=>{Q(t,1)}),J()}r?(B((o=new r(i(t))).$$.fragment),O(o.$$.fragment,1),X(o,e.parentNode,e)):o=null}else r&&o.$set(a)},i(t){n||(o&&O(o.$$.fragment,t),n=!0)},o(t){o&&Z(o.$$.fragment,t),n=!1},d(t){t&&s(e),o&&Q(o,t)}}}function si(t){let e,n,r,i,o,a,l,g,m,p;H(t[26]);let M=t[10],x=[];for(let e=0;e<M.length;e+=1)x[e]=oi(ii(t,M,e));let b=t[7],w=[];for(let e=0;e<b.length;e+=1)w[e]=ui(ri(t,b,e));let $=t[1],_=[];for(let e=0;e<$.length;e+=1)_[e]=ci(ni(t,$,e));const T=t=>Z(_[t],1,1,()=>{_[t]=null});return{c(){e=h("div"),n=d("svg"),r=d("g"),i=d("g");for(let t=0;t<x.length;t+=1)x[t].c();o=d("g");for(let t=0;t<w.length;t+=1)w[t].c();for(let t=0;t<_.length;t+=1)_[t].c();a=d("line"),y(i,"class","axis y-axis"),y(o,"class","axis x-axis svelte-1f5kcr5"),y(a,"class","zero svelte-1f5kcr5"),y(a,"transform",l="translate(0,"+t[8](0)+")"),y(a,"x2","100%"),y(n,"height",t[9]),y(n,"class","svelte-1f5kcr5"),y(e,"class","chart svelte-1f5kcr5"),H(()=>t[27].call(e)),p=v(window,"resize",t[26])},m(l,s){c(l,e,s),u(e,n),u(n,r),u(r,i);for(let t=0;t<x.length;t+=1)x[t].m(i,null);u(r,o);for(let t=0;t<w.length;t+=1)w[t].m(o,null);for(let t=0;t<_.length;t+=1)_[t].m(r,null);u(r,a),g=function(t,e){"static"===getComputedStyle(t).position&&(t.style.position="relative");const n=document.createElement("object");let r;return n.setAttribute("style","display: block; position: absolute; top: 0; left: 0; height: 100%; width: 100%; overflow: hidden; pointer-events: none; z-index: -1;"),n.setAttribute("aria-hidden","true"),n.type="text/html",n.tabIndex=-1,n.onload=()=>{r=n.contentDocument.defaultView,r.addEventListener("resize",e)},/Trident/.test(navigator.userAgent)?(t.appendChild(n),n.data="about:blank"):(n.data="about:blank",t.appendChild(n)),{cancel:()=>{r&&r.removeEventListener&&r.removeEventListener("resize",e),t.removeChild(n)}}}(e,t[27].bind(e)),m=!0},p(t,e){if(1280&e[0]){let n;for(M=t[10],n=0;n<M.length;n+=1){const r=ii(t,M,n);x[n]?x[n].p(r,e):(x[n]=oi(r),x[n].c(),x[n].m(i,null))}for(;n<x.length;n+=1)x[n].d(1);x.length=M.length}if(23224&e[0]){let n;for(b=t[7],n=0;n<b.length;n+=1){const r=ri(t,b,n);w[n]?w[n].p(r,e):(w[n]=ui(r),w[n].c(),w[n].m(o,null))}for(;n<w.length;n+=1)w[n].d(1);w.length=b.length}if(279&e[0]){let n;for($=t[1],n=0;n<$.length;n+=1){const i=ni(t,$,n);_[n]?(_[n].p(i,e),O(_[n],1)):(_[n]=ci(i),_[n].c(),O(_[n],1),_[n].m(r,a))}for(q(),n=$.length;n<_.length;n+=1)T(n);J()}(!m||256&e[0]&&l!==(l="translate(0,"+t[8](0)+")"))&&y(a,"transform",l),(!m||512&e[0])&&y(n,"height",t[9])},i(t){if(!m){for(let t=0;t<$.length;t+=1)O(_[t]);m=!0}},o(t){_=_.filter(Boolean);for(let t=0;t<_.length;t+=1)Z(_[t]);m=!1},d(t){t&&s(e),f(x,t),f(w,t),f(_,t),g.cancel(),p()}}}function fi(t,e,n){let r,i,o,l,u,c,s,f,h;a(t,Kt,t=>n(19,r=t)),a(t,Bt,t=>n(20,i=t)),a(t,Vt,t=>n(5,o=t)),a(t,Wt,t=>n(6,l=t)),a(t,te,t=>n(21,u=t)),a(t,qt,t=>n(22,c=t)),a(t,Ot,t=>n(23,s=t)),a(t,Zt,t=>n(24,f=t)),a(t,It,t=>n(13,h=t));let{data:d=[]}=e,g=-29,m=45,{layers:p=[]}=e;const v=Un("-%m-%d");let y,M,x,b,w,$,_,T,k,S,A;return t.$set=t=>{"data"in t&&n(0,d=t.data),"layers"in t&&n(1,p=t.layers)},t.$$.update=()=>{if(1&t.$$.dirty[0]&&n(17,M=d.filter(t=>t.tMin>-999&&t.tMax>-999)),655360&t.$$.dirty[0]&&n(18,x=r>0?M.map((t,e)=>({date:t.date,dateRaw:t.dateRaw,tMin:de(M.slice(Math.max(0,e-r),e+r+1).map(t=>t.tMin)),tAvg:de(M.slice(Math.max(0,e-r),e+r+1).map(t=>t.tAvg)),tMax:de(M.slice(Math.max(0,e-r),e+r+1).map(t=>t.tMax))})):M),1048680&t.$$.dirty[0]&&n(4,w=ei().domain([i,o]).range([b.left,l-b.right])),16&t.$$.dirty[0]&&n(7,$=w.ticks(Ft)),30900257&t.$$.dirty[0]){const t=oe(M,t=>t.dateRaw.substr(4)),e=oe(x,t=>t.dateRaw.substr(4));for(n(15,g=99),n(16,m=-99),n(2,y=St(i,kt.offset(o,1)).map(r=>{const o=v(r),a=t.get(o).filter(t=>t.date.getTime()<i.getTime()),l=function(t,e){let n;if(void 0===e)for(const e of t)null!=e&&(n>e||void 0===n&&e>=e)&&(n=e);else{let r=-1;for(let i of t)null!=(i=e(i,++r,t))&&(n>i||void 0===n&&i>=i)&&(n=i)}return n}(a,t=>t.tMin),u=function(t,e){let n;if(void 0===e)for(const e of t)null!=e&&(n<e||void 0===n&&e>=e)&&(n=e);else{let r=-1;for(let i of t)null!=(i=e(i,++r,t))&&(n<i||void 0===n&&i>=i)&&(n=i)}return n}(a,t=>t.tMax),h=e.get(o).filter(t=>t.date.getFullYear()>=c&&t.date.getFullYear()<s),p=h.map(t=>t.tMin).sort(ee),y=h.map(t=>t.tAvg).sort(ee),M=h.map(t=>t.tMax).sort(ee),x=r.getFullYear()+o,b=d.find(t=>t.dateRaw===x);n(15,g=Math.min(g,l-5)),n(16,m=Math.max(m,u+5)),b&&(n(15,g=Math.min(g,b.tMin-5)),n(16,m=Math.max(m,b.tMax+5)));const w=he(y,.5);return{date:r,dateRaw:x,grouped:h,tMin:f<100?he(p,f/100):w,tAvg:w,tMax:f<100?he(M,1-f/100):w,tMinAbs:l,tMaxAbs:u,tMinSorted:p,tAvgSorted:y,tMaxSorted:M}}));m-g<40;)n(16,m++,m),n(15,g--,g)}64&t.$$.dirty[0]&&n(9,k=Math.max(450,l*(l>800?.35:l>500?.7:1))),98824&t.$$.dirty[0]&&n(8,_=function t(){var e=hn();return e.copy=function(){return sn(e,t())},ge.apply(e,arguments),Dn(e)}().domain([g,m]).range([k-b.bottom,b.top])),256&t.$$.dirty[0]&&n(10,T=_.ticks(6)),2097152&t.$$.dirty[0]&&n(11,S=(t,e)=>u.monthLong[t.getMonth()]),2097152&t.$$.dirty[0]&&n(12,A=(t,e)=>u.monthShort[t.getMonth()])},n(3,b={top:20,right:5,bottom:30,left:It<400?30:40}),[d,p,y,b,w,o,l,$,_,k,T,S,A,h,t=>new Date(t.getTime()+(new Date(t.getFullYear(),t.getMonth()+1,t.getDate())-t)/2),g,m,M,x,r,i,u,c,s,f,v,function(){It.set(h=window.innerWidth)},function(){l=this.clientWidth,Wt.set(l)}]}class hi extends K{constructor(t){super(),G(this,t,fi,si,o,{data:0,layers:1},[-1,-1])}}var di=Math.PI,gi=2*di,mi=gi-1e-6;function pi(){this._x0=this._y0=this._x1=this._y1=null,this._=""}function vi(){return new pi}function yi(t){return function(){return t}}function Mi(t){this._context=t}function xi(t){return new Mi(t)}function bi(t){return t[0]}function wi(t){return t[1]}function $i(){var t=bi,e=wi,n=yi(!0),r=null,i=xi,o=null;function a(a){var l,u,c,s=a.length,f=!1;for(null==r&&(o=i(c=vi())),l=0;l<=s;++l)!(l<s&&n(u=a[l],l,a))===f&&((f=!f)?o.lineStart():o.lineEnd()),f&&o.point(+t(u,l,a),+e(u,l,a));if(c)return o=null,c+""||null}return a.x=function(e){return arguments.length?(t="function"==typeof e?e:yi(+e),a):t},a.y=function(t){return arguments.length?(e="function"==typeof t?t:yi(+t),a):e},a.defined=function(t){return arguments.length?(n="function"==typeof t?t:yi(!!t),a):n},a.curve=function(t){return arguments.length?(i=t,null!=r&&(o=i(r)),a):i},a.context=function(t){return arguments.length?(null==t?r=o=null:o=i(r=t),a):r},a}function _i(){var t=bi,e=null,n=yi(0),r=wi,i=yi(!0),o=null,a=xi,l=null;function u(u){var c,s,f,h,d,g=u.length,m=!1,p=new Array(g),v=new Array(g);for(null==o&&(l=a(d=vi())),c=0;c<=g;++c){if(!(c<g&&i(h=u[c],c,u))===m)if(m=!m)s=c,l.areaStart(),l.lineStart();else{for(l.lineEnd(),l.lineStart(),f=c-1;f>=s;--f)l.point(p[f],v[f]);l.lineEnd(),l.areaEnd()}m&&(p[c]=+t(h,c,u),v[c]=+n(h,c,u),l.point(e?+e(h,c,u):p[c],r?+r(h,c,u):v[c]))}if(d)return l=null,d+""||null}function c(){return $i().defined(i).curve(a).context(o)}return u.x=function(n){return arguments.length?(t="function"==typeof n?n:yi(+n),e=null,u):t},u.x0=function(e){return arguments.length?(t="function"==typeof e?e:yi(+e),u):t},u.x1=function(t){return arguments.length?(e=null==t?null:"function"==typeof t?t:yi(+t),u):e},u.y=function(t){return arguments.length?(n="function"==typeof t?t:yi(+t),r=null,u):n},u.y0=function(t){return arguments.length?(n="function"==typeof t?t:yi(+t),u):n},u.y1=function(t){return arguments.length?(r=null==t?null:"function"==typeof t?t:yi(+t),u):r},u.lineX0=u.lineY0=function(){return c().x(t).y(n)},u.lineY1=function(){return c().x(t).y(r)},u.lineX1=function(){return c().x(e).y(n)},u.defined=function(t){return arguments.length?(i="function"==typeof t?t:yi(!!t),u):i},u.curve=function(t){return arguments.length?(a=t,null!=o&&(l=a(o)),u):a},u.context=function(t){return arguments.length?(null==t?o=l=null:l=a(o=t),u):o},u}function Ti(t,e,n){t._context.bezierCurveTo((2*t._x0+t._x1)/3,(2*t._y0+t._y1)/3,(t._x0+2*t._x1)/3,(t._y0+2*t._y1)/3,(t._x0+4*t._x1+e)/6,(t._y0+4*t._y1+n)/6)}function ki(t){this._context=t}function Si(t){return new ki(t)}function Ai(t,e){this._context=t,this._t=e}function Di(t){return new Ai(t,.5)}function Ci(e){let n;return{c(){n=d("path"),y(n,"d",e[0])},m(t,e){c(t,n,e)},p(t,[e]){1&e&&y(n,"d",t[0])},i:t,o:t,d(t){t&&s(n)}}}function Ni(t,e,n){let r,{low:i="tMin"}=e,{high:o="tMax"}=e,{xScale:a}=e,{yScale:l}=e,{data:u}=e;return t.$set=t=>{"low"in t&&n(1,i=t.low),"high"in t&&n(2,o=t.high),"xScale"in t&&n(3,a=t.xScale),"yScale"in t&&n(4,l=t.yScale),"data"in t&&n(5,u=t.data)},t.$$.update=()=>{62&t.$$.dirty&&n(0,r=_i().curve(Di).x(t=>a(t.date)).y0(t=>l(t[i])).y1(t=>l(t[o]))(u))},[r,i,o,a,l,u]}pi.prototype=vi.prototype={constructor:pi,moveTo:function(t,e){this._+="M"+(this._x0=this._x1=+t)+","+(this._y0=this._y1=+e)},closePath:function(){null!==this._x1&&(this._x1=this._x0,this._y1=this._y0,this._+="Z")},lineTo:function(t,e){this._+="L"+(this._x1=+t)+","+(this._y1=+e)},quadraticCurveTo:function(t,e,n,r){this._+="Q"+ +t+","+ +e+","+(this._x1=+n)+","+(this._y1=+r)},bezierCurveTo:function(t,e,n,r,i,o){this._+="C"+ +t+","+ +e+","+ +n+","+ +r+","+(this._x1=+i)+","+(this._y1=+o)},arcTo:function(t,e,n,r,i){t=+t,e=+e,n=+n,r=+r,i=+i;var o=this._x1,a=this._y1,l=n-t,u=r-e,c=o-t,s=a-e,f=c*c+s*s;if(i<0)throw new Error("negative radius: "+i);if(null===this._x1)this._+="M"+(this._x1=t)+","+(this._y1=e);else if(f>1e-6)if(Math.abs(s*l-u*c)>1e-6&&i){var h=n-o,d=r-a,g=l*l+u*u,m=h*h+d*d,p=Math.sqrt(g),v=Math.sqrt(f),y=i*Math.tan((di-Math.acos((g+f-m)/(2*p*v)))/2),M=y/v,x=y/p;Math.abs(M-1)>1e-6&&(this._+="L"+(t+M*c)+","+(e+M*s)),this._+="A"+i+","+i+",0,0,"+ +(s*h>c*d)+","+(this._x1=t+x*l)+","+(this._y1=e+x*u)}else this._+="L"+(this._x1=t)+","+(this._y1=e);else;},arc:function(t,e,n,r,i,o){t=+t,e=+e,o=!!o;var a=(n=+n)*Math.cos(r),l=n*Math.sin(r),u=t+a,c=e+l,s=1^o,f=o?r-i:i-r;if(n<0)throw new Error("negative radius: "+n);null===this._x1?this._+="M"+u+","+c:(Math.abs(this._x1-u)>1e-6||Math.abs(this._y1-c)>1e-6)&&(this._+="L"+u+","+c),n&&(f<0&&(f=f%gi+gi),f>mi?this._+="A"+n+","+n+",0,1,"+s+","+(t-a)+","+(e-l)+"A"+n+","+n+",0,1,"+s+","+(this._x1=u)+","+(this._y1=c):f>1e-6&&(this._+="A"+n+","+n+",0,"+ +(f>=di)+","+s+","+(this._x1=t+n*Math.cos(i))+","+(this._y1=e+n*Math.sin(i))))},rect:function(t,e,n,r){this._+="M"+(this._x0=this._x1=+t)+","+(this._y0=this._y1=+e)+"h"+ +n+"v"+ +r+"h"+-n+"Z"},toString:function(){return this._}},Mi.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e)}}},ki.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:Ti(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:Ti(this,t,e)}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}},Ai.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&2===this._point&&this._context.lineTo(this._x,this._y),(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:if(this._t<=0)this._context.lineTo(this._x,e),this._context.lineTo(t,e);else{var n=this._x*(1-this._t)+t*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,e)}}this._x=t,this._y=e}};class Fi extends K{constructor(t){super(),G(this,t,Ni,Ci,o,{low:1,high:2,xScale:3,yScale:4,data:5})}}function Li(t){let e,n;const r=new Fi({props:{xScale:t[0],yScale:t[1],data:t[2]}});return{c(){e=d("g"),B(r.$$.fragment),y(e,"class","svelte-19ej34d")},m(t,i){c(t,e,i),X(r,e,null),n=!0},p(t,[e]){const n={};1&e&&(n.xScale=t[0]),2&e&&(n.yScale=t[1]),4&e&&(n.data=t[2]),r.$set(n)},i(t){n||(O(r.$$.fragment,t),n=!0)},o(t){Z(r.$$.fragment,t),n=!1},d(t){t&&s(e),Q(r)}}}function Ui(t,e,n){let r,{xScale:i}=e,{yScale:o}=e,{data:a}=e,{grouped:l}=e;return t.$set=t=>{"xScale"in t&&n(0,i=t.xScale),"yScale"in t&&n(1,o=t.yScale),"data"in t&&n(3,a=t.data),"grouped"in t&&n(4,l=t.grouped)},t.$$.update=()=>{16&t.$$.dirty&&n(2,r=l.map(t=>({date:t.date,tMin:t.tMinAbs,tMax:t.tMaxAbs})))},[i,o,r,a,l]}class Yi extends K{constructor(t){super(),G(this,t,Ui,Li,o,{xScale:0,yScale:1,data:3,grouped:4})}}function Hi(e){let n,r;return{c(){n=d("g"),r=d("path"),y(r,"d",e[0]),y(r,"class","svelte-1cmn9dm"),y(n,"class","normal-temp")},m(t,e){c(t,n,e),u(n,r)},p(t,[e]){1&e&&y(r,"d",t[0])},i:t,o:t,d(t){t&&s(n)}}}function Ei(t,e,n){let r,i,{xScale:o}=e,{yScale:a}=e,{grouped:l}=e;return t.$set=t=>{"xScale"in t&&n(1,o=t.xScale),"yScale"in t&&n(2,a=t.yScale),"grouped"in t&&n(3,l=t.grouped)},t.$$.update=()=>{6&t.$$.dirty&&n(4,i=$i().x(t=>o(t.date)).y(t=>a(t.tAvg)).curve(Si)),24&t.$$.dirty&&n(0,r=i(l))},[r,o,a,l]}class Ri extends K{constructor(t){super(),G(this,t,Ei,Hi,o,{xScale:1,yScale:2,grouped:3})}}function zi(t){let e,n;const r=new Fi({props:{xScale:t[0],yScale:t[1],data:t[2]}});return{c(){e=d("g"),B(r.$$.fragment),y(e,"class","normal-temp-range svelte-1q0l0k4"),_(e,"faint",t[3])},m(t,i){c(t,e,i),X(r,e,null),n=!0},p(t,[n]){const i={};1&n&&(i.xScale=t[0]),2&n&&(i.yScale=t[1]),4&n&&(i.data=t[2]),r.$set(i),8&n&&_(e,"faint",t[3])},i(t){n||(O(r.$$.fragment,t),n=!0)},o(t){Z(r.$$.fragment,t),n=!1},d(t){t&&s(e),Q(r)}}}function ji(t,e,n){let r;a(t,Qt,t=>n(3,r=t));let i,{xScale:o}=e,{yScale:l}=e,{data:u}=e,{grouped:c}=e;return t.$set=t=>{"xScale"in t&&n(0,o=t.xScale),"yScale"in t&&n(1,l=t.yScale),"data"in t&&n(4,u=t.data),"grouped"in t&&n(5,c=t.grouped)},t.$$.update=()=>{32&t.$$.dirty&&n(2,i=c)},[o,l,i,r,u,c]}class Pi extends K{constructor(t){super(),G(this,t,ji,zi,o,{xScale:0,yScale:1,data:4,grouped:5})}}function qi(t,e,n){const r=t.slice();return r[19]=e[n],r}function Ji(t){let e,n,r;return{c(){e=d("line"),y(e,"y1",n=t[1](t[19].tMin)),y(e,"y2",r=t[1](t[19].tMax)),y(e,"class","svelte-1lysxd8")},m(t,n){c(t,e,n)},p(t,i){34&i&&n!==(n=t[1](t[19].tMin))&&y(e,"y1",n),34&i&&r!==(r=t[1](t[19].tMax))&&y(e,"y2",r)},d(t){t&&s(e)}}}function Oi(t){let e,n,r,i=t[19].tMin<t[19].trendMin&&Zi(t),o=t[19].tMax>t[19].trendMax&&Vi(t),a=t[19].tMin<t[19].trendMax&&t[19].tMax>t[19].trendMin&&Ii(t);return{c(){i&&i.c(),e=p(),o&&o.c(),n=p(),a&&a.c(),r=p()},m(t,l){i&&i.m(t,l),c(t,e,l),o&&o.m(t,l),c(t,n,l),a&&a.m(t,l),c(t,r,l)},p(t,l){t[19].tMin<t[19].trendMin?i?i.p(t,l):(i=Zi(t),i.c(),i.m(e.parentNode,e)):i&&(i.d(1),i=null),t[19].tMax>t[19].trendMax?o?o.p(t,l):(o=Vi(t),o.c(),o.m(n.parentNode,n)):o&&(o.d(1),o=null),t[19].tMin<t[19].trendMax&&t[19].tMax>t[19].trendMin?a?a.p(t,l):(a=Ii(t),a.c(),a.m(r.parentNode,r)):a&&(a.d(1),a=null)},d(t){i&&i.d(t),t&&s(e),o&&o.d(t),t&&s(n),a&&a.d(t),t&&s(r)}}}function Zi(t){let e,n,r;return{c(){e=d("line"),y(e,"class","colder svelte-1lysxd8"),y(e,"y1",n=t[1](t[19].tMin)),y(e,"y2",r=t[1](Math.min(t[19].tMax,t[19].trendMin)))},m(t,n){c(t,e,n)},p(t,i){34&i&&n!==(n=t[1](t[19].tMin))&&y(e,"y1",n),34&i&&r!==(r=t[1](Math.min(t[19].tMax,t[19].trendMin)))&&y(e,"y2",r)},d(t){t&&s(e)}}}function Vi(t){let e,n,r;return{c(){e=d("line"),y(e,"class","hotter svelte-1lysxd8"),y(e,"y1",n=t[1](t[19].tMax)),y(e,"y2",r=t[1](Math.max(t[19].tMin,t[19].trendMax)))},m(t,n){c(t,e,n)},p(t,i){34&i&&n!==(n=t[1](t[19].tMax))&&y(e,"y1",n),34&i&&r!==(r=t[1](Math.max(t[19].tMin,t[19].trendMax)))&&y(e,"y2",r)},d(t){t&&s(e)}}}function Ii(t){let e,n,r;return{c(){e=d("line"),y(e,"class","normal svelte-1lysxd8"),y(e,"y1",n=t[1](Math.max(t[19].trendMin,t[19].tMin))),y(e,"y2",r=t[1](Math.min(t[19].trendMax,t[19].tMax)))},m(t,n){c(t,e,n)},p(t,i){34&i&&n!==(n=t[1](Math.max(t[19].trendMin,t[19].tMin)))&&y(e,"y1",n),34&i&&r!==(r=t[1](Math.min(t[19].trendMax,t[19].tMax)))&&y(e,"y2",r)},d(t){t&&s(e)}}}function Wi(t){let e,n,r,i,o,a,l,f,h,m,v,x,b=t[4](t[19].date)+"",w=t[19].tMax+"",$=t[19].tMin+"",_=t[1](t[19].tMin)-t[1](t[19].tMax)>30,T=_&&Bi(t);return{c(){e=d("text"),n=g(b),i=d("text"),o=g(w),a=g("°C"),f=d("text"),h=g($),m=g("°C"),T&&T.c(),x=p(),y(e,"class","date svelte-1lysxd8"),y(e,"y",r=t[1](t[19].tMax)-25),y(i,"y",l=t[1](t[19].tMax)-5),y(i,"class","svelte-1lysxd8"),y(f,"class","min svelte-1lysxd8"),y(f,"y",v=t[1](t[19].tMin)+5)},m(t,r){c(t,e,r),u(e,n),c(t,i,r),u(i,o),u(i,a),c(t,f,r),u(f,h),u(f,m),T&&T.m(t,r),c(t,x,r)},p(t,a){48&a&&b!==(b=t[4](t[19].date)+"")&&M(n,b),34&a&&r!==(r=t[1](t[19].tMax)-25)&&y(e,"y",r),32&a&&w!==(w=t[19].tMax+"")&&M(o,w),34&a&&l!==(l=t[1](t[19].tMax)-5)&&y(i,"y",l),32&a&&$!==($=t[19].tMin+"")&&M(h,$),34&a&&v!==(v=t[1](t[19].tMin)+5)&&y(f,"y",v),34&a&&(_=t[1](t[19].tMin)-t[1](t[19].tMax)>30),_?T?T.p(t,a):(T=Bi(t),T.c(),T.m(x.parentNode,x)):T&&(T.d(1),T=null)},d(t){t&&s(e),t&&s(i),t&&s(f),T&&T.d(t),t&&s(x)}}}function Bi(t){let e,n,r,i,o=t[19].tAvg+"";return{c(){e=d("text"),n=g(o),r=g("°C"),y(e,"class","avg svelte-1lysxd8"),y(e,"x","5"),y(e,"y",i=t[1](t[19].tAvg))},m(t,i){c(t,e,i),u(e,n),u(e,r)},p(t,r){32&r&&o!==(o=t[19].tAvg+"")&&M(n,o),34&r&&i!==(i=t[1](t[19].tAvg))&&y(e,"y",i)},d(t){t&&s(e)}}}function Xi(t){let e,n,r=t[19].tMax>t[19].tMaxAbs&&Qi(t),i=t[19].tMin<t[19].tMinAbs&&Ki(t);return{c(){r&&r.c(),e=p(),i&&i.c(),n=p()},m(t,o){r&&r.m(t,o),c(t,e,o),i&&i.m(t,o),c(t,n,o)},p(t,o){t[19].tMax>t[19].tMaxAbs?r?r.p(t,o):(r=Qi(t),r.c(),r.m(e.parentNode,e)):r&&(r.d(1),r=null),t[19].tMin<t[19].tMinAbs?i?i.p(t,o):(i=Ki(t),i.c(),i.m(n.parentNode,n)):i&&(i.d(1),i=null)},d(t){r&&r.d(t),t&&s(e),i&&i.d(t),t&&s(n)}}}function Qi(t){let e,n,r,i=t[19].labelMaxRecord&&Gi(t);return{c(){e=d("g"),i&&i.c(),n=d("path"),y(n,"d","M0,0 L-4,-4 L 4,-4 Z"),y(n,"class","svelte-1lysxd8"),y(e,"class","record high svelte-1lysxd8"),y(e,"transform",r="translate(0, "+(t[1](t[19].tMax)-7)+")")},m(t,r){c(t,e,r),i&&i.m(e,null),u(e,n)},p(t,o){t[19].labelMaxRecord?i?i.p(t,o):(i=Gi(t),i.c(),i.m(e,n)):i&&(i.d(1),i=null),34&o&&r!==(r="translate(0, "+(t[1](t[19].tMax)-7)+")")&&y(e,"transform",r)},d(t){t&&s(e),i&&i.d()}}}function Gi(t){let e,n,r=t[19].tMax+"";return{c(){e=d("text"),n=g(r),y(e,"y","-15"),y(e,"class","svelte-1lysxd8")},m(t,r){c(t,e,r),u(e,n)},p(t,e){32&e&&r!==(r=t[19].tMax+"")&&M(n,r)},d(t){t&&s(e)}}}function Ki(t){let e,n,r,i=t[19].labelMinRecord&&to(t);return{c(){e=d("g"),i&&i.c(),n=d("path"),y(n,"d","M0,0 L-4,4 L 4,4 Z"),y(n,"class","svelte-1lysxd8"),y(e,"class","record low svelte-1lysxd8"),y(e,"transform",r="translate(0, "+(t[1](t[19].tMin)+7)+")")},m(t,r){c(t,e,r),i&&i.m(e,null),u(e,n)},p(t,o){t[19].labelMinRecord?i?i.p(t,o):(i=to(t),i.c(),i.m(e,n)):i&&(i.d(1),i=null),34&o&&r!==(r="translate(0, "+(t[1](t[19].tMin)+7)+")")&&y(e,"transform",r)},d(t){t&&s(e),i&&i.d()}}}function to(t){let e,n,r=t[19].tMin+"";return{c(){e=d("text"),n=g(r),y(e,"y","15"),y(e,"class","svelte-1lysxd8")},m(t,r){c(t,e,r),u(e,n)},p(t,e){32&e&&r!==(r=t[19].tMin+"")&&M(n,r)},d(t){t&&s(e)}}}function eo(t){let e,n,r,i,o,a,l=t[3]&&io(t[3],t[19].date);function f(t,e){return t[6]?Oi:Ji}let h=f(t),g=h(t),m=l&&Wi(t),v=t[7]&&!t[3]&&Xi(t);return{c(){e=d("g"),g.c(),n=d("circle"),m&&m.c(),o=p(),v&&v.c(),y(n,"r",r=t[3]&&io(t[3],t[19].date)?3:2),y(n,"transform",i="translate(0,"+t[1](t[19].tAvg)+")"),y(n,"class","svelte-1lysxd8"),_(n,"hotter",t[6]&&t[19].tAvg>t[19].trendMax),_(n,"colder",t[6]&&t[19].tAvg<t[19].trendMin),_(n,"normal",t[6]&&t[19].tAvg>=t[19].trendMin&&t[19].tAvg<=t[19].trendMax),y(e,"class","day svelte-1lysxd8"),y(e,"transform",a="translate("+t[0](t[19].date)+",0)"),_(e,"highlight",t[3]&&io(t[3],t[19].date)),_(e,"sameMonth",t[3]&&ro(t[3],t[19].date))},m(t,r){c(t,e,r),g.m(e,null),u(e,n),m&&m.m(e,null),u(e,o),v&&v.m(e,null)},p(t,u){h===(h=f(t))&&g?g.p(t,u):(g.d(1),g=h(t),g&&(g.c(),g.m(e,n))),40&u&&r!==(r=t[3]&&io(t[3],t[19].date)?3:2)&&y(n,"r",r),34&u&&i!==(i="translate(0,"+t[1](t[19].tAvg)+")")&&y(n,"transform",i),96&u&&_(n,"hotter",t[6]&&t[19].tAvg>t[19].trendMax),96&u&&_(n,"colder",t[6]&&t[19].tAvg<t[19].trendMin),96&u&&_(n,"normal",t[6]&&t[19].tAvg>=t[19].trendMin&&t[19].tAvg<=t[19].trendMax),40&u&&(l=t[3]&&io(t[3],t[19].date)),l?m?m.p(t,u):(m=Wi(t),m.c(),m.m(e,o)):m&&(m.d(1),m=null),t[7]&&!t[3]?v?v.p(t,u):(v=Xi(t),v.c(),v.m(e,null)):v&&(v.d(1),v=null),33&u&&a!==(a="translate("+t[0](t[19].date)+",0)")&&y(e,"transform",a),40&u&&_(e,"highlight",t[3]&&io(t[3],t[19].date)),40&u&&_(e,"sameMonth",t[3]&&ro(t[3],t[19].date))},d(t){t&&s(e),g.d(),m&&m.d(),v&&v.d()}}}function no(e){let n,i,o=e[5],a=[];for(let t=0;t<o.length;t+=1)a[t]=eo(qi(e,o,t));return{c(){n=d("g");for(let t=0;t<a.length;t+=1)a[t].c();y(n,"class","svelte-1lysxd8"),_(n,"highlight",e[3]),i=[v(window,"mousemove",e[8]),v(window,"mouseout",e[17])]},m(t,r){c(t,n,r);for(let t=0;t<a.length;t+=1)a[t].m(n,null);e[18](n)},p(t,[e]){if(251&e){let r;for(o=t[5],r=0;r<o.length;r+=1){const i=qi(t,o,r);a[r]?a[r].p(i,e):(a[r]=eo(i),a[r].c(),a[r].m(n,null))}for(;r<a.length;r+=1)a[r].d(1);a.length=o.length}8&e&&_(n,"highlight",t[3])},i:t,o:t,d(t){t&&s(n),f(a,t),e[18](null),r(i)}}}function ro(t,e){return function(t,e){return t.getFullYear()===e.getFullYear()}(t,e)&&t.getMonth()===e.getMonth()}function io(t,e){return ro(t,e)&&t.getDate()===e.getDate()}function oo(t,e,n){let r,i,o,l,u,c;a(t,Xt,t=>n(11,r=t)),a(t,te,t=>n(12,i=t)),a(t,Bt,t=>n(14,o=t)),a(t,Vt,t=>n(15,l=t)),a(t,Qt,t=>n(6,u=t)),a(t,Gt,t=>n(7,c=t));let{xScale:s}=e,{yScale:f}=e,{data:h}=e,{grouped:d}=e;const g=Un("%Y-%m-%d");let m,p;let v,y,M;return t.$set=t=>{"xScale"in t&&n(0,s=t.xScale),"yScale"in t&&n(1,f=t.yScale),"data"in t&&n(9,h=t.data),"grouped"in t&&n(10,d=t.grouped)},t.$$.update=()=>{6144&t.$$.dirty&&n(4,v=t=>"de"===r?`${t.getDate()}. ${i.monthShort[t.getMonth()]}`:`${i.monthShort[t.getMonth()]} ${t.getDate()}`),49664&t.$$.dirty&&n(13,y=h.filter(t=>t.dateRaw>=g(o)&&t.dateRaw<=g(l))),9408&t.$$.dirty&&n(5,M=y.map(t=>{if(u){const e=d.find(e=>e.dateRaw===t.dateRaw);e&&(t.trendMin=e.tMin,t.trendMax=e.tMax,t.tMinAbs=e.tMinAbs,t.tMaxAbs=e.tMaxAbs,(t.tMax>t.tMaxAbs||t.tMin<t.tMinAbs)&&(t.labelMaxRecord=!0,t.labelMinRecord=!0))}return t}).map((t,e)=>(c&&(t.tMax>t.tMaxAbs||t.tMin<t.tMinAbs)&&y.slice(Math.max(0,e-7),e+8).forEach(e=>{t!=e&&e.tMax>e.tMaxAbs&&e.labelMaxRecord&&e.tMax>=t.tMax&&(t.labelMaxRecord=!1),t!=e&&e.tMin<e.tMinAbs&&e.labelMinRecord&&e.tMin<=t.tMin&&(t.labelMinRecord=!1)}),t)))},[s,f,m,p,v,M,u,c,function(t){const[e,r]=function(t,e){var n=t.ownerSVGElement||t;if(n.createSVGPoint){var r=n.createSVGPoint();return r.x=e.clientX,r.y=e.clientY,[(r=r.matrixTransform(t.getScreenCTM().inverse())).x,r.y]}var i=t.getBoundingClientRect();return[e.clientX-i.left-t.clientLeft,e.clientY-i.top-t.clientTop]}(m,t),i=s.invert(e),o=f.invert(r);n(3,p=o>=f.domain()[0]&&o<=f.domain()[1]?i:null)},h,d,r,i,y,o,l,g,()=>n(3,p=null),function(t){C[t?"unshift":"push"](()=>{n(2,m=t)})}]}class ao extends K{constructor(t){super(),G(this,t,oo,no,o,{xScale:0,yScale:1,data:9,grouped:10})}}function lo(e){let n,r,i,o,a;return{c(){n=h("div"),r=h("input"),i=m(),o=h("label"),y(r,"type","checkbox"),y(r,"class","custom-control-input"),y(r,"id",e[2]),y(o,"class","custom-control-label"),y(o,"for",e[2]),y(n,"class","custom-control custom-checkbox svelte-12sx5g2"),a=v(r,"change",e[3])},m(t,a){c(t,n,a),u(n,r),r.checked=e[0],u(n,i),u(n,o),o.innerHTML=e[1]},p(t,[e]){1&e&&(r.checked=t[0]),2&e&&(o.innerHTML=t[1])},i:t,o:t,d(t){t&&s(n),a()}}}function uo(t,e,n){let{value:r}=e,{label:i}=e;const o=`checkbox-${Math.round(1e6*Math.random()).toString(30)}`;return t.$set=t=>{"value"in t&&n(0,r=t.value),"label"in t&&n(1,i=t.label)},[r,i,o,function(){r=this.checked,n(0,r)}]}class co extends K{constructor(t){super(),G(this,t,uo,lo,o,{value:0,label:1})}}function so(t,e,n){const r=t.slice();return r[42]=e[n],r}function fo(t,e,n){const r=t.slice();return r[45]=e[n],r}function ho(e){let n,r,i;return{c(){n=h("option"),r=g(e[45]),n.__value=i=e[45],n.value=n.__value},m(t,e){c(t,n,e),u(n,r)},p:t,d(t){t&&s(n)}}}function go(e){let n,r,i;return{c(){n=h("option"),r=g(e[42]),n.__value=i=e[42],n.value=n.__value},m(t,e){c(t,n,e),u(n,r)},p:t,d(t){t&&s(n)}}}function mo(t){let e,n,i,o,a,l,d,p,$,_,T,k,S,A,D,N,F,L,U,Y,R,z,j,P,q,J,V,I,G,K,tt,et,nt,rt,it,ot,at,lt,ut,ct,st,ft,ht,dt,gt,mt,pt,vt,yt,Mt,xt,bt,wt,$t,_t,Tt,kt,St,At,Dt,Ct,Nt,Ft,Lt,Ut,Yt,Ht,Et,Rt,zt,jt,Pt,qt,Jt,Ot,Zt,Vt,It,Wt,Bt,Xt,Qt,Gt,Kt,te,ee,ne,re,ie,oe,ae,le,ue,ce,se,fe,he,de,ge,me,pe,ve,ye,Me,xe,be,we,$e,_e,Te,ke,Se,Ae,De,Ce,Ne=t[8].source+"",Fe=t[8].visBy+"",Le=t[8].today+"",Ue=t[8].intro+"",Ye=t[8].customize+"",He=t[8].overFullPeriod+"",Ee=t[8].anomaliesNote+"",Re=t[8].recordsNote+"",ze=t[8].avgHighLowInfo+"",je=t[8].overPeriod+"",Pe=t[15]-1+"",qe=t[8].changePeriod+"",Je=t[8].periodYearsFrom+"",Oe=!1,Ze=t[8].smooth+"",Ve=(1===t[17]?t[8].day:t[8].days)+"";const Ie=new hi({props:{data:t[0],layers:t[4]}});function We(e){t[34].call(null,e)}let Be={label:t[8].absRecords};void 0!==t[1]&&(Be.value=t[1]);const Xe=new co({props:Be});function Qe(e){t[35].call(null,e)}C.push(()=>W(Xe,"value",We));let Ge={label:t[8].showAnomalies};void 0!==t[12]&&(Ge.value=t[12]);const Ke=new co({props:Ge});function tn(e){t[36].call(null,e)}C.push(()=>W(Ke,"value",Qe));let en={label:t[8].showRecords};void 0!==t[13]&&(en.value=t[13]);const nn=new co({props:en});function rn(e){t[37].call(null,e)}C.push(()=>W(nn,"value",tn));let on={label:t[8].avgHighLow};void 0!==t[3]&&(on.value=t[3]);const an=new co({props:on});function ln(e){t[38].call(null,e)}C.push(()=>W(an,"value",rn));let un={label:t[8].avgMedian};void 0!==t[2]&&(un.value=t[2]);const cn=new co({props:un});C.push(()=>W(cn,"value",ln));let sn=[5,10,15,20,25,30,35,40,50,60,70,80],fn=[];for(let e=0;e<12;e+=1)fn[e]=ho(fo(t,sn,e));function hn(){Oe=!0,t[40].call(ve)}let dn=[0,1,2,3,4,5,7,15],gn=[];for(let e=0;e<8;e+=1)gn[e]=go(so(t,dn,e));return{c(){B(Ie.$$.fragment),e=m(),n=h("div"),i=h("div"),o=h("span"),a=g(Ne),l=g(":\n        "),d=h("a"),p=g("Deutscher Wetterdienst"),_=g("\n        /\n        "),T=h("a"),k=g("Climate Data Center"),A=m(),D=g(Fe),N=g(":\n            "),F=h("a"),F.textContent="Gregor Aisch",L=m(),U=h("div"),Y=h("div"),R=h("div"),z=h("div"),j=h("button"),j.innerHTML='<i class="im im-care-left svelte-1yffppn"></i> \n                        <i class="im im-care-left svelte-1yffppn"></i> \n                        <i class="im im-care-left svelte-1yffppn"></i>',P=m(),q=h("button"),q.innerHTML='<i class="im im-care-left svelte-1yffppn"></i> \n                        <i class="im im-care-left svelte-1yffppn"></i>',J=m(),V=h("button"),V.innerHTML='<i class="im im-care-left svelte-1yffppn"></i>',I=m(),G=h("div"),K=h("input"),tt=m(),et=h("div"),nt=h("div"),rt=h("button"),rt.innerHTML='<i class="im im-care-right svelte-1yffppn"></i>',it=m(),ot=h("button"),ot.innerHTML='<i class="im im-care-right svelte-1yffppn"></i> \n                        <i class="im im-care-right svelte-1yffppn"></i>',at=m(),lt=h("button"),lt.innerHTML='<i class="im im-care-right svelte-1yffppn"></i> \n                        <i class="im im-care-right svelte-1yffppn"></i> \n                        <i class="im im-care-right svelte-1yffppn"></i>',ut=m(),ct=h("div"),st=h("button"),ft=g(Le),ht=m(),dt=h("div"),gt=h("div"),mt=h("p"),pt=h("b"),vt=m(),yt=h("p"),Mt=m(),xt=h("img"),wt=m(),$t=h("div"),_t=h("p"),Tt=h("b"),kt=m(),St=h("div"),At=h("div"),B(Xe.$$.fragment),Ct=m(),Nt=h("p"),Ft=g(He),Lt=m(),B(Ke.$$.fragment),Yt=m(),Ht=h("p"),Et=g(Ee),Rt=m(),B(nn.$$.fragment),jt=m(),Pt=h("p"),qt=g(Re),Jt=m(),Ot=h("div"),Zt=h("div"),B(an.$$.fragment),It=m(),Wt=h("p"),Bt=g(ze),Xt=m(),B(cn.$$.fragment),Gt=m(),Kt=h("p"),te=g(je),ee=m(),ne=h("b"),re=g(t[14]),ie=g(" - "),oe=g(Pe),ae=g("\n                    ."),le=m(),ue=h("div"),ce=h("label"),se=g(qe),fe=m(),he=h("select");for(let t=0;t<12;t+=1)fn[t].c();de=m(),ge=h("label"),me=g(Je),pe=m(),ve=h("input"),Me=m(),xe=h("div"),be=h("label"),we=g(Ze),$e=g(" ±"),_e=m(),Te=h("select");for(let t=0;t<8;t+=1)gn[t].c();ke=m(),Se=h("label"),Ae=g(Ve),y(d,"href",$="https://www.dwd.de/"+t[11].toUpperCase()),y(d,"target","_blank"),y(T,"target","_blank"),y(T,"href",S=t[8].cdcUrl),y(o,"class","mr-4"),y(F,"href","https://vis4.net"),y(i,"class","col-auto mb-4"),y(j,"class","btn btn-outline-secondary svelte-1yffppn"),y(q,"class","btn btn-outline-secondary svelte-1yffppn"),y(V,"class","btn btn-outline-secondary svelte-1yffppn"),y(z,"class","btn-group btn-group-toggle"),y(z,"data-toggle","buttons"),y(R,"class","col-auto"),y(K,"class","form-control svelte-1yffppn"),y(K,"type","date"),K.value=t[9],K.required=!0,y(G,"class","col-auto form-group svelte-1yffppn"),y(rt,"class","btn btn-outline-secondary svelte-1yffppn"),y(ot,"class","btn btn-outline-secondary svelte-1yffppn"),y(lt,"class","btn btn-outline-secondary svelte-1yffppn"),y(nt,"class","btn-group btn-group-toggle"),y(nt,"data-toggle","buttons"),y(et,"class","col-auto"),y(st,"class","btn btn-outline-secondary"),y(ct,"class","col-auto"),y(Y,"class","form-row"),y(U,"class","col-auto"),y(n,"class","row justify-content-between"),y(yt,"class","text-muted"),b(xt,"max-width","100%"),b(xt,"margin-bottom","20px"),xt.src!==(bt="key-"+t[11]+".svg")&&y(xt,"src",bt),y(gt,"class","col-md-6 col-lg-4 col-xl-4"),y(Nt,"class","text-muted"),y(Ht,"class","text-muted"),y(Pt,"class","text-muted"),y(At,"class","col-xl-5"),y(Wt,"class","text-muted"),y(Zt,"class","form-inline svelte-1yffppn"),y(Kt,"class","text-muted"),y(ce,"class","text-muted my-1 mr-2"),y(he,"class","custom-select custom-select-sm"),void 0===t[16]&&H(()=>t[39].call(he)),y(ge,"class","my-1 mr-1 ml-1 text-muted"),y(ve,"type","number"),y(ve,"class","form-control form-control-sm svelte-1yffppn"),y(ve,"min",t[5]),y(ve,"max",ye=t[6]-t[16]),y(ue,"class","form-inline svelte-1yffppn"),y(be,"class","my-1 mr-2 text-muted"),y(Te,"class","custom-select custom-select-sm"),void 0===t[17]&&H(()=>t[41].call(Te)),y(Se,"class","my-1 mr-1 ml-1 text-muted"),y(xe,"class","form-inline svelte-1yffppn"),y(Ot,"class","col-xl"),y(St,"class","row"),y($t,"class","col-md-6 col-lg-8 col-xl-8"),y(dt,"class","row"),Ce=[v(window,"mouseup",t[24]),v(j,"mousedown",t[22]),v(q,"mousedown",t[20]),v(V,"mousedown",t[18]),v(K,"change",t[25]),v(rt,"mousedown",t[19]),v(ot,"mousedown",t[21]),v(lt,"mousedown",t[23]),v(st,"mousedown",t[33]),v(he,"change",t[39]),v(ve,"input",hn),v(Te,"change",t[41])]},m(r,s){X(Ie,r,s),c(r,e,s),c(r,n,s),u(n,i),u(i,o),u(o,a),u(o,l),u(o,d),u(d,p),u(o,_),u(o,T),u(T,k),u(i,A),u(i,D),u(i,N),u(i,F),u(n,L),u(n,U),u(U,Y),u(Y,R),u(R,z),u(z,j),u(z,P),u(z,q),u(z,J),u(z,V),u(Y,I),u(Y,G),u(G,K),u(Y,tt),u(Y,et),u(et,nt),u(nt,rt),u(nt,it),u(nt,ot),u(nt,at),u(nt,lt),u(Y,ut),u(Y,ct),u(ct,st),u(st,ft),c(r,ht,s),c(r,dt,s),u(dt,gt),u(gt,mt),u(mt,pt),pt.innerHTML=Ue,u(gt,vt),u(gt,yt),yt.innerHTML=t[10],u(gt,Mt),u(gt,xt),u(dt,wt),u(dt,$t),u($t,_t),u(_t,Tt),Tt.innerHTML=Ye,u($t,kt),u($t,St),u(St,At),X(Xe,At,null),u(At,Ct),u(At,Nt),u(Nt,Ft),u(At,Lt),X(Ke,At,null),u(At,Yt),u(At,Ht),u(Ht,Et),u(At,Rt),X(nn,At,null),u(At,jt),u(At,Pt),u(Pt,qt),u(St,Jt),u(St,Ot),u(Ot,Zt),X(an,Zt,null),u(Zt,It),u(Zt,Wt),u(Wt,Bt),u(Zt,Xt),X(cn,Zt,null),u(Ot,Gt),u(Ot,Kt),u(Kt,te),u(Kt,ee),u(Kt,ne),u(ne,re),u(ne,ie),u(ne,oe),u(Kt,ae),u(Ot,le),u(Ot,ue),u(ue,ce),u(ce,se),u(ue,fe),u(ue,he);for(let t=0;t<12;t+=1)fn[t].m(he,null);w(he,t[16]),u(ue,de),u(ue,ge),u(ge,me),u(ue,pe),u(ue,ve),x(ve,t[14]),u(Ot,Me),u(Ot,xe),u(xe,be),u(be,we),u(be,$e),u(xe,_e),u(xe,Te);for(let t=0;t<8;t+=1)gn[t].m(Te,null);w(Te,t[17]),u(xe,ke),u(xe,Se),u(Se,Ae),De=!0},p(t,e){const n={};1&e[0]&&(n.data=t[0]),16&e[0]&&(n.layers=t[4]),Ie.$set(n),(!De||256&e[0])&&Ne!==(Ne=t[8].source+"")&&M(a,Ne),(!De||2048&e[0]&&$!==($="https://www.dwd.de/"+t[11].toUpperCase()))&&y(d,"href",$),(!De||256&e[0]&&S!==(S=t[8].cdcUrl))&&y(T,"href",S),(!De||256&e[0])&&Fe!==(Fe=t[8].visBy+"")&&M(D,Fe),(!De||512&e[0])&&(K.value=t[9]),(!De||256&e[0])&&Le!==(Le=t[8].today+"")&&M(ft,Le),(!De||256&e[0])&&Ue!==(Ue=t[8].intro+"")&&(pt.innerHTML=Ue),(!De||1024&e[0])&&(yt.innerHTML=t[10]),(!De||2048&e[0]&&xt.src!==(bt="key-"+t[11]+".svg"))&&y(xt,"src",bt),(!De||256&e[0])&&Ye!==(Ye=t[8].customize+"")&&(Tt.innerHTML=Ye);const r={};256&e[0]&&(r.label=t[8].absRecords),!Dt&&2&e[0]&&(Dt=!0,r.value=t[1],E(()=>Dt=!1)),Xe.$set(r),(!De||256&e[0])&&He!==(He=t[8].overFullPeriod+"")&&M(Ft,He);const i={};256&e[0]&&(i.label=t[8].showAnomalies),!Ut&&4096&e[0]&&(Ut=!0,i.value=t[12],E(()=>Ut=!1)),Ke.$set(i),(!De||256&e[0])&&Ee!==(Ee=t[8].anomaliesNote+"")&&M(Et,Ee);const o={};256&e[0]&&(o.label=t[8].showRecords),!zt&&8192&e[0]&&(zt=!0,o.value=t[13],E(()=>zt=!1)),nn.$set(o),(!De||256&e[0])&&Re!==(Re=t[8].recordsNote+"")&&M(qt,Re);const l={};256&e[0]&&(l.label=t[8].avgHighLow),!Vt&&8&e[0]&&(Vt=!0,l.value=t[3],E(()=>Vt=!1)),an.$set(l),(!De||256&e[0])&&ze!==(ze=t[8].avgHighLowInfo+"")&&M(Bt,ze);const u={};256&e[0]&&(u.label=t[8].avgMedian),!Qt&&4&e[0]&&(Qt=!0,u.value=t[2],E(()=>Qt=!1)),cn.$set(u),(!De||256&e[0])&&je!==(je=t[8].overPeriod+"")&&M(te,je),(!De||16384&e[0])&&M(re,t[14]),(!De||32768&e[0])&&Pe!==(Pe=t[15]-1+"")&&M(oe,Pe),(!De||256&e[0])&&qe!==(qe=t[8].changePeriod+"")&&M(se,qe),65536&e[0]&&w(he,t[16]),(!De||256&e[0])&&Je!==(Je=t[8].periodYearsFrom+"")&&M(me,Je),(!De||32&e[0])&&y(ve,"min",t[5]),(!De||65600&e[0]&&ye!==(ye=t[6]-t[16]))&&y(ve,"max",ye),!Oe&&16384&e[0]&&x(ve,t[14]),Oe=!1,(!De||256&e[0])&&Ze!==(Ze=t[8].smooth+"")&&M(we,Ze),131072&e[0]&&w(Te,t[17]),(!De||131328&e[0])&&Ve!==(Ve=(1===t[17]?t[8].day:t[8].days)+"")&&M(Ae,Ve)},i(t){De||(O(Ie.$$.fragment,t),O(Xe.$$.fragment,t),O(Ke.$$.fragment,t),O(nn.$$.fragment,t),O(an.$$.fragment,t),O(cn.$$.fragment,t),De=!0)},o(t){Z(Ie.$$.fragment,t),Z(Xe.$$.fragment,t),Z(Ke.$$.fragment,t),Z(nn.$$.fragment,t),Z(an.$$.fragment,t),Z(cn.$$.fragment,t),De=!1},d(t){Q(Ie,t),t&&s(e),t&&s(n),t&&s(ht),t&&s(dt),Q(Xe),Q(Ke),Q(nn),Q(an),Q(cn),f(fn,t),f(gn,t),r(Ce)}}}function po(t,e,n){let r,i,o,u,c,s,f,h,d,g;a(t,Vt,t=>n(7,r=t)),a(t,te,t=>n(8,i=t)),a(t,Bt,t=>n(28,o=t)),a(t,Xt,t=>n(11,u=t)),a(t,Qt,t=>n(12,c=t)),a(t,Gt,t=>n(13,s=t)),a(t,qt,t=>n(14,f=t)),a(t,Ot,t=>n(15,h=t)),a(t,Jt,t=>n(16,d=t)),a(t,Kt,t=>n(17,g=t));let m,{data:p}=e,{station:v}=e;function y(t,e,n=300){let i=new Date(r);i[`set${t}`](i[`get${t}`]()+e),i>=new Date&&(i=new Date),l(Vt,r=i),b(),m=setTimeout(()=>y(t,e,0),n)}const M=Un("%Y-%m-%d"),x=Un(i.introDateFormat);function b(){clearInterval(m)}let w,_,T,k,S,A,D,C;return t.$set=t=>{"data"in t&&n(0,p=t.data),"station"in t&&n(26,v=t.station)},t.$$.update=()=>{14&t.$$.dirty[0]&&n(4,k=[...w?[Yi]:[],...T?[Pi]:[],ao,..._?[Ri]:[]]),1&t.$$.dirty[0]&&n(5,S=p[p.length-1].date.getFullYear()),1&t.$$.dirty[0]&&n(6,A=p[0].date.getFullYear()),128&t.$$.dirty[0]&&n(9,D=M(r)),335544704&t.$$.dirty[0]&&n(10,C=i.introLong.replace("%station%",v.name).replace("%minDate%",x(o)).replace("%maxDate%",x(r)))},n(1,w=!0),n(2,_=!0),n(3,T=!0),[p,w,_,T,k,S,A,r,i,D,C,u,c,s,f,h,d,g,()=>y("Date",-1),()=>y("Date",1),()=>y("Month",-1),()=>y("Month",1),()=>y("FullYear",-1),()=>y("FullYear",1),b,function(t){l(Vt,r=new Date(t.target.value))},v,m,o,y,M,x,function(){l(Xt,u="de"===u?"en":"de")},()=>l(Vt,r=new Date),function(t){w=t,n(1,w)},function(t){c=t,Qt.set(c)},function(t){s=t,Gt.set(s)},function(t){T=t,n(3,T)},function(t){_=t,n(2,_)},function(){d=$(this),Jt.set(d)},function(){var t;t=this.value,f=""===t?void 0:+t,qt.set(f)},function(){g=$(this),Kt.set(g)}]}class vo extends K{constructor(t){super(),G(this,t,po,mo,o,{data:0,station:26},[-1,-1])}}function yo(t,e,n){const r=t.slice();return r[4]=e[n],r}function Mo(t){let e,n,r,i,o,a,l,f=t[4].toUpperCase()+"";return{c(){e=h("label"),n=h("input"),i=m(),o=g(f),a=m(),n.__value=r=t[4],n.value=n.__value,y(n,"type","radio"),y(n,"name","options"),t[3][0].push(n),y(e,"class","btn btn-sm btn-outline-secondary"),_(e,"active",t[0]===t[4]),l=v(n,"change",t[2])},m(r,l){c(r,e,l),u(e,n),n.checked=n.__value===t[0],u(e,i),u(e,o),u(e,a)},p(t,r){1&r&&(n.checked=n.__value===t[0]),3&r&&_(e,"active",t[0]===t[4])},d(r){r&&s(e),t[3][0].splice(t[3][0].indexOf(n),1),l()}}}function xo(e){let n,r=e[1],i=[];for(let t=0;t<r.length;t+=1)i[t]=Mo(yo(e,r,t));return{c(){n=h("div");for(let t=0;t<i.length;t+=1)i[t].c();y(n,"class","btn-group btn-group-toggle svelte-pir01e"),y(n,"data-toggle","buttons")},m(t,e){c(t,n,e);for(let t=0;t<i.length;t+=1)i[t].m(n,null)},p(t,[e]){if(3&e){let o;for(r=t[1],o=0;o<r.length;o+=1){const a=yo(t,r,o);i[o]?i[o].p(a,e):(i[o]=Mo(a),i[o].c(),i[o].m(n,null))}for(;o<i.length;o+=1)i[o].d(1);i.length=r.length}},i:t,o:t,d(t){t&&s(n),f(i,t)}}}function bo(t,e,n){let r;a(t,Xt,t=>n(0,r=t));return[r,["de","en"],function(){r=this.__value,Xt.set(r)},[[]]]}class wo extends K{constructor(t){super(),G(this,t,bo,xo,o,{})}}function $o(t){let e,n,r,i,o,a,l,f,d,p,v,x,b,w,$,_,T,k,S,A,D,C,N,F,L,U,Y,H,E,R,z,j,P,q,J,O,Z,V,I,W,B,X,Q,G,K,tt,et,nt=t[0].name+"",rt=t[0].state+"",it=t[0].id+"",ot=t[1].timerange+"",at=t[1].monthLong[t[0].from.getMonth()]+"",lt=t[0].from.getFullYear()+"",ut=t[1].to+"",ct=t[1].monthLong[t[0].to.getMonth()]+"",st=t[0].to.getFullYear()+"",ft=t[1].location+"",ht=(+t[0].lat).toFixed(2)+"",dt=(+t[0].lon).toFixed(2)+"",gt=t[1].altitude+"",mt=t[0].altitude+"",pt=t[0].dist&&_o(t);return{c(){e=h("h2"),n=g(nt),r=g(", "),i=g(rt),o=m(),a=h("div"),l=h("div"),f=h("div"),d=h("b"),d.textContent="ID:",p=m(),v=h("tt"),x=g(it),b=m(),w=h("div"),$=h("b"),_=g(ot),T=g(":"),k=m(),S=g(at),A=m(),D=g(lt),C=m(),N=g(ut),F=m(),L=g(ct),U=m(),Y=g(st),H=m(),E=h("div"),R=h("b"),z=g(ft),j=g(":"),P=m(),q=h("a"),J=g(ht),O=g(", "),Z=g(dt),I=m(),W=h("div"),B=h("b"),X=g(gt),Q=g(":"),G=m(),K=g(mt),tt=g("m"),et=m(),pt&&pt.c(),y(f,"class","col-sm-auto"),y(w,"class","col-sm-auto"),y(q,"target","_blank"),y(q,"href",V="https://www.openstreetmap.org/#map=19/"+t[0].lat+"/"+t[0].lon),y(E,"class","col-sm-auto"),y(W,"class","col-sm-auto"),y(l,"class","row"),y(a,"class","info")},m(t,s){c(t,e,s),u(e,n),u(e,r),u(e,i),c(t,o,s),c(t,a,s),u(a,l),u(l,f),u(f,d),u(f,p),u(f,v),u(v,x),u(l,b),u(l,w),u(w,$),u($,_),u($,T),u(w,k),u(w,S),u(w,A),u(w,D),u(w,C),u(w,N),u(w,F),u(w,L),u(w,U),u(w,Y),u(l,H),u(l,E),u(E,R),u(R,z),u(R,j),u(E,P),u(E,q),u(q,J),u(q,O),u(q,Z),u(l,I),u(l,W),u(W,B),u(B,X),u(B,Q),u(W,G),u(W,K),u(W,tt),u(l,et),pt&&pt.m(l,null)},p(t,e){1&e&&nt!==(nt=t[0].name+"")&&M(n,nt),1&e&&rt!==(rt=t[0].state+"")&&M(i,rt),1&e&&it!==(it=t[0].id+"")&&M(x,it),2&e&&ot!==(ot=t[1].timerange+"")&&M(_,ot),3&e&&at!==(at=t[1].monthLong[t[0].from.getMonth()]+"")&&M(S,at),1&e&&lt!==(lt=t[0].from.getFullYear()+"")&&M(D,lt),2&e&&ut!==(ut=t[1].to+"")&&M(N,ut),3&e&&ct!==(ct=t[1].monthLong[t[0].to.getMonth()]+"")&&M(L,ct),1&e&&st!==(st=t[0].to.getFullYear()+"")&&M(Y,st),2&e&&ft!==(ft=t[1].location+"")&&M(z,ft),1&e&&ht!==(ht=(+t[0].lat).toFixed(2)+"")&&M(J,ht),1&e&&dt!==(dt=(+t[0].lon).toFixed(2)+"")&&M(Z,dt),1&e&&V!==(V="https://www.openstreetmap.org/#map=19/"+t[0].lat+"/"+t[0].lon)&&y(q,"href",V),2&e&&gt!==(gt=t[1].altitude+"")&&M(X,gt),1&e&&mt!==(mt=t[0].altitude+"")&&M(K,mt),t[0].dist?pt?pt.p(t,e):(pt=_o(t),pt.c(),pt.m(l,null)):pt&&(pt.d(1),pt=null)},d(t){t&&s(e),t&&s(o),t&&s(a),pt&&pt.d()}}}function _o(t){let e,n,r,i,o,a,l,f=t[1].distance+"",d=t[0].dist.toFixed()+"";return{c(){e=h("div"),n=h("b"),r=g(f),i=g(":"),o=m(),a=g(d),l=g("km"),y(e,"class","col-sm-auto")},m(t,s){c(t,e,s),u(e,n),u(n,r),u(n,i),u(e,o),u(e,a),u(e,l)},p(t,e){2&e&&f!==(f=t[1].distance+"")&&M(r,f),1&e&&d!==(d=t[0].dist.toFixed()+"")&&M(a,d)},d(t){t&&s(e)}}}function To(e){let n,r=e[0]&&$o(e);return{c(){r&&r.c(),n=p()},m(t,e){r&&r.m(t,e),c(t,n,e)},p(t,[e]){t[0]?r?r.p(t,e):(r=$o(t),r.c(),r.m(n.parentNode,n)):r&&(r.d(1),r=null)},i:t,o:t,d(t){r&&r.d(t),t&&s(n)}}}function ko(t,e,n){let r;a(t,te,t=>n(1,r=t));let{station:i}=e;return t.$set=t=>{"station"in t&&n(0,i=t.station)},[i,r]}class So extends K{constructor(t){super(),G(this,t,ko,To,o,{station:0})}}const{window:Ao}=I;function Do(t,e,n){const r=t.slice();return r[15]=e[n],r}function Co(t,e,n){const r=t.slice();return r[3]=e[n],r}function No(e){return{c:t,m:t,p:t,d:t}}function Fo(t){let e,n,i,o,a,l,d,p,x,b,$=t[2].selectStation.replace("%count%",t[3].length)+"",_=t[1],T=[];for(let e=0;e<_.length;e+=1)T[e]=Uo(Co(t,_,e));return{c(){e=h("small"),n=g($),i=m(),o=h("div"),a=h("select"),l=h("option"),l.textContent="(select station)";for(let t=0;t<T.length;t+=1)T[t].c();p=m(),x=h("button"),x.innerHTML='<i class="im im-location svelte-okfgkt"></i>',y(e,"class","form-text text-muted"),l.__value=d=null,l.value=l.__value,y(a,"class","custom-select"),void 0===t[0]&&H(()=>t[11].call(a)),y(x,"class","btn btn-outline-secondary svelte-okfgkt"),y(o,"class","btn-group"),b=[v(a,"change",t[11]),v(x,"click",t[6])]},m(r,s){c(r,e,s),u(e,n),c(r,i,s),c(r,o,s),u(o,a),u(a,l);for(let t=0;t<T.length;t+=1)T[t].m(a,null);w(a,t[0]),u(o,p),u(o,x)},p(t,e){if(12&e&&$!==($=t[2].selectStation.replace("%count%",t[3].length)+"")&&M(n,$),2&e){let n;for(_=t[1],n=0;n<_.length;n+=1){const r=Co(t,_,n);T[n]?T[n].p(r,e):(T[n]=Uo(r),T[n].c(),T[n].m(a,null))}for(;n<T.length;n+=1)T[n].d(1);T.length=_.length}1&e&&w(a,t[0])},d(t){t&&s(e),t&&s(i),t&&s(o),f(T,t),r(b)}}}function Lo(t){let e,n,r,i,o,a,l,f,d=t[15].name+"",m=t[15].from.getFullYear()+"",p=t[15].to.getFullYear()+"";return{c(){e=h("option"),n=g(d),r=g(" ("),i=g(m),o=g(" - "),a=g(p),l=g(")\n                        "),e.__value=f=t[15],e.value=e.__value},m(t,s){c(t,e,s),u(e,n),u(e,r),u(e,i),u(e,o),u(e,a),u(e,l)},p(t,r){2&r&&d!==(d=t[15].name+"")&&M(n,d),2&r&&m!==(m=t[15].from.getFullYear()+"")&&M(i,m),2&r&&p!==(p=t[15].to.getFullYear()+"")&&M(a,p),2&r&&f!==(f=t[15])&&(e.__value=f),e.value=e.__value},d(t){t&&s(e)}}}function Uo(t){let e,n,r=t[3],i=[];for(let e=0;e<r.length;e+=1)i[e]=Lo(Do(t,r,e));return{c(){e=h("optgroup");for(let t=0;t<i.length;t+=1)i[t].c();y(e,"label",n=t[3][0].state)},m(t,n){c(t,e,n);for(let t=0;t<i.length;t+=1)i[t].m(e,null)},p(t,o){if(2&o){let n;for(r=t[3],n=0;n<r.length;n+=1){const a=Do(t,r,n);i[n]?i[n].p(a,o):(i[n]=Lo(a),i[n].c(),i[n].m(e,null))}for(;n<i.length;n+=1)i[n].d(1);i.length=r.length}2&o&&n!==(n=t[3][0].state)&&y(e,"label",n)},d(t){t&&s(e),f(i,t)}}}function Yo(e){return{c:t,m:t,p:t,d:t}}function Ho(e){let n,r,i,o={ctx:e,current:null,token:null,pending:Yo,then:Fo,catch:No,value:12};return V(r=e[4],o),{c(){n=p(),o.block.c(),i=v(Ao,"hashchange",e[5])},m(t,e){c(t,n,e),o.block.m(t,o.anchor=e),o.mount=()=>n.parentNode,o.anchor=n},p(t,[n]){{const r=(e=t).slice();r[12]=o.resolved,o.block.p(r,n)}},i:t,o:t,d(t){t&&s(n),o.block.d(t),o.token=null,o=null,i()}}}function Eo(t,e,n){let r,i,o;a(t,Xt,t=>n(7,r=t)),a(t,Vt,t=>n(8,i=t)),a(t,te,t=>n(2,o=t));const u=t=>({...t,from:new Date(t.from),to:new Date(t.to),altitude:+t.altitude}),c=Un("%Y/%m/%d");let s,{station:f}=e,h=[],d=dt("/data/stations.csv",u).then(async t=>{if(n(3,h=t.filter(t=>t.from.getFullYear()<=1980&&t.to.getFullYear()>=2019).sort((t,e)=>t.name>e.name?1:t.name<e.name?-1:0)),await(Y(),L),g(),!f){const t=["00433","01975","03668","00691","05792","01420","03987","03126","01270","00880","02667"],e=t[Math.floor(.99*Math.random()*t.length)];n(0,f=h.find(t=>t.id===e))}});function g(){const t=window.location.hash.match(/^#\/(de|en)\/(\d{5})\/[^\/]+(?:\/(\d{4}\/\d{2}\/\d{2}))?/);if(t){const[e,o,a]=t.slice(1);e&&l(Xt,r=e),f&&o===f.id||n(0,f=h.find(t=>t.id===o)),a&&l(Vt,i=new Date(a))}}return t.$set=t=>{"station"in t&&n(0,f=t.station)},t.$$.update=()=>{8&t.$$.dirty&&n(1,s=Array.from(oe(h,t=>t.state)).map(([t,e])=>e).sort((t,e)=>t[0].state>e[0].state?1:t[0].state<e[0].state?-1:0)),385&t.$$.dirty&&f&&f.name&&(window.location.hash=`#/${r}/${f.id}/${f.name.toLowerCase().split("(")[0].trim().replace(/ö/g,"oe").replace(/ä/g,"ae").replace(/ü/g,"ue").replace(/[^a-z-]/g,"")}${c(i)<c(new Date)?`/${c(i)}`:""}`)},[f,s,o,h,d,g,function(){navigator.geolocation.getCurrentPosition(t=>{const{latitude:e,longitude:r}=t.coords;console.log({latitude:e,longitude:r}),h.forEach(t=>{t.dist=function(t,e,n,r){const i=.017453292519943295,o=Math.cos,a=.5-o((n-t)*i)/2+o(t*i)*o(n*i)*(1-o((r-e)*i))/2;return 12742*Math.asin(Math.sqrt(a))}(e,r,t.lat,t.lon)}),n(0,f=h.sort((t,e)=>t.dist-e.dist)[0])},()=>{window.alert("didnt work")})},r,i,u,c,function(){f=$(this),n(0,f),n(1,s),n(3,h)}]}class Ro extends K{constructor(t){super(),G(this,t,Eo,Ho,o,{station:0})}}function zo(t){let e,n,r,i={ctx:t,current:null,token:null,pending:qo,then:Po,catch:jo,value:6,error:7,blocks:[,,,]};return V(n=t[0],i),{c(){e=p(),i.block.c()},m(t,n){c(t,e,n),i.block.m(t,i.anchor=n),i.mount=()=>e.parentNode,i.anchor=e,r=!0},p(e,r){if(t=e,i.ctx=t,1&r&&n!==(n=t[0])&&V(n,i));else{const e=t.slice();e[6]=i.resolved,i.block.p(e,r)}},i(t){r||(O(i.block),r=!0)},o(t){for(let t=0;t<3;t+=1){Z(i.blocks[t])}r=!1},d(t){t&&s(e),i.block.d(t),i.token=null,i=null}}}function jo(e){let n,r,i,o=e[7].message+"";return{c(){n=h("p"),r=g("Something went wrong: "),i=g(o)},m(t,e){c(t,n,e),u(n,r),u(n,i)},p(t,e){1&e&&o!==(o=t[7].message+"")&&M(i,o)},i:t,o:t,d(t){t&&s(n)}}}function Po(t){let e;const n=new vo({props:{data:t[6],station:t[1]}});return{c(){B(n.$$.fragment)},m(t,r){X(n,t,r),e=!0},p(t,e){const r={};1&e&&(r.data=t[6]),2&e&&(r.station=t[1]),n.$set(r)},i(t){e||(O(n.$$.fragment,t),e=!0)},o(t){Z(n.$$.fragment,t),e=!1},d(t){Q(n,t)}}}function qo(e){let n;return{c(){n=h("p"),n.textContent="Daten werden geladen..."},m(t,e){c(t,n,e)},p:t,i:t,o:t,d(t){t&&s(n)}}}function Jo(t){let e,n,r,i,o,a,l,f,d,g,p,v,M,x,b;const w=new wo({}),$=new So({props:{station:t[1]}});function _(e){t[5].call(null,e)}let T={};void 0!==t[1]&&(T.station=t[1]);const k=new Ro({props:T});C.push(()=>W(k,"station",_));let S=t[0]&&zo(t);return{c(){e=h("header"),n=h("div"),r=h("div"),r.innerHTML='<h1 class="svelte-1doxtus">\n                vis4.net\n            </h1>',i=m(),o=h("div"),B(w.$$.fragment),a=m(),l=h("div"),f=h("div"),d=h("div"),B($.$$.fragment),g=m(),p=h("div"),B(k.$$.fragment),M=m(),x=h("main"),S&&S.c(),y(r,"class","col"),y(o,"class","col-auto"),y(n,"class","row"),y(e,"class","container-fluid svelte-1doxtus"),y(d,"class","col-sm"),y(p,"class","col-sm-auto"),y(f,"class","row"),y(l,"class","container-fluid"),y(x,"class","svelte-1doxtus")},m(t,s){c(t,e,s),u(e,n),u(n,r),u(n,i),u(n,o),X(w,o,null),c(t,a,s),c(t,l,s),u(l,f),u(f,d),X($,d,null),u(f,g),u(f,p),X(k,p,null),c(t,M,s),c(t,x,s),S&&S.m(x,null),b=!0},p(t,[e]){const n={};2&e&&(n.station=t[1]),$.$set(n);const r={};!v&&2&e&&(v=!0,r.station=t[1],E(()=>v=!1)),k.$set(r),t[0]?S?(S.p(t,e),O(S,1)):(S=zo(t),S.c(),O(S,1),S.m(x,null)):S&&(q(),Z(S,1,1,()=>{S=null}),J())},i(t){b||(O(w.$$.fragment,t),O($.$$.fragment,t),O(k.$$.fragment,t),O(S),b=!0)},o(t){Z(w.$$.fragment,t),Z($.$$.fragment,t),Z(k.$$.fragment,t),Z(S),b=!1},d(t){t&&s(e),Q(w),t&&s(a),t&&s(l),Q($),Q(k),t&&s(M),t&&s(x),S&&S.d()}}}function Oo(t,e,n){const r=t=>({date:new Date(t.date),dateRaw:t.date,tMin:+t.TNK,tAvg:+t.TMK,tMax:+t.TXK});let i;const o=()=>{l&&n(0,i=dt(`/data/stations/${l.id}.csv`,r))};let a,l;var u;return u=()=>{l!==a&&(a=l,o())},A().$$.before_update.push(u),[i,l,a,r,o,function(t){l=t,n(1,l)}]}return new class extends K{constructor(t){super(),G(this,t,Oo,Jo,o,{})}}({target:document.body,props:{name:"world"}})}();
//# sourceMappingURL=bundle.js.map
