var app=function(){"use strict";function t(){}function e(t){return t()}function n(){return Object.create(null)}function r(t){t.forEach(e)}function a(t){return"function"==typeof t}function i(t,e){return t!=t?e==e:t!==e||t&&"object"==typeof t||"function"==typeof t}function o(t,e,n){t.$$.on_destroy.push(function(t,e){const n=t.subscribe(e);return n.unsubscribe?()=>n.unsubscribe():n}(e,n))}function l(t,e,n=e){return t.set(n),e}function s(t,e){t.appendChild(e)}function u(t,e,n){t.insertBefore(e,n||null)}function c(t){t.parentNode.removeChild(t)}function h(t,e){for(let n=0;n<t.length;n+=1)t[n]&&t[n].d(e)}function f(t){return document.createElement(t)}function d(t){return document.createElementNS("http://www.w3.org/2000/svg",t)}function m(t){return document.createTextNode(t)}function g(){return m(" ")}function p(){return m("")}function y(t,e,n,r){return t.addEventListener(e,n,r),()=>t.removeEventListener(e,n,r)}function v(t,e,n){null==n?t.removeAttribute(e):t.getAttribute(e)!==n&&t.setAttribute(e,n)}function x(t,e){e=""+e,t.data!==e&&(t.data=e)}function M(t,e,n,r){t.style.setProperty(e,n,r?"important":"")}function b(t,e){for(let n=0;n<t.options.length;n+=1){const r=t.options[n];if(r.__value===e)return void(r.selected=!0)}}function w(t,e){"static"===getComputedStyle(t).position&&(t.style.position="relative");const n=document.createElement("object");let r;return n.setAttribute("style","display: block; position: absolute; top: 0; left: 0; height: 100%; width: 100%; overflow: hidden; pointer-events: none; z-index: -1;"),n.setAttribute("aria-hidden","true"),n.type="text/html",n.tabIndex=-1,n.onload=()=>{r=n.contentDocument.defaultView,r.addEventListener("resize",e)},/Trident/.test(navigator.userAgent)?(t.appendChild(n),n.data="about:blank"):(n.data="about:blank",t.appendChild(n)),{cancel:()=>{r&&r.removeEventListener&&r.removeEventListener("resize",e),t.removeChild(n)}}}function $(t,e,n){t.classList[n?"add":"remove"](e)}class k{constructor(t,e=null){this.e=f("div"),this.a=e,this.u(t)}m(t,e=null){for(let n=0;n<this.n.length;n+=1)u(t,this.n[n],e);this.t=t}u(t){this.e.innerHTML=t,this.n=Array.from(this.e.childNodes)}p(t){this.d(),this.u(t),this.m(this.t,this.a)}d(){this.n.forEach(c)}}let _;function T(t){_=t}function A(){if(!_)throw new Error("Function called outside component initialization");return _}const D=[],S=[],C=[],z=[],N=Promise.resolve();let F=!1;function Y(){F||(F=!0,N.then(E))}function U(t){C.push(t)}function H(t){z.push(t)}function E(){const t=new Set;do{for(;D.length;){const t=D.shift();T(t),L(t.$$)}for(;S.length;)S.pop()();for(let e=0;e<C.length;e+=1){const n=C[e];t.has(n)||(n(),t.add(n))}C.length=0}while(D.length);for(;z.length;)z.pop()();F=!1}function L(t){if(null!==t.fragment){t.update(),r(t.before_update);const e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(U)}}const j=new Set;let R;function W(){R={r:0,c:[],p:R}}function J(){R.r||r(R.c),R=R.p}function q(t,e){t&&t.i&&(j.delete(t),t.i(e))}function Z(t,e,n,r){if(t&&t.o){if(j.has(t))return;j.add(t),R.c.push(()=>{j.delete(t),r&&(n&&t.d(1),r())}),t.o(e)}}function V(t,e){const n=e.token={};function r(t,r,a,i){if(e.token!==n)return;e.resolved=i;let o=e.ctx;void 0!==a&&(o=o.slice(),o[a]=i);const l=t&&(e.current=t)(o);let s=!1;e.block&&(e.blocks?e.blocks.forEach((t,n)=>{n!==r&&t&&(W(),Z(t,1,1,()=>{e.blocks[n]=null}),J())}):e.block.d(1),l.c(),q(l,1),l.m(e.mount(),e.anchor),s=!0),e.block=l,e.blocks&&(e.blocks[r]=l),s&&E()}if((a=t)&&"object"==typeof a&&"function"==typeof a.then){const n=A();if(t.then(t=>{T(n),r(e.then,1,e.value,t),T(null)},t=>{T(n),r(e.catch,2,e.error,t),T(null)}),e.current!==e.pending)return r(e.pending,0),!0}else{if(e.current!==e.then)return r(e.then,1,e.value,t),!0;e.resolved=t}var a}const B="undefined"!=typeof window?window:global;function P(t,e,n){const r=t.$$.props[e];void 0!==r&&(t.$$.bound[r]=n,n(t.$$.ctx[r]))}function O(t){t&&t.c()}function I(t,n,i){const{fragment:o,on_mount:l,on_destroy:s,after_update:u}=t.$$;o&&o.m(n,i),U(()=>{const n=l.map(e).filter(a);s?s.push(...n):r(n),t.$$.on_mount=[]}),u.forEach(U)}function X(t,e){const n=t.$$;null!==n.fragment&&(r(n.on_destroy),n.fragment&&n.fragment.d(e),n.on_destroy=n.fragment=null,n.ctx=[])}function G(e,a,i,o,l,s,u=[-1]){const c=_;T(e);const h=a.props||{},f=e.$$={fragment:null,ctx:null,props:s,update:t,not_equal:l,bound:n(),on_mount:[],on_destroy:[],before_update:[],after_update:[],context:new Map(c?c.$$.context:[]),callbacks:n(),dirty:u};let d=!1;f.ctx=i?i(e,h,(t,n,r=n)=>(f.ctx&&l(f.ctx[t],f.ctx[t]=r)&&(f.bound[t]&&f.bound[t](r),d&&function(t,e){-1===t.$$.dirty[0]&&(D.push(t),Y(),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}(e,t)),n)):[],f.update(),d=!0,r(f.before_update),f.fragment=!!o&&o(f.ctx),a.target&&(a.hydrate?f.fragment&&f.fragment.l(function(t){return Array.from(t.childNodes)}(a.target)):f.fragment&&f.fragment.c(),a.intro&&q(e.$$.fragment),I(e,a.target,a.anchor),E()),T(c)}class Q{$destroy(){X(this,1),this.$destroy=t}$on(t,e){const n=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return n.push(e),()=>{const t=n.indexOf(e);-1!==t&&n.splice(t,1)}}$set(){}}var K={},tt={},et=34,nt=10,rt=13;function at(t){return new Function("d","return {"+t.map((function(t,e){return JSON.stringify(t)+": d["+e+'] || ""'})).join(",")+"}")}function it(t){var e=Object.create(null),n=[];return t.forEach((function(t){for(var r in t)r in e||n.push(e[r]=r)})),n}function ot(t,e){var n=t+"",r=n.length;return r<e?new Array(e-r+1).join(0)+n:n}function lt(t){var e=t.getUTCHours(),n=t.getUTCMinutes(),r=t.getUTCSeconds(),a=t.getUTCMilliseconds();return isNaN(t)?"Invalid Date":function(t){return t<0?"-"+ot(-t,6):t>9999?"+"+ot(t,6):ot(t,4)}(t.getUTCFullYear())+"-"+ot(t.getUTCMonth()+1,2)+"-"+ot(t.getUTCDate(),2)+(a?"T"+ot(e,2)+":"+ot(n,2)+":"+ot(r,2)+"."+ot(a,3)+"Z":r?"T"+ot(e,2)+":"+ot(n,2)+":"+ot(r,2)+"Z":n||e?"T"+ot(e,2)+":"+ot(n,2)+"Z":"")}var st=function(t){var e=new RegExp('["'+t+"\n\r]"),n=t.charCodeAt(0);function r(t,e){var r,a=[],i=t.length,o=0,l=0,s=i<=0,u=!1;function c(){if(s)return tt;if(u)return u=!1,K;var e,r,a=o;if(t.charCodeAt(a)===et){for(;o++<i&&t.charCodeAt(o)!==et||t.charCodeAt(++o)===et;);return(e=o)>=i?s=!0:(r=t.charCodeAt(o++))===nt?u=!0:r===rt&&(u=!0,t.charCodeAt(o)===nt&&++o),t.slice(a+1,e-1).replace(/""/g,'"')}for(;o<i;){if((r=t.charCodeAt(e=o++))===nt)u=!0;else if(r===rt)u=!0,t.charCodeAt(o)===nt&&++o;else if(r!==n)continue;return t.slice(a,e)}return s=!0,t.slice(a,i)}for(t.charCodeAt(i-1)===nt&&--i,t.charCodeAt(i-1)===rt&&--i;(r=c())!==tt;){for(var h=[];r!==K&&r!==tt;)h.push(r),r=c();e&&null==(h=e(h,l++))||a.push(h)}return a}function a(e,n){return e.map((function(e){return n.map((function(t){return o(e[t])})).join(t)}))}function i(e){return e.map(o).join(t)}function o(t){return null==t?"":t instanceof Date?lt(t):e.test(t+="")?'"'+t.replace(/"/g,'""')+'"':t}return{parse:function(t,e){var n,a,i=r(t,(function(t,r){if(n)return n(t,r-1);a=t,n=e?function(t,e){var n=at(t);return function(r,a){return e(n(r),a,t)}}(t,e):at(t)}));return i.columns=a||[],i},parseRows:r,format:function(e,n){return null==n&&(n=it(e)),[n.map(o).join(t)].concat(a(e,n)).join("\n")},formatBody:function(t,e){return null==e&&(e=it(t)),a(t,e).join("\n")},formatRows:function(t){return t.map(i).join("\n")},formatRow:i,formatValue:o}}(",").parse;function ut(t){if(!t.ok)throw new Error(t.status+" "+t.statusText);return t.text()}function ct(t,e){return fetch(t,e).then(ut)}var ht,ft=(ht=st,function(t,e,n){return 2===arguments.length&&"function"==typeof e&&(n=e,e=void 0),ct(t,e).then((function(t){return ht(t,n)}))}),dt=new Date,mt=new Date;function gt(t,e,n,r){function a(e){return t(e=0===arguments.length?new Date:new Date(+e)),e}return a.floor=function(e){return t(e=new Date(+e)),e},a.ceil=function(n){return t(n=new Date(n-1)),e(n,1),t(n),n},a.round=function(t){var e=a(t),n=a.ceil(t);return t-e<n-t?e:n},a.offset=function(t,n){return e(t=new Date(+t),null==n?1:Math.floor(n)),t},a.range=function(n,r,i){var o,l=[];if(n=a.ceil(n),i=null==i?1:Math.floor(i),!(n<r&&i>0))return l;do{l.push(o=new Date(+n)),e(n,i),t(n)}while(o<n&&n<r);return l},a.filter=function(n){return gt((function(e){if(e>=e)for(;t(e),!n(e);)e.setTime(e-1)}),(function(t,r){if(t>=t)if(r<0)for(;++r<=0;)for(;e(t,-1),!n(t););else for(;--r>=0;)for(;e(t,1),!n(t););}))},n&&(a.count=function(e,r){return dt.setTime(+e),mt.setTime(+r),t(dt),t(mt),Math.floor(n(dt,mt))},a.every=function(t){return t=Math.floor(t),isFinite(t)&&t>0?t>1?a.filter(r?function(e){return r(e)%t==0}:function(e){return a.count(0,e)%t==0}):a:null}),a}var pt=gt((function(){}),(function(t,e){t.setTime(+t+e)}),(function(t,e){return e-t}));pt.every=function(t){return t=Math.floor(t),isFinite(t)&&t>0?t>1?gt((function(e){e.setTime(Math.floor(e/t)*t)}),(function(e,n){e.setTime(+e+n*t)}),(function(e,n){return(n-e)/t})):pt:null};var yt=6e4,vt=6048e5,xt=gt((function(t){t.setTime(t-t.getMilliseconds())}),(function(t,e){t.setTime(+t+1e3*e)}),(function(t,e){return(e-t)/1e3}),(function(t){return t.getUTCSeconds()})),Mt=gt((function(t){t.setTime(t-t.getMilliseconds()-1e3*t.getSeconds())}),(function(t,e){t.setTime(+t+e*yt)}),(function(t,e){return(e-t)/yt}),(function(t){return t.getMinutes()})),bt=gt((function(t){t.setTime(t-t.getMilliseconds()-1e3*t.getSeconds()-t.getMinutes()*yt)}),(function(t,e){t.setTime(+t+36e5*e)}),(function(t,e){return(e-t)/36e5}),(function(t){return t.getHours()})),wt=gt((function(t){t.setHours(0,0,0,0)}),(function(t,e){t.setDate(t.getDate()+e)}),(function(t,e){return(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*yt)/864e5}),(function(t){return t.getDate()-1})),$t=wt.range;function kt(t){return gt((function(e){e.setDate(e.getDate()-(e.getDay()+7-t)%7),e.setHours(0,0,0,0)}),(function(t,e){t.setDate(t.getDate()+7*e)}),(function(t,e){return(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*yt)/vt}))}var _t=kt(0),Tt=kt(1),At=(kt(2),kt(3),kt(4)),Dt=(kt(5),kt(6),gt((function(t){t.setDate(1),t.setHours(0,0,0,0)}),(function(t,e){t.setMonth(t.getMonth()+e)}),(function(t,e){return e.getMonth()-t.getMonth()+12*(e.getFullYear()-t.getFullYear())}),(function(t){return t.getMonth()}))),St=gt((function(t){t.setMonth(0,1),t.setHours(0,0,0,0)}),(function(t,e){t.setFullYear(t.getFullYear()+e)}),(function(t,e){return e.getFullYear()-t.getFullYear()}),(function(t){return t.getFullYear()}));St.every=function(t){return isFinite(t=Math.floor(t))&&t>0?gt((function(e){e.setFullYear(Math.floor(e.getFullYear()/t)*t),e.setMonth(0,1),e.setHours(0,0,0,0)}),(function(e,n){e.setFullYear(e.getFullYear()+n*t)})):null};var Ct=gt((function(t){t.setUTCHours(0,0,0,0)}),(function(t,e){t.setUTCDate(t.getUTCDate()+e)}),(function(t,e){return(e-t)/864e5}),(function(t){return t.getUTCDate()-1}));function zt(t){return gt((function(e){e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-t)%7),e.setUTCHours(0,0,0,0)}),(function(t,e){t.setUTCDate(t.getUTCDate()+7*e)}),(function(t,e){return(e-t)/vt}))}var Nt=zt(0),Ft=zt(1),Yt=(zt(2),zt(3),zt(4)),Ut=(zt(5),zt(6),gt((function(t){t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)}),(function(t,e){t.setUTCFullYear(t.getUTCFullYear()+e)}),(function(t,e){return e.getUTCFullYear()-t.getUTCFullYear()}),(function(t){return t.getUTCFullYear()})));function Ht(t){if(0<=t.y&&t.y<100){var e=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return e.setFullYear(t.y),e}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function Et(t){if(0<=t.y&&t.y<100){var e=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return e.setUTCFullYear(t.y),e}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function Lt(t,e,n){return{y:t,m:e,d:n,H:0,M:0,S:0,L:0}}Ut.every=function(t){return isFinite(t=Math.floor(t))&&t>0?gt((function(e){e.setUTCFullYear(Math.floor(e.getUTCFullYear()/t)*t),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)}),(function(e,n){e.setUTCFullYear(e.getUTCFullYear()+n*t)})):null};var jt,Rt,Wt={"-":"",_:" ",0:"0"},Jt=/^\s*\d+/,qt=/^%/,Zt=/[\\^$*+?|[\]().{}]/g;function Vt(t,e,n){var r=t<0?"-":"",a=(r?-t:t)+"",i=a.length;return r+(i<n?new Array(n-i+1).join(e)+a:a)}function Bt(t){return t.replace(Zt,"\\$&")}function Pt(t){return new RegExp("^(?:"+t.map(Bt).join("|")+")","i")}function Ot(t){for(var e={},n=-1,r=t.length;++n<r;)e[t[n].toLowerCase()]=n;return e}function It(t,e,n){var r=Jt.exec(e.slice(n,n+1));return r?(t.w=+r[0],n+r[0].length):-1}function Xt(t,e,n){var r=Jt.exec(e.slice(n,n+1));return r?(t.u=+r[0],n+r[0].length):-1}function Gt(t,e,n){var r=Jt.exec(e.slice(n,n+2));return r?(t.U=+r[0],n+r[0].length):-1}function Qt(t,e,n){var r=Jt.exec(e.slice(n,n+2));return r?(t.V=+r[0],n+r[0].length):-1}function Kt(t,e,n){var r=Jt.exec(e.slice(n,n+2));return r?(t.W=+r[0],n+r[0].length):-1}function te(t,e,n){var r=Jt.exec(e.slice(n,n+4));return r?(t.y=+r[0],n+r[0].length):-1}function ee(t,e,n){var r=Jt.exec(e.slice(n,n+2));return r?(t.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function ne(t,e,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(n,n+6));return r?(t.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function re(t,e,n){var r=Jt.exec(e.slice(n,n+1));return r?(t.q=3*r[0]-3,n+r[0].length):-1}function ae(t,e,n){var r=Jt.exec(e.slice(n,n+2));return r?(t.m=r[0]-1,n+r[0].length):-1}function ie(t,e,n){var r=Jt.exec(e.slice(n,n+2));return r?(t.d=+r[0],n+r[0].length):-1}function oe(t,e,n){var r=Jt.exec(e.slice(n,n+3));return r?(t.m=0,t.d=+r[0],n+r[0].length):-1}function le(t,e,n){var r=Jt.exec(e.slice(n,n+2));return r?(t.H=+r[0],n+r[0].length):-1}function se(t,e,n){var r=Jt.exec(e.slice(n,n+2));return r?(t.M=+r[0],n+r[0].length):-1}function ue(t,e,n){var r=Jt.exec(e.slice(n,n+2));return r?(t.S=+r[0],n+r[0].length):-1}function ce(t,e,n){var r=Jt.exec(e.slice(n,n+3));return r?(t.L=+r[0],n+r[0].length):-1}function he(t,e,n){var r=Jt.exec(e.slice(n,n+6));return r?(t.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function fe(t,e,n){var r=qt.exec(e.slice(n,n+1));return r?n+r[0].length:-1}function de(t,e,n){var r=Jt.exec(e.slice(n));return r?(t.Q=+r[0],n+r[0].length):-1}function me(t,e,n){var r=Jt.exec(e.slice(n));return r?(t.s=+r[0],n+r[0].length):-1}function ge(t,e){return Vt(t.getDate(),e,2)}function pe(t,e){return Vt(t.getHours(),e,2)}function ye(t,e){return Vt(t.getHours()%12||12,e,2)}function ve(t,e){return Vt(1+wt.count(St(t),t),e,3)}function xe(t,e){return Vt(t.getMilliseconds(),e,3)}function Me(t,e){return xe(t,e)+"000"}function be(t,e){return Vt(t.getMonth()+1,e,2)}function we(t,e){return Vt(t.getMinutes(),e,2)}function $e(t,e){return Vt(t.getSeconds(),e,2)}function ke(t){var e=t.getDay();return 0===e?7:e}function _e(t,e){return Vt(_t.count(St(t)-1,t),e,2)}function Te(t,e){var n=t.getDay();return t=n>=4||0===n?At(t):At.ceil(t),Vt(At.count(St(t),t)+(4===St(t).getDay()),e,2)}function Ae(t){return t.getDay()}function De(t,e){return Vt(Tt.count(St(t)-1,t),e,2)}function Se(t,e){return Vt(t.getFullYear()%100,e,2)}function Ce(t,e){return Vt(t.getFullYear()%1e4,e,4)}function ze(t){var e=t.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+Vt(e/60|0,"0",2)+Vt(e%60,"0",2)}function Ne(t,e){return Vt(t.getUTCDate(),e,2)}function Fe(t,e){return Vt(t.getUTCHours(),e,2)}function Ye(t,e){return Vt(t.getUTCHours()%12||12,e,2)}function Ue(t,e){return Vt(1+Ct.count(Ut(t),t),e,3)}function He(t,e){return Vt(t.getUTCMilliseconds(),e,3)}function Ee(t,e){return He(t,e)+"000"}function Le(t,e){return Vt(t.getUTCMonth()+1,e,2)}function je(t,e){return Vt(t.getUTCMinutes(),e,2)}function Re(t,e){return Vt(t.getUTCSeconds(),e,2)}function We(t){var e=t.getUTCDay();return 0===e?7:e}function Je(t,e){return Vt(Nt.count(Ut(t)-1,t),e,2)}function qe(t,e){var n=t.getUTCDay();return t=n>=4||0===n?Yt(t):Yt.ceil(t),Vt(Yt.count(Ut(t),t)+(4===Ut(t).getUTCDay()),e,2)}function Ze(t){return t.getUTCDay()}function Ve(t,e){return Vt(Ft.count(Ut(t)-1,t),e,2)}function Be(t,e){return Vt(t.getUTCFullYear()%100,e,2)}function Pe(t,e){return Vt(t.getUTCFullYear()%1e4,e,4)}function Oe(){return"+0000"}function Ie(){return"%"}function Xe(t){return+t}function Ge(t){return Math.floor(+t/1e3)}jt=function(t){var e=t.dateTime,n=t.date,r=t.time,a=t.periods,i=t.days,o=t.shortDays,l=t.months,s=t.shortMonths,u=Pt(a),c=Ot(a),h=Pt(i),f=Ot(i),d=Pt(o),m=Ot(o),g=Pt(l),p=Ot(l),y=Pt(s),v=Ot(s),x={a:function(t){return o[t.getDay()]},A:function(t){return i[t.getDay()]},b:function(t){return s[t.getMonth()]},B:function(t){return l[t.getMonth()]},c:null,d:ge,e:ge,f:Me,H:pe,I:ye,j:ve,L:xe,m:be,M:we,p:function(t){return a[+(t.getHours()>=12)]},q:function(t){return 1+~~(t.getMonth()/3)},Q:Xe,s:Ge,S:$e,u:ke,U:_e,V:Te,w:Ae,W:De,x:null,X:null,y:Se,Y:Ce,Z:ze,"%":Ie},M={a:function(t){return o[t.getUTCDay()]},A:function(t){return i[t.getUTCDay()]},b:function(t){return s[t.getUTCMonth()]},B:function(t){return l[t.getUTCMonth()]},c:null,d:Ne,e:Ne,f:Ee,H:Fe,I:Ye,j:Ue,L:He,m:Le,M:je,p:function(t){return a[+(t.getUTCHours()>=12)]},q:function(t){return 1+~~(t.getUTCMonth()/3)},Q:Xe,s:Ge,S:Re,u:We,U:Je,V:qe,w:Ze,W:Ve,x:null,X:null,y:Be,Y:Pe,Z:Oe,"%":Ie},b={a:function(t,e,n){var r=d.exec(e.slice(n));return r?(t.w=m[r[0].toLowerCase()],n+r[0].length):-1},A:function(t,e,n){var r=h.exec(e.slice(n));return r?(t.w=f[r[0].toLowerCase()],n+r[0].length):-1},b:function(t,e,n){var r=y.exec(e.slice(n));return r?(t.m=v[r[0].toLowerCase()],n+r[0].length):-1},B:function(t,e,n){var r=g.exec(e.slice(n));return r?(t.m=p[r[0].toLowerCase()],n+r[0].length):-1},c:function(t,n,r){return k(t,e,n,r)},d:ie,e:ie,f:he,H:le,I:le,j:oe,L:ce,m:ae,M:se,p:function(t,e,n){var r=u.exec(e.slice(n));return r?(t.p=c[r[0].toLowerCase()],n+r[0].length):-1},q:re,Q:de,s:me,S:ue,u:Xt,U:Gt,V:Qt,w:It,W:Kt,x:function(t,e,r){return k(t,n,e,r)},X:function(t,e,n){return k(t,r,e,n)},y:ee,Y:te,Z:ne,"%":fe};function w(t,e){return function(n){var r,a,i,o=[],l=-1,s=0,u=t.length;for(n instanceof Date||(n=new Date(+n));++l<u;)37===t.charCodeAt(l)&&(o.push(t.slice(s,l)),null!=(a=Wt[r=t.charAt(++l)])?r=t.charAt(++l):a="e"===r?" ":"0",(i=e[r])&&(r=i(n,a)),o.push(r),s=l+1);return o.push(t.slice(s,l)),o.join("")}}function $(t,e){return function(n){var r,a,i=Lt(1900,void 0,1);if(k(i,t,n+="",0)!=n.length)return null;if("Q"in i)return new Date(i.Q);if("s"in i)return new Date(1e3*i.s+("L"in i?i.L:0));if(!e||"Z"in i||(i.Z=0),"p"in i&&(i.H=i.H%12+12*i.p),void 0===i.m&&(i.m="q"in i?i.q:0),"V"in i){if(i.V<1||i.V>53)return null;"w"in i||(i.w=1),"Z"in i?(a=(r=Et(Lt(i.y,0,1))).getUTCDay(),r=a>4||0===a?Ft.ceil(r):Ft(r),r=Ct.offset(r,7*(i.V-1)),i.y=r.getUTCFullYear(),i.m=r.getUTCMonth(),i.d=r.getUTCDate()+(i.w+6)%7):(a=(r=Ht(Lt(i.y,0,1))).getDay(),r=a>4||0===a?Tt.ceil(r):Tt(r),r=wt.offset(r,7*(i.V-1)),i.y=r.getFullYear(),i.m=r.getMonth(),i.d=r.getDate()+(i.w+6)%7)}else("W"in i||"U"in i)&&("w"in i||(i.w="u"in i?i.u%7:"W"in i?1:0),a="Z"in i?Et(Lt(i.y,0,1)).getUTCDay():Ht(Lt(i.y,0,1)).getDay(),i.m=0,i.d="W"in i?(i.w+6)%7+7*i.W-(a+5)%7:i.w+7*i.U-(a+6)%7);return"Z"in i?(i.H+=i.Z/100|0,i.M+=i.Z%100,Et(i)):Ht(i)}}function k(t,e,n,r){for(var a,i,o=0,l=e.length,s=n.length;o<l;){if(r>=s)return-1;if(37===(a=e.charCodeAt(o++))){if(a=e.charAt(o++),!(i=b[a in Wt?e.charAt(o++):a])||(r=i(t,n,r))<0)return-1}else if(a!=n.charCodeAt(r++))return-1}return r}return(x.x=w(n,x),x.X=w(r,x),x.c=w(e,x),M.x=w(n,M),M.X=w(r,M),M.c=w(e,M),{format:function(t){var e=w(t+="",x);return e.toString=function(){return t},e},parse:function(t){var e=$(t+="",!1);return e.toString=function(){return t},e},utcFormat:function(t){var e=w(t+="",M);return e.toString=function(){return t},e},utcParse:function(t){var e=$(t+="",!0);return e.toString=function(){return t},e}})}({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]}),Rt=jt.format,jt.parse,jt.utcFormat,jt.utcParse;const Qe=[];function Ke(e,n=t){let r;const a=[];function o(t){if(i(e,t)&&(e=t,r)){const t=!Qe.length;for(let t=0;t<a.length;t+=1){const n=a[t];n[1](),Qe.push(n,e)}if(t){for(let t=0;t<Qe.length;t+=2)Qe[t][0](Qe[t+1]);Qe.length=0}}}return{set:o,update:function(t){o(t(e))},subscribe:function(i,l=t){const s=[i,l];return a.push(s),1===a.length&&(r=n(o)||t),i(e),()=>{const t=a.indexOf(s);-1!==t&&a.splice(t,1),0===a.length&&(r(),r=null)}}}}function tn(e,n,i){const o=!Array.isArray(e),l=o?[e]:e,s=n.length<2;return{subscribe:Ke(i,e=>{let i=!1;const u=[];let c=0,h=t;const f=()=>{if(c)return;h();const r=n(o?u[0]:u,e);s?e(r):h=a(r)?r:t},d=l.map((t,e)=>t.subscribe(t=>{u[e]=t,c&=~(1<<e),i&&f()},()=>{c|=1<<e}));return i=!0,f(),function(){r(d),h()}}).subscribe}}const en={today:"Heute",year:"Jahr",month:"Monat",language:"Sprache",location:"Position",day:"Tag",days:"Tage",timerange:"Zeitraum",to:"bis",selectStation:"Wetterstation in Deutschland auswählen",altitude:"Stationshöhe",tooltipDateFormat:"%d. %b",introDateFormat:"%d.%m.%Y",monthLong:"Januar,Februar,März,April,Mai,Juni,Juli,August,September,Oktober,November,Dezember".split(","),source:"Quelle",distance:"Entfernung",visBy:"Visualisierung",intro:"Lesehilfe",customize:"Diagramm anpassen",absRecords:"Absolute Höchst- und Tiefstwerte",avgHighLow:"Normaler Temperaturbereich",avgHighLowInfo:"Der Bereich zwischen den mittleren Tageshöchst- und -tiefstwerten im Vergleichszeitraum",avgMedian:"Mittlere Tagesmitteltemperatur",showAnomalies:"Anomalien hervorheben",showRecords:"Rekorde beschriften",recordsNote:"Temperaturen die in dieser Höhe/Tiefe noch nicht an dieser Wetterstation gemessen wurden",smooth:"Normalbereich glätten über",anomaliesNote:"Anomalien bezeichnen Tagestemperaturen ober- und unterhalb der gemittelten Tageshöchst- und Tiefstwerte",overFullPeriod:"Bezogen auf gesamten verfügbaren Zeitraum (bis zum gezeigten Bereich)",overPeriod:"Gemittelte Werte des Normalbereichs beziehen sich auf den Vergleichszeitraum",changePeriod:"Vergleichszeitraum ändern auf",periodYearsFrom:"Jahre ab",cdcUrl:"https://www.dwd.de/DE/klimaumwelt/cdc/cdc_node.html",monthShort:"Jan.,Feb.,März,April,Mai,Juni,Juli,Aug.,Sept.,Okt.,Nov.,Dez.".split(",")},nn={today:"Today",year:"Year",language:"Language",location:"Location",month:"Month",day:"Day",days:"days",timerange:"Range",to:"to",selectStation:"Select a weather station in Germany",altitude:"Station altitude",tooltipDateFormat:"%b %d",introDateFormat:"%b %d, %Y",source:"Source",distance:"Distance",visBy:"Visualization",intro:"How to read this chart",customize:"Customize chart layers",absRecords:"Maximum and minimum temperature",avgHighLow:"Normal temperature range",avgHighLowInfo:"Range between median of daily maxima and minima in base period",avgMedian:"Average daily median temperature",showAnomalies:"Highlight anomalies",anomaliesNote:"Anomalies are daily temperatures above or below the average maximum and minimum temperatures",showRecords:"Label temperature records",smooth:"Smooth normal range over",recordsNote:"Temperatures that are higher or lower than the max/min temperatures in the past",overFullPeriod:"Full availabe period until displayed time range",overPeriod:"Averages for normal range are computed over period ",changePeriod:"Change base period to",periodYearsFrom:"years from",cdcUrl:"https://www.dwd.de/EN/climate_environment/cdc/cdc_node.html",monthLong:"January,February,March,April,May,June,July,August,September,October,November,December".split(","),monthShort:"Jan.,Feb.,March,April,May,June,July,Aug.,Sept.,Oct.,Nov.,Dec.".split(",")},rn=Ke(1981),an=Ke(30),on=tn([rn,an],([t,e])=>t+e),ln=Ke(new Date(2019,11,31)),sn=Ke(window.innerWidth),un=Ke(1e3),cn=tn(un,t=>t<500?180:365),hn=tn([ln,un,cn],([t,e,n])=>{const r=n,a=Dt.ceil(t),i=Dt.floor(new Date(a.getTime()-864e5*r)),o=wt.count(i,a);return new Date(t.getTime()-864e5*o)}),fn=Ke("de"),dn=Ke(!0),mn=Ke(!0),gn=Ke(0),pn=tn(fn,t=>"de"===t?en:nn);function yn(t,e){return t<e?-1:t>e?1:t>=e?0:NaN}function vn(t){var e;return 1===t.length&&(e=t,t=function(t,n){return yn(e(t),n)}),{left:function(e,n,r,a){for(null==r&&(r=0),null==a&&(a=e.length);r<a;){var i=r+a>>>1;t(e[i],n)<0?r=i+1:a=i}return r},right:function(e,n,r,a){for(null==r&&(r=0),null==a&&(a=e.length);r<a;){var i=r+a>>>1;t(e[i],n)>0?a=i:r=i+1}return r}}}var xn=vn(yn).right;function Mn(t){return t}function bn(t,...e){return function(t,e,n,r){return function t(a,i){if(i>=r.length)return n(a);const o=new Map,l=r[i++];let s=-1;for(const t of a){const e=l(t,++s,a),n=o.get(e);n?n.push(t):o.set(e,[t])}for(const[e,n]of o)o.set(e,t(n,i));return e(o)}(t,0)}(t,Mn,Mn,e)}var wn=Math.sqrt(50),$n=Math.sqrt(10),kn=Math.sqrt(2);function _n(t,e,n){var r=(e-t)/Math.max(0,n),a=Math.floor(Math.log(r)/Math.LN10),i=r/Math.pow(10,a);return a>=0?(i>=wn?10:i>=$n?5:i>=kn?2:1)*Math.pow(10,a):-Math.pow(10,-a)/(i>=wn?10:i>=$n?5:i>=kn?2:1)}function Tn(t,e,n){var r=Math.abs(e-t)/Math.max(0,n),a=Math.pow(10,Math.floor(Math.log(r)/Math.LN10)),i=r/a;return i>=wn?a*=10:i>=$n?a*=5:i>=kn&&(a*=2),e<t?-a:a}function An(t){return null===t?NaN:+t}function Dn(t,e){let n=0,r=0;if(void 0===e)for(let e of t)null!=e&&(e=+e)>=e&&(++n,r+=e);else{let a=-1;for(let i of t)null!=(i=e(i,++a,t))&&(i=+i)>=i&&(++n,r+=i)}if(n)return r/n}function Sn(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t)}return this}function Cn(t,e,n){t.prototype=e.prototype=n,n.constructor=t}function zn(t,e){var n=Object.create(t.prototype);for(var r in e)n[r]=e[r];return n}function Nn(){}var Fn="\\s*([+-]?\\d+)\\s*",Yn="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)\\s*",Un="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*",Hn=/^#([0-9a-f]{3,8})$/,En=new RegExp("^rgb\\("+[Fn,Fn,Fn]+"\\)$"),Ln=new RegExp("^rgb\\("+[Un,Un,Un]+"\\)$"),jn=new RegExp("^rgba\\("+[Fn,Fn,Fn,Yn]+"\\)$"),Rn=new RegExp("^rgba\\("+[Un,Un,Un,Yn]+"\\)$"),Wn=new RegExp("^hsl\\("+[Yn,Un,Un]+"\\)$"),Jn=new RegExp("^hsla\\("+[Yn,Un,Un,Yn]+"\\)$"),qn={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function Zn(){return this.rgb().formatHex()}function Vn(){return this.rgb().formatRgb()}function Bn(t){var e,n;return t=(t+"").trim().toLowerCase(),(e=Hn.exec(t))?(n=e[1].length,e=parseInt(e[1],16),6===n?Pn(e):3===n?new Xn(e>>8&15|e>>4&240,e>>4&15|240&e,(15&e)<<4|15&e,1):8===n?new Xn(e>>24&255,e>>16&255,e>>8&255,(255&e)/255):4===n?new Xn(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|240&e,((15&e)<<4|15&e)/255):null):(e=En.exec(t))?new Xn(e[1],e[2],e[3],1):(e=Ln.exec(t))?new Xn(255*e[1]/100,255*e[2]/100,255*e[3]/100,1):(e=jn.exec(t))?On(e[1],e[2],e[3],e[4]):(e=Rn.exec(t))?On(255*e[1]/100,255*e[2]/100,255*e[3]/100,e[4]):(e=Wn.exec(t))?tr(e[1],e[2]/100,e[3]/100,1):(e=Jn.exec(t))?tr(e[1],e[2]/100,e[3]/100,e[4]):qn.hasOwnProperty(t)?Pn(qn[t]):"transparent"===t?new Xn(NaN,NaN,NaN,0):null}function Pn(t){return new Xn(t>>16&255,t>>8&255,255&t,1)}function On(t,e,n,r){return r<=0&&(t=e=n=NaN),new Xn(t,e,n,r)}function In(t,e,n,r){return 1===arguments.length?((a=t)instanceof Nn||(a=Bn(a)),a?new Xn((a=a.rgb()).r,a.g,a.b,a.opacity):new Xn):new Xn(t,e,n,null==r?1:r);var a}function Xn(t,e,n,r){this.r=+t,this.g=+e,this.b=+n,this.opacity=+r}function Gn(){return"#"+Kn(this.r)+Kn(this.g)+Kn(this.b)}function Qn(){var t=this.opacity;return(1===(t=isNaN(t)?1:Math.max(0,Math.min(1,t)))?"rgb(":"rgba(")+Math.max(0,Math.min(255,Math.round(this.r)||0))+", "+Math.max(0,Math.min(255,Math.round(this.g)||0))+", "+Math.max(0,Math.min(255,Math.round(this.b)||0))+(1===t?")":", "+t+")")}function Kn(t){return((t=Math.max(0,Math.min(255,Math.round(t)||0)))<16?"0":"")+t.toString(16)}function tr(t,e,n,r){return r<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new nr(t,e,n,r)}function er(t){if(t instanceof nr)return new nr(t.h,t.s,t.l,t.opacity);if(t instanceof Nn||(t=Bn(t)),!t)return new nr;if(t instanceof nr)return t;var e=(t=t.rgb()).r/255,n=t.g/255,r=t.b/255,a=Math.min(e,n,r),i=Math.max(e,n,r),o=NaN,l=i-a,s=(i+a)/2;return l?(o=e===i?(n-r)/l+6*(n<r):n===i?(r-e)/l+2:(e-n)/l+4,l/=s<.5?i+a:2-i-a,o*=60):l=s>0&&s<1?0:o,new nr(o,l,s,t.opacity)}function nr(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}function rr(t,e,n){return 255*(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)}function ar(t){return function(){return t}}function ir(t){return 1==(t=+t)?or:function(e,n){return n-e?function(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(r){return Math.pow(t+r*e,n)}}(e,n,t):ar(isNaN(e)?n:e)}}function or(t,e){var n=e-t;return n?function(t,e){return function(n){return t+n*e}}(t,n):ar(isNaN(t)?e:t)}Cn(Nn,Bn,{copy:function(t){return Object.assign(new this.constructor,this,t)},displayable:function(){return this.rgb().displayable()},hex:Zn,formatHex:Zn,formatHsl:function(){return er(this).formatHsl()},formatRgb:Vn,toString:Vn}),Cn(Xn,In,zn(Nn,{brighter:function(t){return t=null==t?1/.7:Math.pow(1/.7,t),new Xn(this.r*t,this.g*t,this.b*t,this.opacity)},darker:function(t){return t=null==t?.7:Math.pow(.7,t),new Xn(this.r*t,this.g*t,this.b*t,this.opacity)},rgb:function(){return this},displayable:function(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:Gn,formatHex:Gn,formatRgb:Qn,toString:Qn})),Cn(nr,(function(t,e,n,r){return 1===arguments.length?er(t):new nr(t,e,n,null==r?1:r)}),zn(Nn,{brighter:function(t){return t=null==t?1/.7:Math.pow(1/.7,t),new nr(this.h,this.s,this.l*t,this.opacity)},darker:function(t){return t=null==t?.7:Math.pow(.7,t),new nr(this.h,this.s,this.l*t,this.opacity)},rgb:function(){var t=this.h%360+360*(this.h<0),e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*e,a=2*n-r;return new Xn(rr(t>=240?t-240:t+120,a,r),rr(t,a,r),rr(t<120?t+240:t-120,a,r),this.opacity)},displayable:function(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl:function(){var t=this.opacity;return(1===(t=isNaN(t)?1:Math.max(0,Math.min(1,t)))?"hsl(":"hsla(")+(this.h||0)+", "+100*(this.s||0)+"%, "+100*(this.l||0)+"%"+(1===t?")":", "+t+")")}}));var lr=function t(e){var n=ir(e);function r(t,e){var r=n((t=In(t)).r,(e=In(e)).r),a=n(t.g,e.g),i=n(t.b,e.b),o=or(t.opacity,e.opacity);return function(e){return t.r=r(e),t.g=a(e),t.b=i(e),t.opacity=o(e),t+""}}return r.gamma=t,r}(1);function sr(t,e){e||(e=[]);var n,r=t?Math.min(e.length,t.length):0,a=e.slice();return function(i){for(n=0;n<r;++n)a[n]=t[n]*(1-i)+e[n]*i;return a}}function ur(t,e){var n,r=e?e.length:0,a=t?Math.min(r,t.length):0,i=new Array(a),o=new Array(r);for(n=0;n<a;++n)i[n]=pr(t[n],e[n]);for(;n<r;++n)o[n]=e[n];return function(t){for(n=0;n<a;++n)o[n]=i[n](t);return o}}function cr(t,e){var n=new Date;return t=+t,e=+e,function(r){return n.setTime(t*(1-r)+e*r),n}}function hr(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}}function fr(t,e){var n,r={},a={};for(n in null!==t&&"object"==typeof t||(t={}),null!==e&&"object"==typeof e||(e={}),e)n in t?r[n]=pr(t[n],e[n]):a[n]=e[n];return function(t){for(n in r)a[n]=r[n](t);return a}}var dr=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,mr=new RegExp(dr.source,"g");function gr(t,e){var n,r,a,i=dr.lastIndex=mr.lastIndex=0,o=-1,l=[],s=[];for(t+="",e+="";(n=dr.exec(t))&&(r=mr.exec(e));)(a=r.index)>i&&(a=e.slice(i,a),l[o]?l[o]+=a:l[++o]=a),(n=n[0])===(r=r[0])?l[o]?l[o]+=r:l[++o]=r:(l[++o]=null,s.push({i:o,x:hr(n,r)})),i=mr.lastIndex;return i<e.length&&(a=e.slice(i),l[o]?l[o]+=a:l[++o]=a),l.length<2?s[0]?function(t){return function(e){return t(e)+""}}(s[0].x):function(t){return function(){return t}}(e):(e=s.length,function(t){for(var n,r=0;r<e;++r)l[(n=s[r]).i]=n.x(t);return l.join("")})}function pr(t,e){var n,r=typeof e;return null==e||"boolean"===r?ar(e):("number"===r?hr:"string"===r?(n=Bn(e))?(e=n,lr):gr:e instanceof Bn?lr:e instanceof Date?cr:function(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}(e)?sr:Array.isArray(e)?ur:"function"!=typeof e.valueOf&&"function"!=typeof e.toString||isNaN(e)?fr:hr)(t,e)}function yr(t,e){return t=+t,e=+e,function(n){return Math.round(t*(1-n)+e*n)}}function vr(t){return+t}var xr=[0,1];function Mr(t){return t}function br(t,e){return(e-=t=+t)?function(n){return(n-t)/e}:function(t){return function(){return t}}(isNaN(e)?NaN:.5)}function wr(t,e,n){var r=t[0],a=t[1],i=e[0],o=e[1];return a<r?(r=br(a,r),i=n(o,i)):(r=br(r,a),i=n(i,o)),function(t){return i(r(t))}}function $r(t,e,n){var r=Math.min(t.length,e.length)-1,a=new Array(r),i=new Array(r),o=-1;for(t[r]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++o<r;)a[o]=br(t[o],t[o+1]),i[o]=n(e[o],e[o+1]);return function(e){var n=xn(t,e,1,r)-1;return i[n](a[n](e))}}function kr(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function _r(){var t,e,n,r,a,i,o=xr,l=xr,s=pr,u=Mr;function c(){var t,e,n,s=Math.min(o.length,l.length);return u!==Mr&&(t=o[0],e=o[s-1],t>e&&(n=t,t=e,e=n),u=function(n){return Math.max(t,Math.min(e,n))}),r=s>2?$r:wr,a=i=null,h}function h(e){return isNaN(e=+e)?n:(a||(a=r(o.map(t),l,s)))(t(u(e)))}return h.invert=function(n){return u(e((i||(i=r(l,o.map(t),hr)))(n)))},h.domain=function(t){return arguments.length?(o=Array.from(t,vr),c()):o.slice()},h.range=function(t){return arguments.length?(l=Array.from(t),c()):l.slice()},h.rangeRound=function(t){return l=Array.from(t),s=yr,c()},h.clamp=function(t){return arguments.length?(u=!!t||Mr,c()):u!==Mr},h.interpolate=function(t){return arguments.length?(s=t,c()):s},h.unknown=function(t){return arguments.length?(n=t,h):n},function(n,r){return t=n,e=r,c()}}function Tr(){return _r()(Mr,Mr)}function Ar(t,e){if((n=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var n,r=t.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+t.slice(n+1)]}function Dr(t){return(t=Ar(Math.abs(t)))?t[1]:NaN}var Sr,Cr=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function zr(t){if(!(e=Cr.exec(t)))throw new Error("invalid format: "+t);var e;return new Nr({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}function Nr(t){this.fill=void 0===t.fill?" ":t.fill+"",this.align=void 0===t.align?">":t.align+"",this.sign=void 0===t.sign?"-":t.sign+"",this.symbol=void 0===t.symbol?"":t.symbol+"",this.zero=!!t.zero,this.width=void 0===t.width?void 0:+t.width,this.comma=!!t.comma,this.precision=void 0===t.precision?void 0:+t.precision,this.trim=!!t.trim,this.type=void 0===t.type?"":t.type+""}function Fr(t,e){var n=Ar(t,e);if(!n)return t+"";var r=n[0],a=n[1];return a<0?"0."+new Array(-a).join("0")+r:r.length>a+1?r.slice(0,a+1)+"."+r.slice(a+1):r+new Array(a-r.length+2).join("0")}zr.prototype=Nr.prototype,Nr.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(void 0===this.width?"":Math.max(1,0|this.width))+(this.comma?",":"")+(void 0===this.precision?"":"."+Math.max(0,0|this.precision))+(this.trim?"~":"")+this.type};var Yr={"%":function(t,e){return(100*t).toFixed(e)},b:function(t){return Math.round(t).toString(2)},c:function(t){return t+""},d:function(t){return Math.round(t).toString(10)},e:function(t,e){return t.toExponential(e)},f:function(t,e){return t.toFixed(e)},g:function(t,e){return t.toPrecision(e)},o:function(t){return Math.round(t).toString(8)},p:function(t,e){return Fr(100*t,e)},r:Fr,s:function(t,e){var n=Ar(t,e);if(!n)return t+"";var r=n[0],a=n[1],i=a-(Sr=3*Math.max(-8,Math.min(8,Math.floor(a/3))))+1,o=r.length;return i===o?r:i>o?r+new Array(i-o+1).join("0"):i>0?r.slice(0,i)+"."+r.slice(i):"0."+new Array(1-i).join("0")+Ar(t,Math.max(0,e+i-1))[0]},X:function(t){return Math.round(t).toString(16).toUpperCase()},x:function(t){return Math.round(t).toString(16)}};function Ur(t){return t}var Hr,Er,Lr,jr=Array.prototype.map,Rr=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"];function Wr(t){var e,n,r=void 0===t.grouping||void 0===t.thousands?Ur:(e=jr.call(t.grouping,Number),n=t.thousands+"",function(t,r){for(var a=t.length,i=[],o=0,l=e[0],s=0;a>0&&l>0&&(s+l+1>r&&(l=Math.max(1,r-s)),i.push(t.substring(a-=l,a+l)),!((s+=l+1)>r));)l=e[o=(o+1)%e.length];return i.reverse().join(n)}),a=void 0===t.currency?"":t.currency[0]+"",i=void 0===t.currency?"":t.currency[1]+"",o=void 0===t.decimal?".":t.decimal+"",l=void 0===t.numerals?Ur:function(t){return function(e){return e.replace(/[0-9]/g,(function(e){return t[+e]}))}}(jr.call(t.numerals,String)),s=void 0===t.percent?"%":t.percent+"",u=void 0===t.minus?"-":t.minus+"",c=void 0===t.nan?"NaN":t.nan+"";function h(t){var e=(t=zr(t)).fill,n=t.align,h=t.sign,f=t.symbol,d=t.zero,m=t.width,g=t.comma,p=t.precision,y=t.trim,v=t.type;"n"===v?(g=!0,v="g"):Yr[v]||(void 0===p&&(p=12),y=!0,v="g"),(d||"0"===e&&"="===n)&&(d=!0,e="0",n="=");var x="$"===f?a:"#"===f&&/[boxX]/.test(v)?"0"+v.toLowerCase():"",M="$"===f?i:/[%p]/.test(v)?s:"",b=Yr[v],w=/[defgprs%]/.test(v);function $(t){var a,i,s,f=x,$=M;if("c"===v)$=b(t)+$,t="";else{var k=(t=+t)<0;if(t=isNaN(t)?c:b(Math.abs(t),p),y&&(t=function(t){t:for(var e,n=t.length,r=1,a=-1;r<n;++r)switch(t[r]){case".":a=e=r;break;case"0":0===a&&(a=r),e=r;break;default:if(a>0){if(!+t[r])break t;a=0}}return a>0?t.slice(0,a)+t.slice(e+1):t}(t)),k&&0==+t&&(k=!1),f=(k?"("===h?h:u:"-"===h||"("===h?"":h)+f,$=("s"===v?Rr[8+Sr/3]:"")+$+(k&&"("===h?")":""),w)for(a=-1,i=t.length;++a<i;)if(48>(s=t.charCodeAt(a))||s>57){$=(46===s?o+t.slice(a+1):t.slice(a))+$,t=t.slice(0,a);break}}g&&!d&&(t=r(t,1/0));var _=f.length+t.length+$.length,T=_<m?new Array(m-_+1).join(e):"";switch(g&&d&&(t=r(T+t,T.length?m-$.length:1/0),T=""),n){case"<":t=f+t+$+T;break;case"=":t=f+T+t+$;break;case"^":t=T.slice(0,_=T.length>>1)+f+t+$+T.slice(_);break;default:t=T+f+t+$}return l(t)}return p=void 0===p?6:/[gprs]/.test(v)?Math.max(1,Math.min(21,p)):Math.max(0,Math.min(20,p)),$.toString=function(){return t+""},$}return{format:h,formatPrefix:function(t,e){var n=h(((t=zr(t)).type="f",t)),r=3*Math.max(-8,Math.min(8,Math.floor(Dr(e)/3))),a=Math.pow(10,-r),i=Rr[8+r/3];return function(t){return n(a*t)+i}}}}function Jr(t,e,n,r){var a,i=Tn(t,e,n);switch((r=zr(null==r?",f":r)).type){case"s":var o=Math.max(Math.abs(t),Math.abs(e));return null!=r.precision||isNaN(a=function(t,e){return Math.max(0,3*Math.max(-8,Math.min(8,Math.floor(Dr(e)/3)))-Dr(Math.abs(t)))}(i,o))||(r.precision=a),Lr(r,o);case"":case"e":case"g":case"p":case"r":null!=r.precision||isNaN(a=function(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,Dr(e)-Dr(t))+1}(i,Math.max(Math.abs(t),Math.abs(e))))||(r.precision=a-("e"===r.type));break;case"f":case"%":null!=r.precision||isNaN(a=function(t){return Math.max(0,-Dr(Math.abs(t)))}(i))||(r.precision=a-2*("%"===r.type))}return Er(r)}function qr(t){var e=t.domain;return t.ticks=function(t){var n=e();return function(t,e,n){var r,a,i,o,l=-1;if(n=+n,(t=+t)===(e=+e)&&n>0)return[t];if((r=e<t)&&(a=t,t=e,e=a),0===(o=_n(t,e,n))||!isFinite(o))return[];if(o>0)for(t=Math.ceil(t/o),e=Math.floor(e/o),i=new Array(a=Math.ceil(e-t+1));++l<a;)i[l]=(t+l)*o;else for(t=Math.floor(t*o),e=Math.ceil(e*o),i=new Array(a=Math.ceil(t-e+1));++l<a;)i[l]=(t-l)/o;return r&&i.reverse(),i}(n[0],n[n.length-1],null==t?10:t)},t.tickFormat=function(t,n){var r=e();return Jr(r[0],r[r.length-1],null==t?10:t,n)},t.nice=function(n){null==n&&(n=10);var r,a=e(),i=0,o=a.length-1,l=a[i],s=a[o];return s<l&&(r=l,l=s,s=r,r=i,i=o,o=r),(r=_n(l,s,n))>0?r=_n(l=Math.floor(l/r)*r,s=Math.ceil(s/r)*r,n):r<0&&(r=_n(l=Math.ceil(l*r)/r,s=Math.floor(s*r)/r,n)),r>0?(a[i]=Math.floor(l/r)*r,a[o]=Math.ceil(s/r)*r,e(a)):r<0&&(a[i]=Math.ceil(l*r)/r,a[o]=Math.floor(s*r)/r,e(a)),t},t}function Zr(){var t=Tr();return t.copy=function(){return kr(t,Zr())},Sn.apply(t,arguments),qr(t)}!function(t){Hr=Wr(t),Er=Hr.format,Lr=Hr.formatPrefix}({decimal:".",thousands:",",grouping:[3],currency:["$",""],minus:"-"});var Vr=1e3,Br=60*Vr,Pr=60*Br,Or=24*Pr,Ir=7*Or,Xr=30*Or,Gr=365*Or;function Qr(t){return new Date(t)}function Kr(t){return t instanceof Date?+t:+new Date(+t)}function ta(){return Sn.apply(function t(e,n,r,a,i,o,l,s,u){var c=Tr(),h=c.invert,f=c.domain,d=u(".%L"),m=u(":%S"),g=u("%I:%M"),p=u("%I %p"),y=u("%a %d"),v=u("%b %d"),x=u("%B"),M=u("%Y"),b=[[l,1,Vr],[l,5,5*Vr],[l,15,15*Vr],[l,30,30*Vr],[o,1,Br],[o,5,5*Br],[o,15,15*Br],[o,30,30*Br],[i,1,Pr],[i,3,3*Pr],[i,6,6*Pr],[i,12,12*Pr],[a,1,Or],[a,2,2*Or],[r,1,Ir],[n,1,Xr],[n,3,3*Xr],[e,1,Gr]];function w(t){return(l(t)<t?d:o(t)<t?m:i(t)<t?g:a(t)<t?p:n(t)<t?r(t)<t?y:v:e(t)<t?x:M)(t)}function $(t,n,r){if(null==t&&(t=10),"number"==typeof t){var a,i=Math.abs(r-n)/t,o=vn((function(t){return t[2]})).right(b,i);return o===b.length?(a=Tn(n/Gr,r/Gr,t),t=e):o?(a=(o=b[i/b[o-1][2]<b[o][2]/i?o-1:o])[1],t=o[0]):(a=Math.max(Tn(n,r,t),1),t=s),t.every(a)}return t}return c.invert=function(t){return new Date(h(t))},c.domain=function(t){return arguments.length?f(Array.from(t,Kr)):f().map(Qr)},c.ticks=function(t){var e,n=f(),r=n[0],a=n[n.length-1],i=a<r;return i&&(e=r,r=a,a=e),e=(e=$(t,r,a))?e.range(r,a+1):[],i?e.reverse():e},c.tickFormat=function(t,e){return null==e?w:u(e)},c.nice=function(t){var e=f();return(t=$(t,e[0],e[e.length-1]))?f(function(t,e){var n,r=0,a=(t=t.slice()).length-1,i=t[r],o=t[a];return o<i&&(n=r,r=a,a=n,n=i,i=o,o=n),t[r]=e.floor(i),t[a]=e.ceil(o),t}(e,t)):c},c.copy=function(){return kr(c,t(e,n,r,a,i,o,l,s,u))},c}(St,Dt,_t,wt,bt,Mt,xt,pt,Rt).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function ea(t,e,n){const r=t.slice();return r[27]=e[n],r}function na(t,e,n){const r=t.slice();return r[30]=e[n],r[32]=n,r}function ra(t,e,n){const r=t.slice();return r[30]=e[n],r}function aa(t){let e,n,r,a,i,o,l,h,f=t[30]<0?"&minus;":"",g=Math.abs(t[30])+"";return{c(){e=d("g"),n=d("line"),r=d("text"),i=m(g),o=m("°C\n                        "),v(n,"x2","100%"),v(n,"class","svelte-wrnffp"),a=new k(f,i),v(r,"y","-4"),v(r,"class","svelte-wrnffp"),v(e,"class",l="tick tick-"+t[30]+" svelte-wrnffp"),v(e,"transform",h="translate(0, "+t[8](t[30])+")")},m(t,l){u(t,e,l),s(e,n),s(e,r),a.m(r),s(r,i),s(r,o)},p(t,n){1024&n[0]&&f!==(f=t[30]<0?"&minus;":"")&&a.p(f),1024&n[0]&&g!==(g=Math.abs(t[30])+"")&&x(i,g),1024&n[0]&&l!==(l="tick tick-"+t[30]+" svelte-wrnffp")&&v(e,"class",l),1280&n[0]&&h!==(h="translate(0, "+t[8](t[30])+")")&&v(e,"transform",h)},d(t){t&&c(e)}}}function ia(t){let e,n,r,a,i=(sn>400?t[11](t[30],t[32]):t[12](t[30],t[32]))+"",o=!t[32]&&t[30].getMonth()<11||!t[30].getMonth(),l=o&&oa(t);return{c(){e=d("g"),n=d("text"),r=m(i),l&&l.c(),v(n,"y","0"),v(n,"class","svelte-wrnffp"),v(e,"transform",a="translate("+(t[4](t[14](t[30]))-t[4](t[30]))+",-50)")},m(t,a){u(t,e,a),s(e,n),s(n,r),l&&l.m(e,null)},p(t,n){6272&n[0]&&i!==(i=(sn>400?t[11](t[30],t[32]):t[12](t[30],t[32]))+"")&&x(r,i),128&n[0]&&(o=!t[32]&&t[30].getMonth()<11||!t[30].getMonth()),o?l?l.p(t,n):(l=oa(t),l.c(),l.m(e,null)):l&&(l.d(1),l=null),144&n[0]&&a!==(a="translate("+(t[4](t[14](t[30]))-t[4](t[30]))+",-50)")&&v(e,"transform",a)},d(t){t&&c(e),l&&l.d()}}}function oa(t){let e,n,r=t[30].getFullYear()+"";return{c(){e=d("text"),n=m(r),v(e,"class","year svelte-wrnffp"),v(e,"y","20")},m(t,r){u(t,e,r),s(e,n)},p(t,e){128&e[0]&&r!==(r=t[30].getFullYear()+"")&&x(n,r)},d(t){t&&c(e)}}}function la(t){let e,n,r,a,i,o,l=t[14](t[30])<t[5],h=l&&ia(t);return{c(){e=d("g"),n=d("line"),h&&h.c(),v(n,"y1",r="-"+t[9]),v(n,"y2",a="-"+t[3].bottom),v(n,"x1","0"),v(n,"x2","0"),v(n,"class","svelte-wrnffp"),v(e,"class",i="tick tick-"+t[30]+" svelte-wrnffp"),v(e,"transform",o="translate("+t[4](t[30])+","+t[9]+")")},m(t,r){u(t,e,r),s(e,n),h&&h.m(e,null)},p(t,s){512&s[0]&&r!==(r="-"+t[9])&&v(n,"y1",r),8&s[0]&&a!==(a="-"+t[3].bottom)&&v(n,"y2",a),160&s[0]&&(l=t[14](t[30])<t[5]),l?h?h.p(t,s):(h=ia(t),h.c(),h.m(e,null)):h&&(h.d(1),h=null),128&s[0]&&i!==(i="tick tick-"+t[30]+" svelte-wrnffp")&&v(e,"class",i),656&s[0]&&o!==(o="translate("+t[4](t[30])+","+t[9]+")")&&v(e,"transform",o)},d(t){t&&c(e),h&&h.d()}}}function sa(t){let e,n;var r=t[27];function a(t){return{props:{data:t[0],grouped:t[2],xScale:t[4],yScale:t[8]}}}if(r)var i=new r(a(t));return{c(){i&&O(i.$$.fragment),e=p()},m(t,r){i&&I(i,t,r),u(t,e,r),n=!0},p(t,n){const o={};if(1&n[0]&&(o.data=t[0]),4&n[0]&&(o.grouped=t[2]),16&n[0]&&(o.xScale=t[4]),256&n[0]&&(o.yScale=t[8]),r!==(r=t[27])){if(i){W();const t=i;Z(t.$$.fragment,1,0,()=>{X(t,1)}),J()}r?(O((i=new r(a(t))).$$.fragment),q(i.$$.fragment,1),I(i,e.parentNode,e)):i=null}else r&&i.$set(o)},i(t){n||(i&&q(i.$$.fragment,t),n=!0)},o(t){i&&Z(i.$$.fragment,t),n=!1},d(t){t&&c(e),i&&X(i,t)}}}function ua(t){let e,n,r,a,i,o,l,m,g,p;U(t[25]);let x=t[10],M=[];for(let e=0;e<x.length;e+=1)M[e]=aa(ra(t,x,e));let b=t[7],$=[];for(let e=0;e<b.length;e+=1)$[e]=la(na(t,b,e));let k=t[1],_=[];for(let e=0;e<k.length;e+=1)_[e]=sa(ea(t,k,e));const T=t=>Z(_[t],1,1,()=>{_[t]=null});return{c(){e=f("div"),n=d("svg"),r=d("g"),a=d("g");for(let t=0;t<M.length;t+=1)M[t].c();i=d("g");for(let t=0;t<$.length;t+=1)$[t].c();for(let t=0;t<_.length;t+=1)_[t].c();o=d("line"),v(a,"class","axis y-axis"),v(i,"class","axis x-axis svelte-wrnffp"),v(o,"class","zero svelte-wrnffp"),v(o,"transform",l="translate(0,"+t[8](0)+")"),v(o,"x2","100%"),v(n,"height",t[9]),v(n,"class","svelte-wrnffp"),v(e,"class","chart svelte-wrnffp"),U(()=>t[26].call(e)),p=y(window,"resize",t[25])},m(l,c){u(l,e,c),s(e,n),s(n,r),s(r,a);for(let t=0;t<M.length;t+=1)M[t].m(a,null);s(r,i);for(let t=0;t<$.length;t+=1)$[t].m(i,null);for(let t=0;t<_.length;t+=1)_[t].m(r,null);s(r,o),m=w(e,t[26].bind(e)),g=!0},p(t,e){if(1280&e[0]){let n;for(x=t[10],n=0;n<x.length;n+=1){const r=ra(t,x,n);M[n]?M[n].p(r,e):(M[n]=aa(r),M[n].c(),M[n].m(a,null))}for(;n<M.length;n+=1)M[n].d(1);M.length=x.length}if(23224&e[0]){let n;for(b=t[7],n=0;n<b.length;n+=1){const r=na(t,b,n);$[n]?$[n].p(r,e):($[n]=la(r),$[n].c(),$[n].m(i,null))}for(;n<$.length;n+=1)$[n].d(1);$.length=b.length}if(279&e[0]){let n;for(k=t[1],n=0;n<k.length;n+=1){const a=ea(t,k,n);_[n]?(_[n].p(a,e),q(_[n],1)):(_[n]=sa(a),_[n].c(),q(_[n],1),_[n].m(r,o))}for(W(),n=k.length;n<_.length;n+=1)T(n);J()}(!g||256&e[0]&&l!==(l="translate(0,"+t[8](0)+")"))&&v(o,"transform",l),(!g||512&e[0])&&v(n,"height",t[9])},i(t){if(!g){for(let t=0;t<k.length;t+=1)q(_[t]);g=!0}},o(t){_=_.filter(Boolean);for(let t=0;t<_.length;t+=1)Z(_[t]);g=!1},d(t){t&&c(e),h(M,t),h($,t),h(_,t),m.cancel(),p()}}}function ca(t,e,n){let r,a,i,l,s,u,c,h;o(t,gn,t=>n(19,r=t)),o(t,hn,t=>n(20,a=t)),o(t,ln,t=>n(5,i=t)),o(t,un,t=>n(6,l=t)),o(t,pn,t=>n(21,s=t)),o(t,rn,t=>n(22,u=t)),o(t,on,t=>n(23,c=t)),o(t,sn,t=>n(13,h=t));let{data:f=[]}=e,d=-29,m=45,{layers:g=[]}=e;const p=Rt("-%m-%d");let y,v,x,M,b,w,$,k,_,T,A;return t.$set=t=>{"data"in t&&n(0,f=t.data),"layers"in t&&n(1,g=t.layers)},t.$$.update=()=>{if(1&t.$$.dirty[0]&&n(17,v=f.filter(t=>t.tMin>-999&&t.tMax>-999)),655360&t.$$.dirty[0]&&n(18,x=r>0?v.map((t,e)=>({date:t.date,dateRaw:t.dateRaw,tMin:Dn(v.slice(Math.max(0,e-r),e+r+1).map(t=>t.tMin)),tAvg:Dn(v.slice(Math.max(0,e-r),e+r+1).map(t=>t.tAvg)),tMax:Dn(v.slice(Math.max(0,e-r),e+r+1).map(t=>t.tMax))})):v),1048680&t.$$.dirty[0]&&n(4,b=ta().domain([a,i]).range([M.left,l-M.right])),16&t.$$.dirty[0]&&n(7,w=b.ticks(Dt)),14123041&t.$$.dirty[0]){const t=bn(v,t=>t.dateRaw.substr(4)),e=bn(x,t=>t.dateRaw.substr(4));for(n(15,d=99),n(16,m=-99),n(2,y=$t(a,wt.offset(i,1)).map(r=>{const i=p(r),o=t.get(i).filter(t=>t.date.getTime()<a.getTime()),l=function(t,e){let n;if(void 0===e)for(const e of t)null!=e&&(n>e||void 0===n&&e>=e)&&(n=e);else{let r=-1;for(let a of t)null!=(a=e(a,++r,t))&&(n>a||void 0===n&&a>=a)&&(n=a)}return n}(o,t=>t.tMin),s=function(t,e){let n;if(void 0===e)for(const e of t)null!=e&&(n<e||void 0===n&&e>=e)&&(n=e);else{let r=-1;for(let a of t)null!=(a=e(a,++r,t))&&(n<a||void 0===n&&a>=a)&&(n=a)}return n}(o,t=>t.tMax),h=e.get(i).filter(t=>t.date.getFullYear()>=u&&t.date.getFullYear()<c),g=h.map(t=>t.tMin).sort(yn),y=h.map(t=>t.tAvg).sort(yn),v=h.map(t=>t.tMax).sort(yn),x=r.getFullYear()+i,M=f.find(t=>t.dateRaw===x);n(15,d=Math.min(d,l-5)),n(16,m=Math.max(m,s+5)),M&&(n(15,d=Math.min(d,M.tMin-5)),n(16,m=Math.max(m,M.tMax+5)));const b=function(t,e,n=An){if(r=t.length){if((e=+e)<=0||r<2)return+n(t[0],0,t);if(e>=1)return+n(t[r-1],r-1,t);var r,a=(r-1)*e,i=Math.floor(a),o=+n(t[i],i,t);return o+(+n(t[i+1],i+1,t)-o)*(a-i)}}(y,.5);return{date:r,dateRaw:x,grouped:h,tMin:Dn(g),tAvg:b,tMax:Dn(v),tMinAbs:l,tMaxAbs:s,tMinSorted:g,tAvgSorted:y,tMaxSorted:v}}));m-d<40;)n(16,m++,m),n(15,d--,d)}64&t.$$.dirty[0]&&n(9,_=Math.max(450,Math.min(500,l*(l>800?.35:l>500?.7:1)))),98824&t.$$.dirty[0]&&n(8,$=Zr().domain([d,m]).range([_-M.bottom,M.top])),256&t.$$.dirty[0]&&n(10,k=$.ticks(6)),2097152&t.$$.dirty[0]&&n(11,T=(t,e)=>s.monthLong[t.getMonth()]),2097152&t.$$.dirty[0]&&n(12,A=(t,e)=>s.monthShort[t.getMonth()])},n(3,M={top:20,right:5,bottom:30,left:sn<400?30:40}),[f,g,y,M,b,i,l,w,$,_,k,T,A,h,t=>new Date(t.getTime()+(new Date(t.getFullYear(),t.getMonth()+1,t.getDate())-t)/2),d,m,v,x,r,a,s,u,c,p,function(){sn.set(h=window.innerWidth)},function(){l=this.clientWidth,un.set(l)}]}class ha extends Q{constructor(t){super(),G(this,t,ca,ua,i,{data:0,layers:1},[-1,-1])}}var fa=Math.PI,da=2*fa,ma=da-1e-6;function ga(){this._x0=this._y0=this._x1=this._y1=null,this._=""}function pa(){return new ga}function ya(t){return function(){return t}}function va(t){this._context=t}function xa(t){return new va(t)}function Ma(t){return t[0]}function ba(t){return t[1]}function wa(){var t=Ma,e=ba,n=ya(!0),r=null,a=xa,i=null;function o(o){var l,s,u,c=o.length,h=!1;for(null==r&&(i=a(u=pa())),l=0;l<=c;++l)!(l<c&&n(s=o[l],l,o))===h&&((h=!h)?i.lineStart():i.lineEnd()),h&&i.point(+t(s,l,o),+e(s,l,o));if(u)return i=null,u+""||null}return o.x=function(e){return arguments.length?(t="function"==typeof e?e:ya(+e),o):t},o.y=function(t){return arguments.length?(e="function"==typeof t?t:ya(+t),o):e},o.defined=function(t){return arguments.length?(n="function"==typeof t?t:ya(!!t),o):n},o.curve=function(t){return arguments.length?(a=t,null!=r&&(i=a(r)),o):a},o.context=function(t){return arguments.length?(null==t?r=i=null:i=a(r=t),o):r},o}function $a(){var t=Ma,e=null,n=ya(0),r=ba,a=ya(!0),i=null,o=xa,l=null;function s(s){var u,c,h,f,d,m=s.length,g=!1,p=new Array(m),y=new Array(m);for(null==i&&(l=o(d=pa())),u=0;u<=m;++u){if(!(u<m&&a(f=s[u],u,s))===g)if(g=!g)c=u,l.areaStart(),l.lineStart();else{for(l.lineEnd(),l.lineStart(),h=u-1;h>=c;--h)l.point(p[h],y[h]);l.lineEnd(),l.areaEnd()}g&&(p[u]=+t(f,u,s),y[u]=+n(f,u,s),l.point(e?+e(f,u,s):p[u],r?+r(f,u,s):y[u]))}if(d)return l=null,d+""||null}function u(){return wa().defined(a).curve(o).context(i)}return s.x=function(n){return arguments.length?(t="function"==typeof n?n:ya(+n),e=null,s):t},s.x0=function(e){return arguments.length?(t="function"==typeof e?e:ya(+e),s):t},s.x1=function(t){return arguments.length?(e=null==t?null:"function"==typeof t?t:ya(+t),s):e},s.y=function(t){return arguments.length?(n="function"==typeof t?t:ya(+t),r=null,s):n},s.y0=function(t){return arguments.length?(n="function"==typeof t?t:ya(+t),s):n},s.y1=function(t){return arguments.length?(r=null==t?null:"function"==typeof t?t:ya(+t),s):r},s.lineX0=s.lineY0=function(){return u().x(t).y(n)},s.lineY1=function(){return u().x(t).y(r)},s.lineX1=function(){return u().x(e).y(n)},s.defined=function(t){return arguments.length?(a="function"==typeof t?t:ya(!!t),s):a},s.curve=function(t){return arguments.length?(o=t,null!=i&&(l=o(i)),s):o},s.context=function(t){return arguments.length?(null==t?i=l=null:l=o(i=t),s):i},s}function ka(t,e,n){t._context.bezierCurveTo((2*t._x0+t._x1)/3,(2*t._y0+t._y1)/3,(t._x0+2*t._x1)/3,(t._y0+2*t._y1)/3,(t._x0+4*t._x1+e)/6,(t._y0+4*t._y1+n)/6)}function _a(t){this._context=t}function Ta(t){return new _a(t)}function Aa(t,e){this._context=t,this._t=e}function Da(t){return new Aa(t,.5)}function Sa(e){let n;return{c(){n=d("path"),v(n,"d",e[0])},m(t,e){u(t,n,e)},p(t,[e]){1&e&&v(n,"d",t[0])},i:t,o:t,d(t){t&&c(n)}}}function Ca(t,e,n){let r,{low:a="tMin"}=e,{high:i="tMax"}=e,{xScale:o}=e,{yScale:l}=e,{data:s}=e;return t.$set=t=>{"low"in t&&n(1,a=t.low),"high"in t&&n(2,i=t.high),"xScale"in t&&n(3,o=t.xScale),"yScale"in t&&n(4,l=t.yScale),"data"in t&&n(5,s=t.data)},t.$$.update=()=>{62&t.$$.dirty&&n(0,r=$a().curve(Da).x(t=>o(t.date)).y0(t=>l(t[a])).y1(t=>l(t[i]))(s))},[r,a,i,o,l,s]}ga.prototype=pa.prototype={constructor:ga,moveTo:function(t,e){this._+="M"+(this._x0=this._x1=+t)+","+(this._y0=this._y1=+e)},closePath:function(){null!==this._x1&&(this._x1=this._x0,this._y1=this._y0,this._+="Z")},lineTo:function(t,e){this._+="L"+(this._x1=+t)+","+(this._y1=+e)},quadraticCurveTo:function(t,e,n,r){this._+="Q"+ +t+","+ +e+","+(this._x1=+n)+","+(this._y1=+r)},bezierCurveTo:function(t,e,n,r,a,i){this._+="C"+ +t+","+ +e+","+ +n+","+ +r+","+(this._x1=+a)+","+(this._y1=+i)},arcTo:function(t,e,n,r,a){t=+t,e=+e,n=+n,r=+r,a=+a;var i=this._x1,o=this._y1,l=n-t,s=r-e,u=i-t,c=o-e,h=u*u+c*c;if(a<0)throw new Error("negative radius: "+a);if(null===this._x1)this._+="M"+(this._x1=t)+","+(this._y1=e);else if(h>1e-6)if(Math.abs(c*l-s*u)>1e-6&&a){var f=n-i,d=r-o,m=l*l+s*s,g=f*f+d*d,p=Math.sqrt(m),y=Math.sqrt(h),v=a*Math.tan((fa-Math.acos((m+h-g)/(2*p*y)))/2),x=v/y,M=v/p;Math.abs(x-1)>1e-6&&(this._+="L"+(t+x*u)+","+(e+x*c)),this._+="A"+a+","+a+",0,0,"+ +(c*f>u*d)+","+(this._x1=t+M*l)+","+(this._y1=e+M*s)}else this._+="L"+(this._x1=t)+","+(this._y1=e);else;},arc:function(t,e,n,r,a,i){t=+t,e=+e,i=!!i;var o=(n=+n)*Math.cos(r),l=n*Math.sin(r),s=t+o,u=e+l,c=1^i,h=i?r-a:a-r;if(n<0)throw new Error("negative radius: "+n);null===this._x1?this._+="M"+s+","+u:(Math.abs(this._x1-s)>1e-6||Math.abs(this._y1-u)>1e-6)&&(this._+="L"+s+","+u),n&&(h<0&&(h=h%da+da),h>ma?this._+="A"+n+","+n+",0,1,"+c+","+(t-o)+","+(e-l)+"A"+n+","+n+",0,1,"+c+","+(this._x1=s)+","+(this._y1=u):h>1e-6&&(this._+="A"+n+","+n+",0,"+ +(h>=fa)+","+c+","+(this._x1=t+n*Math.cos(a))+","+(this._y1=e+n*Math.sin(a))))},rect:function(t,e,n,r){this._+="M"+(this._x0=this._x1=+t)+","+(this._y0=this._y1=+e)+"h"+ +n+"v"+ +r+"h"+-n+"Z"},toString:function(){return this._}},va.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e)}}},_a.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:ka(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:ka(this,t,e)}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}},Aa.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&2===this._point&&this._context.lineTo(this._x,this._y),(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:if(this._t<=0)this._context.lineTo(this._x,e),this._context.lineTo(t,e);else{var n=this._x*(1-this._t)+t*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,e)}}this._x=t,this._y=e}};class za extends Q{constructor(t){super(),G(this,t,Ca,Sa,i,{low:1,high:2,xScale:3,yScale:4,data:5})}}function Na(t){let e,n;const r=new za({props:{xScale:t[0],yScale:t[1],data:t[2]}});return{c(){e=d("g"),O(r.$$.fragment),v(e,"class","svelte-19ej34d")},m(t,a){u(t,e,a),I(r,e,null),n=!0},p(t,[e]){const n={};1&e&&(n.xScale=t[0]),2&e&&(n.yScale=t[1]),4&e&&(n.data=t[2]),r.$set(n)},i(t){n||(q(r.$$.fragment,t),n=!0)},o(t){Z(r.$$.fragment,t),n=!1},d(t){t&&c(e),X(r)}}}function Fa(t,e,n){let r,{xScale:a}=e,{yScale:i}=e,{grouped:o}=e;return t.$set=t=>{"xScale"in t&&n(0,a=t.xScale),"yScale"in t&&n(1,i=t.yScale),"grouped"in t&&n(3,o=t.grouped)},t.$$.update=()=>{8&t.$$.dirty&&n(2,r=o.map(t=>({date:t.date,tMin:t.tMinAbs,tMax:t.tMaxAbs})))},[a,i,r,o]}class Ya extends Q{constructor(t){super(),G(this,t,Fa,Na,i,{xScale:0,yScale:1,grouped:3})}}function Ua(e){let n,r;return{c(){n=d("g"),r=d("path"),v(r,"d",e[0]),v(r,"class","svelte-mcqcqg"),v(n,"class","normal-temp")},m(t,e){u(t,n,e),s(n,r)},p(t,[e]){1&e&&v(r,"d",t[0])},i:t,o:t,d(t){t&&c(n)}}}function Ha(t,e,n){let r,a,{xScale:i}=e,{yScale:o}=e,{grouped:l}=e;return t.$set=t=>{"xScale"in t&&n(1,i=t.xScale),"yScale"in t&&n(2,o=t.yScale),"grouped"in t&&n(3,l=t.grouped)},t.$$.update=()=>{6&t.$$.dirty&&n(4,a=wa().x(t=>i(t.date)).y(t=>o(t.tAvg)).curve(Ta)),24&t.$$.dirty&&n(0,r=a(l))},[r,i,o,l]}class Ea extends Q{constructor(t){super(),G(this,t,Ha,Ua,i,{xScale:1,yScale:2,grouped:3})}}function La(t){let e,n;const r=new za({props:{xScale:t[0],yScale:t[1],data:t[2]}});return{c(){e=d("g"),O(r.$$.fragment),v(e,"class","normal-temp-range svelte-1q0l0k4"),$(e,"faint",t[3])},m(t,a){u(t,e,a),I(r,e,null),n=!0},p(t,[n]){const a={};1&n&&(a.xScale=t[0]),2&n&&(a.yScale=t[1]),4&n&&(a.data=t[2]),r.$set(a),8&n&&$(e,"faint",t[3])},i(t){n||(q(r.$$.fragment,t),n=!0)},o(t){Z(r.$$.fragment,t),n=!1},d(t){t&&c(e),X(r)}}}function ja(t,e,n){let r;o(t,dn,t=>n(3,r=t));let{xScale:a}=e,{yScale:i}=e,{grouped:l}=e;return t.$set=t=>{"xScale"in t&&n(0,a=t.xScale),"yScale"in t&&n(1,i=t.yScale),"grouped"in t&&n(2,l=t.grouped)},[a,i,l,r]}class Ra extends Q{constructor(t){super(),G(this,t,ja,La,i,{xScale:0,yScale:1,grouped:2})}}function Wa(t,e,n){const r=t.slice();return r[21]=e[n],r}function Ja(t){let e,n,r;return{c(){e=d("line"),v(e,"y1",n=t[1](t[21].tMin)),v(e,"y2",r=t[1](t[21].tMax)),v(e,"class","svelte-1jkev50")},m(t,n){u(t,e,n)},p(t,a){66&a&&n!==(n=t[1](t[21].tMin))&&v(e,"y1",n),66&a&&r!==(r=t[1](t[21].tMax))&&v(e,"y2",r)},d(t){t&&c(e)}}}function qa(t){let e,n,r,a=t[21].tMin<t[21].trendMin&&Za(t),i=t[21].tMax>t[21].trendMax&&Va(t),o=t[21].tMin<t[21].trendMax&&t[21].tMax>t[21].trendMin&&Ba(t);return{c(){a&&a.c(),e=p(),i&&i.c(),n=p(),o&&o.c(),r=p()},m(t,l){a&&a.m(t,l),u(t,e,l),i&&i.m(t,l),u(t,n,l),o&&o.m(t,l),u(t,r,l)},p(t,l){t[21].tMin<t[21].trendMin?a?a.p(t,l):(a=Za(t),a.c(),a.m(e.parentNode,e)):a&&(a.d(1),a=null),t[21].tMax>t[21].trendMax?i?i.p(t,l):(i=Va(t),i.c(),i.m(n.parentNode,n)):i&&(i.d(1),i=null),t[21].tMin<t[21].trendMax&&t[21].tMax>t[21].trendMin?o?o.p(t,l):(o=Ba(t),o.c(),o.m(r.parentNode,r)):o&&(o.d(1),o=null)},d(t){a&&a.d(t),t&&c(e),i&&i.d(t),t&&c(n),o&&o.d(t),t&&c(r)}}}function Za(t){let e,n,r;return{c(){e=d("line"),v(e,"class","colder svelte-1jkev50"),v(e,"y1",n=t[1](t[21].tMin)),v(e,"y2",r=t[1](Math.min(t[21].tMax,t[21].trendMin)))},m(t,n){u(t,e,n)},p(t,a){66&a&&n!==(n=t[1](t[21].tMin))&&v(e,"y1",n),66&a&&r!==(r=t[1](Math.min(t[21].tMax,t[21].trendMin)))&&v(e,"y2",r)},d(t){t&&c(e)}}}function Va(t){let e,n,r;return{c(){e=d("line"),v(e,"class","hotter svelte-1jkev50"),v(e,"y1",n=t[1](t[21].tMax)),v(e,"y2",r=t[1](Math.max(t[21].tMin,t[21].trendMax)))},m(t,n){u(t,e,n)},p(t,a){66&a&&n!==(n=t[1](t[21].tMax))&&v(e,"y1",n),66&a&&r!==(r=t[1](Math.max(t[21].tMin,t[21].trendMax)))&&v(e,"y2",r)},d(t){t&&c(e)}}}function Ba(t){let e,n,r;return{c(){e=d("line"),v(e,"class","normal svelte-1jkev50"),v(e,"y1",n=t[1](Math.max(t[21].trendMin,t[21].tMin))),v(e,"y2",r=t[1](Math.min(t[21].trendMax,t[21].tMax)))},m(t,n){u(t,e,n)},p(t,a){66&a&&n!==(n=t[1](Math.max(t[21].trendMin,t[21].tMin)))&&v(e,"y1",n),66&a&&r!==(r=t[1](Math.min(t[21].trendMax,t[21].tMax)))&&v(e,"y2",r)},d(t){t&&c(e)}}}function Pa(t){let e,n,r,a,i,o,l,h,f,g,y,M,b=t[4](t[21].date)+"",w=t[21].tMax+"",$=t[21].tMin+"",k=t[1](t[21].tMin)-t[1](t[21].tMax)>30,_=k&&Oa(t);return{c(){e=d("text"),n=m(b),a=d("text"),i=m(w),o=m("°C"),h=d("text"),f=m($),g=m("°C"),_&&_.c(),M=p(),v(e,"class","date svelte-1jkev50"),v(e,"y",r=t[1](t[21].tMax)-25),v(a,"y",l=t[1](t[21].tMax)-5),v(a,"class","svelte-1jkev50"),v(h,"class","min svelte-1jkev50"),v(h,"y",y=t[1](t[21].tMin)+5)},m(t,r){u(t,e,r),s(e,n),u(t,a,r),s(a,i),s(a,o),u(t,h,r),s(h,f),s(h,g),_&&_.m(t,r),u(t,M,r)},p(t,o){80&o&&b!==(b=t[4](t[21].date)+"")&&x(n,b),66&o&&r!==(r=t[1](t[21].tMax)-25)&&v(e,"y",r),64&o&&w!==(w=t[21].tMax+"")&&x(i,w),66&o&&l!==(l=t[1](t[21].tMax)-5)&&v(a,"y",l),64&o&&$!==($=t[21].tMin+"")&&x(f,$),66&o&&y!==(y=t[1](t[21].tMin)+5)&&v(h,"y",y),66&o&&(k=t[1](t[21].tMin)-t[1](t[21].tMax)>30),k?_?_.p(t,o):(_=Oa(t),_.c(),_.m(M.parentNode,M)):_&&(_.d(1),_=null)},d(t){t&&c(e),t&&c(a),t&&c(h),_&&_.d(t),t&&c(M)}}}function Oa(t){let e,n,r,a,i=t[21].tAvg+"";return{c(){e=d("text"),n=m(i),r=m("°C"),v(e,"class","avg svelte-1jkev50"),v(e,"x","5"),v(e,"y",a=t[1](t[21].tAvg))},m(t,a){u(t,e,a),s(e,n),s(e,r)},p(t,r){64&r&&i!==(i=t[21].tAvg+"")&&x(n,i),66&r&&a!==(a=t[1](t[21].tAvg))&&v(e,"y",a)},d(t){t&&c(e)}}}function Ia(t){let e,n,r=t[21].tMax>t[21].tMaxAbs&&Xa(t),a=t[21].tMin<t[21].tMinAbs&&Qa(t);return{c(){r&&r.c(),e=p(),a&&a.c(),n=p()},m(t,i){r&&r.m(t,i),u(t,e,i),a&&a.m(t,i),u(t,n,i)},p(t,i){t[21].tMax>t[21].tMaxAbs?r?r.p(t,i):(r=Xa(t),r.c(),r.m(e.parentNode,e)):r&&(r.d(1),r=null),t[21].tMin<t[21].tMinAbs?a?a.p(t,i):(a=Qa(t),a.c(),a.m(n.parentNode,n)):a&&(a.d(1),a=null)},d(t){r&&r.d(t),t&&c(e),a&&a.d(t),t&&c(n)}}}function Xa(t){let e,n,r,a=t[21].labelMaxRecord&&Ga(t);return{c(){e=d("g"),a&&a.c(),n=d("path"),v(n,"d","M0,0 L-4,-4 L 4,-4 Z"),v(n,"class","svelte-1jkev50"),v(e,"class","record high svelte-1jkev50"),v(e,"transform",r="translate(0, "+(t[1](t[21].tMax)-7)+")")},m(t,r){u(t,e,r),a&&a.m(e,null),s(e,n)},p(t,i){t[21].labelMaxRecord?a?a.p(t,i):(a=Ga(t),a.c(),a.m(e,n)):a&&(a.d(1),a=null),66&i&&r!==(r="translate(0, "+(t[1](t[21].tMax)-7)+")")&&v(e,"transform",r)},d(t){t&&c(e),a&&a.d()}}}function Ga(t){let e,n,r=t[21].tMax+"";return{c(){e=d("text"),n=m(r),v(e,"y","-15"),v(e,"class","svelte-1jkev50")},m(t,r){u(t,e,r),s(e,n)},p(t,e){64&e&&r!==(r=t[21].tMax+"")&&x(n,r)},d(t){t&&c(e)}}}function Qa(t){let e,n,r,a=t[21].labelMinRecord&&Ka(t);return{c(){e=d("g"),a&&a.c(),n=d("path"),v(n,"d","M0,0 L-4,4 L 4,4 Z"),v(n,"class","svelte-1jkev50"),v(e,"class","record low svelte-1jkev50"),v(e,"transform",r="translate(0, "+(t[1](t[21].tMin)+7)+")")},m(t,r){u(t,e,r),a&&a.m(e,null),s(e,n)},p(t,i){t[21].labelMinRecord?a?a.p(t,i):(a=Ka(t),a.c(),a.m(e,n)):a&&(a.d(1),a=null),66&i&&r!==(r="translate(0, "+(t[1](t[21].tMin)+7)+")")&&v(e,"transform",r)},d(t){t&&c(e),a&&a.d()}}}function Ka(t){let e,n,r=t[21].tMin+"";return{c(){e=d("text"),n=m(r),v(e,"y","15"),v(e,"class","svelte-1jkev50")},m(t,r){u(t,e,r),s(e,n)},p(t,e){64&e&&r!==(r=t[21].tMin+"")&&x(n,r)},d(t){t&&c(e)}}}function ti(t){let e,n,r,a,i,o,l=t[3]&&ri(t[3],t[21].date);function h(t,e){return t[7]?qa:Ja}let f=h(t),m=f(t),g=l&&Pa(t),y=t[8]&&!t[3]&&Ia(t);return{c(){e=d("g"),m.c(),n=d("circle"),g&&g.c(),i=p(),y&&y.c(),v(n,"r",r=(t[3]&&ri(t[3],t[21].date)?3:2)*(t[5]?.75:1)),v(n,"transform",a="translate(0,"+t[1](t[21].tAvg)+")"),v(n,"class","svelte-1jkev50"),$(n,"hotter",t[7]&&t[21].tAvg>t[21].trendMax),$(n,"colder",t[7]&&t[21].tAvg<t[21].trendMin),$(n,"normal",t[7]&&t[21].tAvg>=t[21].trendMin&&t[21].tAvg<=t[21].trendMax),v(e,"class","day svelte-1jkev50"),v(e,"transform",o="translate("+t[0](t[21].date)+",0)"),$(e,"thin",t[5]),$(e,"highlight",t[3]&&ri(t[3],t[21].date)),$(e,"sameMonth",t[3]&&ni(t[3],t[21].date))},m(t,r){u(t,e,r),m.m(e,null),s(e,n),g&&g.m(e,null),s(e,i),y&&y.m(e,null)},p(t,s){f===(f=h(t))&&m?m.p(t,s):(m.d(1),m=f(t),m&&(m.c(),m.m(e,n))),104&s&&r!==(r=(t[3]&&ri(t[3],t[21].date)?3:2)*(t[5]?.75:1))&&v(n,"r",r),66&s&&a!==(a="translate(0,"+t[1](t[21].tAvg)+")")&&v(n,"transform",a),192&s&&$(n,"hotter",t[7]&&t[21].tAvg>t[21].trendMax),192&s&&$(n,"colder",t[7]&&t[21].tAvg<t[21].trendMin),192&s&&$(n,"normal",t[7]&&t[21].tAvg>=t[21].trendMin&&t[21].tAvg<=t[21].trendMax),72&s&&(l=t[3]&&ri(t[3],t[21].date)),l?g?g.p(t,s):(g=Pa(t),g.c(),g.m(e,i)):g&&(g.d(1),g=null),t[8]&&!t[3]?y?y.p(t,s):(y=Ia(t),y.c(),y.m(e,null)):y&&(y.d(1),y=null),65&s&&o!==(o="translate("+t[0](t[21].date)+",0)")&&v(e,"transform",o),32&s&&$(e,"thin",t[5]),72&s&&$(e,"highlight",t[3]&&ri(t[3],t[21].date)),72&s&&$(e,"sameMonth",t[3]&&ni(t[3],t[21].date))},d(t){t&&c(e),m.d(),g&&g.d(),y&&y.d()}}}function ei(e){let n,a,i=e[6],o=[];for(let t=0;t<i.length;t+=1)o[t]=ti(Wa(e,i,t));return{c(){n=d("g");for(let t=0;t<o.length;t+=1)o[t].c();v(n,"class","svelte-1jkev50"),$(n,"highlight",e[3]),a=[y(window,"mousemove",e[9]),y(window,"touchmove",e[9]),y(window,"mouseout",e[19])]},m(t,r){u(t,n,r);for(let t=0;t<o.length;t+=1)o[t].m(n,null);e[20](n)},p(t,[e]){if(507&e){let r;for(i=t[6],r=0;r<i.length;r+=1){const a=Wa(t,i,r);o[r]?o[r].p(a,e):(o[r]=ti(a),o[r].c(),o[r].m(n,null))}for(;r<o.length;r+=1)o[r].d(1);o.length=i.length}8&e&&$(n,"highlight",t[3])},i:t,o:t,d(t){t&&c(n),h(o,t),e[20](null),r(a)}}}function ni(t,e){return function(t,e){return t.getFullYear()===e.getFullYear()}(t,e)&&t.getMonth()===e.getMonth()}function ri(t,e){return ni(t,e)&&t.getDate()===e.getDate()}function ai(t,e,n){let r,a,i,l,s,u;o(t,fn,t=>n(12,r=t)),o(t,pn,t=>n(13,a=t)),o(t,hn,t=>n(16,i=t)),o(t,ln,t=>n(17,l=t)),o(t,dn,t=>n(7,s=t)),o(t,mn,t=>n(8,u=t));let{xScale:c}=e,{yScale:h}=e,{data:f}=e,{grouped:d}=e;const m=Rt("%Y-%m-%d");let g,p;let y,v,x,M,b;return t.$set=t=>{"xScale"in t&&n(0,c=t.xScale),"yScale"in t&&n(1,h=t.yScale),"data"in t&&n(10,f=t.data),"grouped"in t&&n(11,d=t.grouped)},t.$$.update=()=>{12288&t.$$.dirty&&n(4,y=t=>"de"===r?`${t.getDate()}. ${a.monthShort[t.getMonth()]}`:`${a.monthShort[t.getMonth()]} ${t.getDate()}`),1&t.$$.dirty&&n(14,v=(c.range()[1]-c.range()[0])/wt.count(...c.domain())),16384&t.$$.dirty&&n(5,x=v<3),197632&t.$$.dirty&&n(15,M=f.filter(t=>t.dateRaw>=m(i)&&t.dateRaw<=m(l))),35200&t.$$.dirty&&n(6,b=M.map(t=>{if(s){const e=d.find(e=>e.dateRaw===t.dateRaw);e&&(t.trendMin=e.tMin,t.trendMax=e.tMax,t.tMinAbs=e.tMinAbs,t.tMaxAbs=e.tMaxAbs,(t.tMax>t.tMaxAbs||t.tMin<t.tMinAbs)&&(t.labelMaxRecord=!0,t.labelMinRecord=!0))}return t}).map((t,e)=>(u&&(t.tMax>t.tMaxAbs||t.tMin<t.tMinAbs)&&M.slice(Math.max(0,e-7),e+8).forEach(e=>{t!==e&&e.tMax>e.tMaxAbs&&e.labelMaxRecord&&e.tMax>=t.tMax&&(t.labelMaxRecord=!1),t!==e&&e.tMin<e.tMinAbs&&e.labelMinRecord&&e.tMin<=t.tMin&&(t.labelMinRecord=!1)}),t)))},[c,h,g,p,y,x,b,s,u,function(t){const[e,r]=function(t,e){var n=t.ownerSVGElement||t;if(n.createSVGPoint){var r=n.createSVGPoint();return r.x=e.clientX,r.y=e.clientY,[(r=r.matrixTransform(t.getScreenCTM().inverse())).x,r.y]}var a=t.getBoundingClientRect();return[e.clientX-a.left-t.clientLeft,e.clientY-a.top-t.clientTop]}(g,t),a=c.invert(e),i=h.invert(r);n(3,p=i>=h.domain()[0]&&i<=h.domain()[1]?a:null)},f,d,r,a,v,M,i,l,m,()=>n(3,p=null),function(t){S[t?"unshift":"push"](()=>{n(2,g=t)})}]}class ii extends Q{constructor(t){super(),G(this,t,ai,ei,i,{xScale:0,yScale:1,data:10,grouped:11})}}function oi(t){let e;const n=new ha({props:{data:t[0],layers:t[1]}});return{c(){O(n.$$.fragment)},m(t,r){I(n,t,r),e=!0},p(t,[e]){const r={};1&e&&(r.data=t[0]),2&e&&(r.layers=t[1]),n.$set(r)},i(t){e||(q(n.$$.fragment,t),e=!0)},o(t){Z(n.$$.fragment,t),e=!1},d(t){X(n,t)}}}function li(t,e,n){let r,a,i,{data:o}=e;return t.$set=t=>{"data"in t&&n(0,o=t.data)},t.$$.update=()=>{1&t.$$.dirty&&(a=o[o.length-1].date.getFullYear()),1&t.$$.dirty&&(i=o[0].date.getFullYear())},n(1,r=[Ya,Ra,ii,Ea]),[o,r]}class si extends Q{constructor(t){super(),G(this,t,li,oi,i,{data:0})}}const{window:ui}=B;function ci(t,e,n){const r=t.slice();return r[18]=e[n],r}function hi(t,e,n){const r=t.slice();return r[1]=e[n],r}function fi(e){return{c:t,m:t,p:t,d:t}}function di(t){let e,n,a,i,o,l,d,p,M,w,$,k,_,T,A,D,S,C,z,N,F,Y,H,E,L,j,R,W,J,q,Z,V,B,P,O,I,X,G,Q,K,tt,et,nt,rt,at,it,ot,lt,st,ut,ct,ht=t[4].selectStation.replace("%count%",t[1].length)+"",ft=t[0].name+"",dt=t[0].state+"",mt=t[4].timerange+"",gt=t[0].from.getFullYear()+"",pt=t[0].to.getFullYear()+"",yt=t[4].location+"",vt=(+t[0].lat).toFixed(2)+"",xt=(+t[0].lon).toFixed(2)+"",Mt=t[4].altitude+"",bt=t[0].altitude+"",wt=t[3],$t=[];for(let e=0;e<wt.length;e+=1)$t[e]=gi(hi(t,wt,e));return{c(){e=f("label"),n=m(ht),a=g(),i=f("select"),o=f("option"),o.textContent="(select station)";for(let t=0;t<$t.length;t+=1)$t[t].c();var r;d=m("\n    oder\n    "),p=f("a"),p.innerHTML='<i class="im im-location svelte-xroloa"></i>\n        Wetterstation in meiner Nähe finden\n    ',M=g(),w=f("hr"),$=g(),k=f("table"),_=f("tr"),T=f("th"),T.textContent="Ausgewählte Station:",A=g(),D=f("td"),S=m(ft),C=m(", "),z=m(dt),N=g(),F=f("tr"),Y=f("th"),H=m(mt),E=m(":"),L=g(),j=f("td"),R=m(gt),W=m(" - "),J=m(pt),q=g(),Z=f("tr"),V=f("th"),B=m(yt),P=m(":"),O=g(),I=f("td"),X=f("a"),G=m(vt),Q=m(", "),K=m(xt),et=g(),nt=f("tr"),rt=f("th"),at=m(Mt),it=m(":"),ot=g(),lt=f("td"),st=m(bt),ut=m("m"),v(e,"class","form-text svelte-xroloa"),o.__value=l=null,o.value=o.__value,v(i,"class","custom-select"),void 0===t[0]&&U(()=>t[13].call(i)),v(p,"href","#/near-me"),v(p,"class","svelte-xroloa"),v(T,"class","pr-4"),v(X,"target","_blank"),v(X,"href",tt="https://www.openstreetmap.org/#map=19/"+t[0].lat+"/"+t[0].lon),ct=[y(i,"change",t[13]),y(i,"change",t[14]),y(p,"click",(r=t[7],function(t){return t.preventDefault(),r.call(this,t)}))]},m(r,l){u(r,e,l),s(e,n),u(r,a,l),u(r,i,l),s(i,o);for(let t=0;t<$t.length;t+=1)$t[t].m(i,null);b(i,t[0]),u(r,d,l),u(r,p,l),u(r,M,l),u(r,w,l),u(r,$,l),u(r,k,l),s(k,_),s(_,T),s(_,A),s(_,D),s(D,S),s(D,C),s(D,z),s(k,N),s(k,F),s(F,Y),s(Y,H),s(Y,E),s(F,L),s(F,j),s(j,R),s(j,W),s(j,J),s(k,q),s(k,Z),s(Z,V),s(V,B),s(V,P),s(Z,O),s(Z,I),s(I,X),s(X,G),s(X,Q),s(X,K),s(k,et),s(k,nt),s(nt,rt),s(rt,at),s(rt,it),s(nt,ot),s(nt,lt),s(lt,st),s(lt,ut)},p(t,e){if(18&e&&ht!==(ht=t[4].selectStation.replace("%count%",t[1].length)+"")&&x(n,ht),8&e){let n;for(wt=t[3],n=0;n<wt.length;n+=1){const r=hi(t,wt,n);$t[n]?$t[n].p(r,e):($t[n]=gi(r),$t[n].c(),$t[n].m(i,null))}for(;n<$t.length;n+=1)$t[n].d(1);$t.length=wt.length}1&e&&b(i,t[0]),1&e&&ft!==(ft=t[0].name+"")&&x(S,ft),1&e&&dt!==(dt=t[0].state+"")&&x(z,dt),16&e&&mt!==(mt=t[4].timerange+"")&&x(H,mt),1&e&&gt!==(gt=t[0].from.getFullYear()+"")&&x(R,gt),1&e&&pt!==(pt=t[0].to.getFullYear()+"")&&x(J,pt),16&e&&yt!==(yt=t[4].location+"")&&x(B,yt),1&e&&vt!==(vt=(+t[0].lat).toFixed(2)+"")&&x(G,vt),1&e&&xt!==(xt=(+t[0].lon).toFixed(2)+"")&&x(K,xt),1&e&&tt!==(tt="https://www.openstreetmap.org/#map=19/"+t[0].lat+"/"+t[0].lon)&&v(X,"href",tt),16&e&&Mt!==(Mt=t[4].altitude+"")&&x(at,Mt),1&e&&bt!==(bt=t[0].altitude+"")&&x(st,bt)},d(t){t&&c(e),t&&c(a),t&&c(i),h($t,t),t&&c(d),t&&c(p),t&&c(M),t&&c(w),t&&c($),t&&c(k),r(ct)}}}function mi(t){let e,n,r,a=t[18].name+"";return{c(){e=f("option"),n=m(a),e.__value=r=t[18],e.value=e.__value},m(t,r){u(t,e,r),s(e,n)},p(t,i){8&i&&a!==(a=t[18].name+"")&&x(n,a),8&i&&r!==(r=t[18])&&(e.__value=r),e.value=e.__value},d(t){t&&c(e)}}}function gi(t){let e,n,r=t[1],a=[];for(let e=0;e<r.length;e+=1)a[e]=mi(ci(t,r,e));return{c(){e=f("optgroup");for(let t=0;t<a.length;t+=1)a[t].c();v(e,"label",n=t[1][0].state)},m(t,n){u(t,e,n);for(let t=0;t<a.length;t+=1)a[t].m(e,null)},p(t,i){if(8&i){let n;for(r=t[1],n=0;n<r.length;n+=1){const o=ci(t,r,n);a[n]?a[n].p(o,i):(a[n]=mi(o),a[n].c(),a[n].m(e,null))}for(;n<a.length;n+=1)a[n].d(1);a.length=r.length}8&i&&n!==(n=t[1][0].state)&&v(e,"label",n)},d(t){t&&c(e),h(a,t)}}}function pi(e){return{c:t,m:t,p:t,d:t}}function yi(e){let n,r,a,i={ctx:e,current:null,token:null,pending:pi,then:di,catch:fi,value:15};return V(r=e[5],i),{c(){n=p(),i.block.c(),a=y(ui,"hashchange",e[12])},m(t,e){u(t,n,e),i.block.m(t,i.anchor=e),i.mount=()=>n.parentNode,i.anchor=n},p(t,[n]){{const r=(e=t).slice();r[15]=i.resolved,i.block.p(r,n)}},i:t,o:t,d(t){t&&c(n),i.block.d(t),i.token=null,i=null,a()}}}function vi(t,e,n){let r,a,i;o(t,fn,t=>n(8,r=t)),o(t,ln,t=>n(9,a=t)),o(t,pn,t=>n(4,i=t));const s=t=>({...t,from:new Date(t.from),to:new Date(t.to),altitude:+t.altitude}),u=Rt("%Y/%m/%d");let c=!1,{station:h}=e,{stations:f=[]}=e;const d=ft("/data/stations.csv",s).then(async t=>{if(n(1,f=t.filter(t=>t.from.getFullYear()<=1980&&t.to.getFullYear()>=2019).sort((t,e)=>t.name>e.name?1:t.name<e.name?-1:0)),await(Y(),N),m(),h)n(2,c=!0);else{g();const t=["00433"],e=t[Math.floor(.99*Math.random()*t.length)];n(0,h=f.find(t=>t.id===e))}});function m(){const t=window.location.hash.match(/^#\/(de|en)(?:\/(\d{5})\/[^\/]+)?(?:\/(\d{4}\/\d{2}\/\d{2}))?/);if(t&&f.length){const[e,i,o]=t.slice(1);e&&l(fn,r=e),(!h||i&&i!==h.id)&&n(0,h=f.find(t=>t.id===i)),o&&l(ln,a=new Date(o))}}function g(t){navigator.geolocation.getCurrentPosition(e=>{const{latitude:r,longitude:a}=e.coords;f.forEach(t=>{t.dist=function(t,e,n,r){const a=.017453292519943295,i=Math.cos,o=.5-i((n-t)*a)/2+i(t*a)*i(n*a)*(1-i((r-e)*a))/2;return 12742*Math.asin(Math.sqrt(o))}(r,a,t.lat,t.lon)}),n(2,c=!!t),n(0,h=f.sort((t,e)=>t.dist-e.dist)[0])},()=>{})}let p;return t.$set=t=>{"station"in t&&n(0,h=t.station),"stations"in t&&n(1,f=t.stations)},t.$$.update=()=>{if(2&t.$$.dirty&&n(3,p=Array.from(bn(f,t=>t.state)).map(([t,e])=>e).sort((t,e)=>t[0].state>e[0].state?1:t[0].state<e[0].state?-1:0)),773&t.$$.dirty&&h&&h.name){const t=[r];c&&(t.push(h.id),t.push(h.name.toLowerCase().split("(")[0].trim().replace(/ö/g,"oe").replace(/ä/g,"ae").replace(/ü/g,"ue").replace(/[^a-z-]/g,""))),u(a)<u(new Date)&&t.push(u(a)),window.location.hash=`#/${t.join("/")}`}},[h,f,c,p,i,d,m,g,r,a,s,u,()=>m(),function(){h=function(t){const e=t.querySelector(":checked")||t.options[0];return e&&e.__value}(this),n(0,h),n(3,p),n(1,f)},()=>n(2,c=!0)]}class xi extends Q{constructor(t){super(),G(this,t,vi,yi,i,{station:0,stations:1})}}function Mi(e){let n,a,i,o,l,h,d,p,M,b,w,$,k,_,T,A,D,S,C,z,N,F,Y,U=e[1].month+"",H=e[1].year+"",E=e[1].today+"";return{c(){n=f("div"),a=f("label"),i=m(U),o=g(),l=f("div"),h=f("button"),h.innerHTML='<i class="im im-care-left svelte-1d1s5vo"></i>',d=g(),p=f("button"),p.innerHTML='<i class="im im-care-right svelte-1d1s5vo"></i>',M=g(),b=f("label"),w=m(H),$=g(),k=f("div"),_=f("button"),_.innerHTML='<i class="im im-care-left svelte-1d1s5vo"></i>',T=g(),A=f("input"),S=g(),C=f("button"),C.innerHTML='<i class="im im-care-right svelte-1d1s5vo"></i>',z=g(),N=f("button"),F=m(E),v(h,"class","btn btn-sm btn-outline-secondary svelte-1d1s5vo"),v(p,"class","btn btn-sm btn-outline-secondary svelte-1d1s5vo"),v(l,"class","btn-group ml-2 mr-2"),v(_,"class","btn btn-sm btn-outline-secondary svelte-1d1s5vo"),v(A,"class","form-control form-control-sm svelte-1d1s5vo"),v(A,"type","number"),A.value=D=e[0].getFullYear(),v(C,"class","btn btn-sm btn-outline-secondary svelte-1d1s5vo"),v(k,"class","btn-group ml-2 mr-2 svelte-1d1s5vo"),v(N,"class","btn btn-sm btn-outline-secondary ml-2"),v(n,"class","form-inline svelte-1d1s5vo"),Y=[y(h,"click",e[2]),y(p,"click",e[3]),y(_,"click",e[4]),y(A,"input",e[6]),y(A,"change",e[6]),y(C,"click",e[5]),y(N,"mousedown",e[10])]},m(t,e){u(t,n,e),s(n,a),s(a,i),s(n,o),s(n,l),s(l,h),s(l,d),s(l,p),s(n,M),s(n,b),s(b,w),s(n,$),s(n,k),s(k,_),s(k,T),s(k,A),s(k,S),s(k,C),s(n,z),s(n,N),s(N,F)},p(t,[e]){2&e&&U!==(U=t[1].month+"")&&x(i,U),2&e&&H!==(H=t[1].year+"")&&x(w,H),1&e&&D!==(D=t[0].getFullYear())&&(A.value=D),2&e&&E!==(E=t[1].today+"")&&x(F,E)},i:t,o:t,d(t){t&&c(n),r(Y)}}}function bi(t,e,n){let r,a;o(t,ln,t=>n(0,r=t)),o(t,pn,t=>n(1,a=t));const i=Rt("%Y");function s(t,e,n=300){let a=new Date(r);a[`set${t}`](a[`get${t}`]()+e),a=wt.offset(Dt.ceil(a),-1),a>=new Date&&(a=new Date),l(ln,r=a)}let u;return t.$$.update=()=>{1&t.$$.dirty&&(u=i(r))},[r,a,()=>s("Month",-1),()=>s("Month",1),()=>s("FullYear",-1),()=>s("FullYear",1),function(t){+t.target.value>1881&&t.target.value<2021&&l(ln,r=new Date(t.target.value,11,31))},u,i,s,()=>l(ln,r=new Date)]}class wi extends Q{constructor(t){super(),G(this,t,bi,Mi,i,{})}}function $i(t,e,n){const r=t.slice();return r[30]=e[n],r}function ki(t,e,n){const r=t.slice();return r[33]=e[n],r[35]=n,r}function _i(t,e,n){const r=t.slice();return r[33]=e[n],r}function Ti(t){let e,n,r,a,i,o,l,h,f=t[33]<0?"&minus;":"",g=Math.abs(t[33])+"";return{c(){e=d("g"),n=d("line"),r=d("text"),i=m(g),o=m("°C\n                        "),v(n,"x2","5"),v(n,"class","svelte-470es"),a=new k(f,i),v(r,"y","-4"),v(r,"class","svelte-470es"),v(e,"class",l="tick tick-"+t[33]+" svelte-470es"),v(e,"transform",h="translate(0, "+t[9](t[33])+")")},m(t,l){u(t,e,l),s(e,n),s(e,r),a.m(r),s(r,i),s(r,o)},p(t,n){1024&n[0]&&f!==(f=t[33]<0?"&minus;":"")&&a.p(f),1024&n[0]&&g!==(g=Math.abs(t[33])+"")&&x(i,g),1024&n[0]&&l!==(l="tick tick-"+t[33]+" svelte-470es")&&v(e,"class",l),1536&n[0]&&h!==(h="translate(0, "+t[9](t[33])+")")&&v(e,"transform",h)},d(t){t&&c(e)}}}function Ai(t){let e,n,r,a,i,o,l,h,f,g=(t[1]<500?t[12]:t[11])(t[33],t[35])+"";return{c(){e=d("g"),n=d("line"),i=d("g"),o=d("text"),l=m(g),v(n,"y1",r="-"+(Ui-t[6].top)),v(n,"y2",a="-"+t[6].bottom),v(n,"x1","0"),v(n,"x2","0"),v(n,"class","svelte-470es"),v(o,"y","0"),v(o,"class","svelte-470es"),v(e,"class",h="tick tick-"+t[33]+" svelte-470es"),v(e,"transform",f="translate("+t[7](t[33])+","+Ui+")")},m(t,r){u(t,e,r),s(e,n),s(e,i),s(i,o),s(o,l)},p(t,i){64&i[0]&&r!==(r="-"+(Ui-t[6].top))&&v(n,"y1",r),64&i[0]&&a!==(a="-"+t[6].bottom)&&v(n,"y2",a),6402&i[0]&&g!==(g=(t[1]<500?t[12]:t[11])(t[33],t[35])+"")&&x(l,g),256&i[0]&&h!==(h="tick tick-"+t[33]+" svelte-470es")&&v(e,"class",h),384&i[0]&&f!==(f="translate("+t[7](t[33])+","+Ui+")")&&v(e,"transform",f)},d(t){t&&c(e)}}}function Di(t){let e,n,r;return{c(){e=d("line"),v(e,"y1",n=t[9](t[30].tMin)),v(e,"y2",r=t[9](t[30].tMax)),v(e,"class","svelte-470es")},m(t,n){u(t,e,n)},p(t,a){516&a[0]&&n!==(n=t[9](t[30].tMin))&&v(e,"y1",n),516&a[0]&&r!==(r=t[9](t[30].tMax))&&v(e,"y2",r)},d(t){t&&c(e)}}}function Si(t){let e,n,r,a,i=t[30].tMin<t[4]&&Ci(t),o=t[30].tMax>t[5]&&zi(t),l=t[30].tMin<t[5]&&t[30].tMax>t[4]&&Ni(t);return{c(){e=d("g"),i&&i.c(),n=p(),o&&o.c(),r=p(),l&&l.c(),v(e,"transform",a="translate("+(2019===t[30].year?10:0)+",0)")},m(t,a){u(t,e,a),i&&i.m(e,null),s(e,n),o&&o.m(e,null),s(e,r),l&&l.m(e,null)},p(t,s){t[30].tMin<t[4]?i?i.p(t,s):(i=Ci(t),i.c(),i.m(e,n)):i&&(i.d(1),i=null),t[30].tMax>t[5]?o?o.p(t,s):(o=zi(t),o.c(),o.m(e,r)):o&&(o.d(1),o=null),t[30].tMin<t[5]&&t[30].tMax>t[4]?l?l.p(t,s):(l=Ni(t),l.c(),l.m(e,null)):l&&(l.d(1),l=null),4&s[0]&&a!==(a="translate("+(2019===t[30].year?10:0)+",0)")&&v(e,"transform",a)},d(t){t&&c(e),i&&i.d(),o&&o.d(),l&&l.d()}}}function Ci(t){let e,n,r;return{c(){e=d("line"),v(e,"class","colder svelte-470es"),v(e,"y1",n=t[9](t[30].tMin)),v(e,"y2",r=t[9](Math.min(t[30].tMax,t[4])))},m(t,n){u(t,e,n)},p(t,a){516&a[0]&&n!==(n=t[9](t[30].tMin))&&v(e,"y1",n),532&a[0]&&r!==(r=t[9](Math.min(t[30].tMax,t[4])))&&v(e,"y2",r)},d(t){t&&c(e)}}}function zi(t){let e,n,r;return{c(){e=d("line"),v(e,"class","hotter svelte-470es"),v(e,"y1",n=t[9](t[30].tMax)),v(e,"y2",r=t[9](Math.max(t[30].tMin,t[5])))},m(t,n){u(t,e,n)},p(t,a){516&a[0]&&n!==(n=t[9](t[30].tMax))&&v(e,"y1",n),548&a[0]&&r!==(r=t[9](Math.max(t[30].tMin,t[5])))&&v(e,"y2",r)},d(t){t&&c(e)}}}function Ni(t){let e,n,r;return{c(){e=d("line"),v(e,"class","normal svelte-470es"),v(e,"y1",n=t[9](Math.max(t[4],t[30].tMin))),v(e,"y2",r=t[9](Math.min(t[5],t[30].tMax)))},m(t,n){u(t,e,n)},p(t,a){532&a[0]&&n!==(n=t[9](Math.max(t[4],t[30].tMin)))&&v(e,"y1",n),548&a[0]&&r!==(r=t[9](Math.min(t[5],t[30].tMax)))&&v(e,"y2",r)},d(t){t&&c(e)}}}function Fi(t){let e,n;function r(t,e){return t[30].year<t[0]||t[30].year>=t[3]?Si:Di}let a=r(t),i=a(t);return{c(){e=d("g"),i.c(),v(e,"class","day svelte-470es"),v(e,"transform",n="translate("+Math.round(t[7](t[30].year))+",0)"),$(e,"reference",t[30].year>=t[0]&&t[30].year<t[3])},m(t,n){u(t,e,n),i.m(e,null)},p(t,o){a===(a=r(t))&&i?i.p(t,o):(i.d(1),i=a(t),i&&(i.c(),i.m(e,null))),132&o[0]&&n!==(n="translate("+Math.round(t[7](t[30].year))+",0)")&&v(e,"transform",n),13&o[0]&&$(e,"reference",t[30].year>=t[0]&&t[30].year<t[3])},d(t){t&&c(e),i.d()}}}function Yi(e){let n,a,i,o,l,p,M,b,$,k,_,T,A,D,S,C,z,N,F,Y,H,E,L,j,R,W,J,q,Z,V,B,P,O,I,X,G,Q,K,tt,et,nt,rt,at,it,ot,lt,st,ut,ct,ht,ft,dt,mt,gt,pt,yt,vt,xt,Mt,bt,wt,$t,kt,_t,Tt,At,Dt=e[5].toFixed(2)+"",St=e[3]-1+"",Ct=e[4].toFixed(2)+"",zt=e[3]-1+"",Nt=e[10],Ft=[];for(let t=0;t<Nt.length;t+=1)Ft[t]=Ti(_i(e,Nt,t));let Yt=e[8],Ut=[];for(let t=0;t<Yt.length;t+=1)Ut[t]=Ai(ki(e,Yt,t));let Ht=e[2],Et=[];for(let t=0;t<Ht.length;t+=1)Et[t]=Fi($i(e,Ht,t));return{c(){n=f("div"),a=d("svg"),i=d("g"),o=d("g");for(let t=0;t<Ft.length;t+=1)Ft[t].c();l=d("g");for(let t=0;t<Ut.length;t+=1)Ut[t].c();p=d("g"),M=d("rect"),_=d("text"),T=m("◂ Vergleichszeitraum ▸\n                "),D=d("rect"),F=d("g");for(let t=0;t<Et.length;t+=1)Et[t].c();Y=d("g"),H=d("line"),L=d("g"),j=d("text"),R=m(Dt),W=m(" °C"),J=d("text"),q=d("tspan"),Z=m("Mittleres Tageshoch am"),V=g(),B=d("tspan"),P=m("18.12. ("),O=m(e[0]),I=m(" - "),X=m(St),G=m(")"),Q=g(),et=d("g"),nt=d("line"),at=d("text"),it=m(Ct),ot=m(" °C\n                "),st=d("text"),ut=d("tspan"),ct=m("Mittleres Tagestief am"),ht=g(),ft=d("tspan"),dt=m("18.12. ("),mt=m(e[0]),gt=m(" - "),pt=m(zt),yt=m(")"),vt=g(),bt=d("g"),wt=d("text"),$t=m('"Normalbereich"'),v(o,"class","axis y-axis"),v(l,"class","axis x-axis svelte-470es"),v(M,"x",b=e[7](e[0]-.5)),v(M,"width",$=e[7](e[3])-e[7](e[0])),v(M,"height",k=Ui-e[6].bottom),v(M,"class","svelte-470es"),v(_,"transform",A="translate("+e[7](.5*(e[0]+e[3]-1))+",\n                    20)"),v(_,"class","svelte-470es"),v(p,"class","context svelte-470es"),v(D,"class","normal-range svelte-470es"),v(D,"height",S=e[9](e[4])-e[9](e[5])),v(D,"width",C=e[1]-40),v(D,"y",z=e[9](e[5])),v(D,"x",N=e[6].left-20),v(H,"class","zero svelte-470es"),v(H,"x1",E=e[6].left-20),v(H,"x2",e[1]),v(j,"class","temp svelte-470es"),v(q,"x","0"),v(B,"x","0"),v(B,"dy","15"),v(J,"transform","translate(0,-35)"),v(J,"class","svelte-470es"),v(L,"transform",K="translate("+(e[1]-e[6].right+30)+",-5)"),v(Y,"class","normal-high svelte-470es"),v(Y,"transform",tt="translate(0,"+e[9](e[5])+")"),v(nt,"class","zero svelte-470es"),v(nt,"x1",rt=e[6].left-20),v(nt,"x2",e[1]),v(at,"class","temp svelte-470es"),v(at,"transform",lt="translate("+(e[1]-e[6].right+30)+",+5)"),v(ut,"x","0"),v(ft,"x","0"),v(ft,"dy","15"),v(st,"transform",xt="translate("+(e[1]-e[6].right+30)+",25)"),v(st,"class","svelte-470es"),v(et,"class","normal-low svelte-470es"),v(et,"transform",Mt="translate(0,"+e[9](e[4])+")"),v(wt,"transform",kt="translate("+(e[1]-e[6].right+30)+",0)"),v(wt,"class","svelte-470es"),v(bt,"class","normal svelte-470es"),v(bt,"transform",_t="translate(0,"+e[9](.5*(e[4]+e[5]))+")"),v(a,"height",Ui),v(a,"class","svelte-470es"),v(n,"class","chart svelte-470es"),U(()=>e[29].call(n)),At=[y(window,"mousemove",e[14]),y(window,"mouseup",e[15]),y(window,"touchmove",e[14]),y(window,"touchend",e[15]),y(p,"mousedown",e[13]),y(p,"touchstart",e[13])]},m(t,r){u(t,n,r),s(n,a),s(a,i),s(i,o);for(let t=0;t<Ft.length;t+=1)Ft[t].m(o,null);s(i,l);for(let t=0;t<Ut.length;t+=1)Ut[t].m(l,null);s(i,p),s(p,M),s(p,_),s(_,T),s(i,D),s(i,F);for(let t=0;t<Et.length;t+=1)Et[t].m(F,null);s(i,Y),s(Y,H),s(Y,L),s(L,j),s(j,R),s(j,W),s(L,J),s(J,q),s(q,Z),s(J,V),s(J,B),s(B,P),s(B,O),s(B,I),s(B,X),s(B,G),s(J,Q),s(i,et),s(et,nt),s(et,at),s(at,it),s(at,ot),s(et,st),s(st,ut),s(ut,ct),s(st,ht),s(st,ft),s(ft,dt),s(ft,mt),s(ft,gt),s(ft,pt),s(ft,yt),s(st,vt),s(i,bt),s(bt,wt),s(wt,$t),Tt=w(n,e[29].bind(n))},p(t,e){if(1536&e[0]){let n;for(Nt=t[10],n=0;n<Nt.length;n+=1){const r=_i(t,Nt,n);Ft[n]?Ft[n].p(r,e):(Ft[n]=Ti(r),Ft[n].c(),Ft[n].m(o,null))}for(;n<Ft.length;n+=1)Ft[n].d(1);Ft.length=Nt.length}if(6594&e[0]){let n;for(Yt=t[8],n=0;n<Yt.length;n+=1){const r=ki(t,Yt,n);Ut[n]?Ut[n].p(r,e):(Ut[n]=Ai(r),Ut[n].c(),Ut[n].m(l,null))}for(;n<Ut.length;n+=1)Ut[n].d(1);Ut.length=Yt.length}if(129&e[0]&&b!==(b=t[7](t[0]-.5))&&v(M,"x",b),137&e[0]&&$!==($=t[7](t[3])-t[7](t[0]))&&v(M,"width",$),64&e[0]&&k!==(k=Ui-t[6].bottom)&&v(M,"height",k),137&e[0]&&A!==(A="translate("+t[7](.5*(t[0]+t[3]-1))+",\n                    20)")&&v(_,"transform",A),560&e[0]&&S!==(S=t[9](t[4])-t[9](t[5]))&&v(D,"height",S),2&e[0]&&C!==(C=t[1]-40)&&v(D,"width",C),544&e[0]&&z!==(z=t[9](t[5]))&&v(D,"y",z),64&e[0]&&N!==(N=t[6].left-20)&&v(D,"x",N),701&e[0]){let n;for(Ht=t[2],n=0;n<Ht.length;n+=1){const r=$i(t,Ht,n);Et[n]?Et[n].p(r,e):(Et[n]=Fi(r),Et[n].c(),Et[n].m(F,null))}for(;n<Et.length;n+=1)Et[n].d(1);Et.length=Ht.length}64&e[0]&&E!==(E=t[6].left-20)&&v(H,"x1",E),2&e[0]&&v(H,"x2",t[1]),32&e[0]&&Dt!==(Dt=t[5].toFixed(2)+"")&&x(R,Dt),1&e[0]&&x(O,t[0]),8&e[0]&&St!==(St=t[3]-1+"")&&x(X,St),66&e[0]&&K!==(K="translate("+(t[1]-t[6].right+30)+",-5)")&&v(L,"transform",K),544&e[0]&&tt!==(tt="translate(0,"+t[9](t[5])+")")&&v(Y,"transform",tt),64&e[0]&&rt!==(rt=t[6].left-20)&&v(nt,"x1",rt),2&e[0]&&v(nt,"x2",t[1]),16&e[0]&&Ct!==(Ct=t[4].toFixed(2)+"")&&x(it,Ct),66&e[0]&&lt!==(lt="translate("+(t[1]-t[6].right+30)+",+5)")&&v(at,"transform",lt),1&e[0]&&x(mt,t[0]),8&e[0]&&zt!==(zt=t[3]-1+"")&&x(pt,zt),66&e[0]&&xt!==(xt="translate("+(t[1]-t[6].right+30)+",25)")&&v(st,"transform",xt),528&e[0]&&Mt!==(Mt="translate(0,"+t[9](t[4])+")")&&v(et,"transform",Mt),66&e[0]&&kt!==(kt="translate("+(t[1]-t[6].right+30)+",0)")&&v(wt,"transform",kt),560&e[0]&&_t!==(_t="translate(0,"+t[9](.5*(t[4]+t[5]))+")")&&v(bt,"transform",_t)},i:t,o:t,d(t){t&&c(n),h(Ft,t),h(Ut,t),h(Et,t),Tt.cancel(),r(At)}}}const Ui=300;function Hi(t){return t.targetTouches?t.targetTouches[0].screenX:t.clientX}function Ei(t,e,n){let r,a;o(t,rn,t=>n(25,r=t)),o(t,an,t=>n(26,a=t));let{data:i=[]}=e,{day:s=new Date(2019,11,18)}=e;const u=Rt("-%m-%d");let c,h,f,d,m,g,p,y,v,x,M,b,w,$,k,_,T=99,A=-99,D=r,S=400,C=!1;return t.$set=t=>{"data"in t&&n(16,i=t.data),"day"in t&&n(17,s=t.day)},t.$$.update=()=>{131072&t.$$.dirty[0]&&n(22,h=u(s)),4259840&t.$$.dirty[0]&&n(2,m=i.filter(t=>t.tMin>-999&&t.tMax>-999).map(t=>(t.year=t.date.getFullYear(),t)).filter(t=>t.dateRaw.substr(4)===h&&t.year>=1950).reverse()),4&t.$$.dirty[0]&&n(23,f=Math.max(1950,m[0].year)),4&t.$$.dirty[0]&&n(24,d=m[m.length-1].year),786436&t.$$.dirty[0]&&(n(18,T=99),n(19,A=-99),m.forEach(t=>{n(18,T=Math.min(T,t.tMin)),n(19,A=Math.max(A,t.tMax))})),33554432&t.$$.dirty[0]&&n(0,D=r),67108865&t.$$.dirty[0]&&n(3,g=D+a),13&t.$$.dirty[0]&&n(27,p=m.filter(t=>t.year>=D&&t.year<g)),134217728&t.$$.dirty[0]&&n(4,y=Dn(p,t=>t.tMin)),134217728&t.$$.dirty[0]&&n(5,v=Dn(p,t=>t.tMax)),2&t.$$.dirty[0]&&n(6,x={top:40,right:180,bottom:30,left:S<500?40:60}),25165890&t.$$.dirty[0]&&n(7,M=Zr().domain([f,d]).range([x.left,S-x.right])),128&t.$$.dirty[0]&&n(8,b=M.ticks(5)),786496&t.$$.dirty[0]&&n(9,w=Zr().domain([T-3,A+3]).range([Ui-x.bottom,x.top])),512&t.$$.dirty[0]&&n(10,$=w.ticks(6))},n(11,k=(t,e)=>t),n(12,_=(t,e)=>`'${String(t).substr(2)}`),[D,S,m,g,y,v,x,M,b,w,$,k,_,function(t){c=Hi(t),C=!0},function(t){if(C){const e=Hi(t)-c;n(0,D=Math.min(d-a,Math.max(f,Math.round(M.invert(M(D)+e))))),c=Hi(t)}},function(t){C&&(C=!1,l(rn,r=D))},i,s,T,A,C,c,h,f,d,r,a,p,u,function(){S=this.clientWidth,n(1,S)}]}class Li extends Q{constructor(t){super(),G(this,t,Ei,Yi,i,{data:16,day:17},[-1,-1])}}function ji(t,e,n){const r=t.slice();return r[31]=e[n],r}function Ri(t,e,n){const r=t.slice();return r[34]=e[n],r[36]=n,r}function Wi(t,e,n){const r=t.slice();return r[34]=e[n],r}function Ji(t,e,n){const r=t.slice();return r[29]=e[n],r[31]=n,r}function qi(t){let e,n,r,a=!t[31]&&function(t){let e,n,r,a,i,o,l=t[34]>0?"+":t[34]<0?"&minus;":"&plusmn;",h=Math.abs(t[34]).toFixed(0)+"";return{c(){e=d("text"),r=m(h),a=m("°C\n                            "),n=new k(l,r),v(e,"x",i=t[0]-35),v(e,"y",o=t[4](t[34])),v(e,"class","svelte-kvv4bb")},m(t,i){u(t,e,i),n.m(e),s(e,r),s(e,a)},p(t,n){1&n[0]&&i!==(i=t[0]-35)&&v(e,"x",i),16&n[0]&&o!==(o=t[4](t[34]))&&v(e,"y",o)},d(t){t&&c(e)}}}(t);return{c(){a&&a.c(),e=d("line"),v(e,"transform",n="translate(0,"+t[4](t[34])+")"),v(e,"x2",r=t[0]-40),v(e,"class","svelte-kvv4bb"),$(e,"zero",!t[34])},m(t,n){a&&a.m(t,n),u(t,e,n)},p(t,i){t[31]||a.p(t,i),16&i[0]&&n!==(n="translate(0,"+t[4](t[34])+")")&&v(e,"transform",n),1&i[0]&&r!==(r=t[0]-40)&&v(e,"x2",r)},d(t){a&&a.d(t),t&&c(e)}}}function Zi(t){let e,n,r,a,i,o,l,h,f,g,p,y,M,b=t[5](t[34],t[36])+"",w=t[5](t[34],t[36])+"";return{c(){e=d("g"),n=d("line"),i=d("g"),o=d("text"),l=m(b),f=d("text"),g=m(w),v(n,"y1",r=t[4](-6)),v(n,"y2",a=t[4](6)),v(n,"class","svelte-kvv4bb"),v(o,"class","buffer svelte-kvv4bb"),v(o,"x",h=t[29].xScale(new Date(t[34].getTime()+157248e5))-t[29].xScale(t[34])),v(o,"y","-10"),v(f,"x",p=t[29].xScale(new Date(t[34].getTime()+157248e5))-t[29].xScale(t[34])),v(f,"y","-15"),v(f,"class","svelte-kvv4bb"),v(i,"transform",y="translate(0,"+(t[3]-5)+")"),v(e,"class","tick svelte-kvv4bb"),v(e,"transform",M="translate("+t[29].xScale(t[34])+", 0)")},m(t,r){u(t,e,r),s(e,n),s(e,i),s(i,o),s(o,l),s(i,f),s(f,g)},p(t,s){16&s[0]&&r!==(r=t[4](-6))&&v(n,"y1",r),16&s[0]&&a!==(a=t[4](6))&&v(n,"y2",a),4&s[0]&&b!==(b=t[5](t[34],t[36])+"")&&x(l,b),4&s[0]&&h!==(h=t[29].xScale(new Date(t[34].getTime()+157248e5))-t[29].xScale(t[34]))&&v(o,"x",h),4&s[0]&&w!==(w=t[5](t[34],t[36])+"")&&x(g,w),4&s[0]&&p!==(p=t[29].xScale(new Date(t[34].getTime()+157248e5))-t[29].xScale(t[34]))&&v(f,"x",p),8&s[0]&&y!==(y="translate(0,"+(t[3]-5)+")")&&v(i,"transform",y),4&s[0]&&M!==(M="translate("+t[29].xScale(t[34])+", 0)")&&v(e,"transform",M)},d(t){t&&c(e)}}}function Vi(t){let e,n,r;return{c(){e=d("line"),v(e,"class","colder svelte-kvv4bb"),v(e,"y1",n=t[4](0)),v(e,"y2",r=t[4](t[31].tAvg-t[1][t[31].month]))},m(t,n){u(t,e,n)},p(t,a){16&a[0]&&n!==(n=t[4](0))&&v(e,"y1",n),22&a[0]&&r!==(r=t[4](t[31].tAvg-t[1][t[31].month]))&&v(e,"y2",r)},d(t){t&&c(e)}}}function Bi(t){let e,n,r;return{c(){e=d("line"),v(e,"class","hotter svelte-kvv4bb"),v(e,"y1",n=t[4](0)),v(e,"y2",r=t[4](t[31].tAvg-t[1][t[31].month]))},m(t,n){u(t,e,n)},p(t,a){16&a[0]&&n!==(n=t[4](0))&&v(e,"y1",n),22&a[0]&&r!==(r=t[4](t[31].tAvg-t[1][t[31].month]))&&v(e,"y2",r)},d(t){t&&c(e)}}}function Pi(t){let e,n,r,a=t[31].tAvg<t[1][t[31].month]&&Vi(t),i=t[31].tAvg>t[1][t[31].month]&&Bi(t);return{c(){e=d("g"),a&&a.c(),n=p(),i&&i.c(),v(e,"class","month svelte-kvv4bb"),v(e,"transform",r="translate("+t[29].xScale(new Date(t[31].date.getTime()+1296e6))+",0)")},m(t,r){u(t,e,r),a&&a.m(e,null),s(e,n),i&&i.m(e,null)},p(t,o){t[31].tAvg<t[1][t[31].month]?a?a.p(t,o):(a=Vi(t),a.c(),a.m(e,n)):a&&(a.d(1),a=null),t[31].tAvg>t[1][t[31].month]?i?i.p(t,o):(i=Bi(t),i.c(),i.m(e,null)):i&&(i.d(1),i=null),4&o[0]&&r!==(r="translate("+t[29].xScale(new Date(t[31].date.getTime()+1296e6))+",0)")&&v(e,"transform",r)},d(t){t&&c(e),a&&a.d(),i&&i.d()}}}function Oi(t){let e,n,r,a,i,o=[-4,0,4],l=[];for(let e=0;e<3;e+=1)l[e]=qi(Wi(t,o,e));let f=t[29].xScale.ticks(8),m=[];for(let e=0;e<f.length;e+=1)m[e]=Zi(Ri(t,f,e));let g=t[29].values,p=[];for(let e=0;e<g.length;e+=1)p[e]=Pi(ji(t,g,e));return{c(){e=d("g"),n=d("g");for(let t=0;t<3;t+=1)l[t].c();r=d("g");for(let t=0;t<m.length;t+=1)m[t].c();a=d("g");for(let t=0;t<p.length;t+=1)p[t].c();v(n,"class","axis y-axis svelte-kvv4bb"),v(r,"class","axis x-axis svelte-kvv4bb"),v(a,"class","values"),v(e,"class","decade"),v(e,"transform",i="translate(0, "+(t[31]*t[3]+10)+")")},m(t,i){u(t,e,i),s(e,n);for(let t=0;t<3;t+=1)l[t].m(n,null);s(e,r);for(let t=0;t<m.length;t+=1)m[t].m(r,null);s(e,a);for(let t=0;t<p.length;t+=1)p[t].m(a,null)},p(t,s){if(17&s[0]){let e;for(o=[-4,0,4],e=0;e<3;e+=1){const r=Wi(t,o,e);l[e]?l[e].p(r,s):(l[e]=qi(r),l[e].c(),l[e].m(n,null))}for(;e<3;e+=1)l[e].d(1)}if(60&s[0]){let e;for(f=t[29].xScale.ticks(8),e=0;e<f.length;e+=1){const n=Ri(t,f,e);m[e]?m[e].p(n,s):(m[e]=Zi(n),m[e].c(),m[e].m(r,null))}for(;e<m.length;e+=1)m[e].d(1);m.length=f.length}if(22&s[0]){let e;for(g=t[29].values,e=0;e<g.length;e+=1){const n=ji(t,g,e);p[e]?p[e].p(n,s):(p[e]=Pi(n),p[e].c(),p[e].m(a,null))}for(;e<p.length;e+=1)p[e].d(1);p.length=g.length}8&s[0]&&i!==(i="translate(0, "+(t[31]*t[3]+10)+")")&&v(e,"transform",i)},d(t){t&&c(e),h(l,t),h(m,t),h(p,t)}}}function Ii(e){let n,r,a,i,o=e[2],l=[];for(let t=0;t<o.length;t+=1)l[t]=Oi(Ji(e,o,t));return{c(){n=f("div"),r=d("svg");for(let t=0;t<l.length;t+=1)l[t].c();v(r,"height",a=e[2].length*e[3]+20),v(r,"class","svelte-kvv4bb"),v(n,"class","chart svelte-kvv4bb"),U(()=>e[28].call(n))},m(t,a){u(t,n,a),s(n,r);for(let t=0;t<l.length;t+=1)l[t].m(r,null);i=w(n,e[28].bind(n))},p(t,e){if(63&e[0]){let n;for(o=t[2],n=0;n<o.length;n+=1){const a=Ji(t,o,n);l[n]?l[n].p(a,e):(l[n]=Oi(a),l[n].c(),l[n].m(r,null))}for(;n<l.length;n+=1)l[n].d(1);l.length=o.length}12&e[0]&&a!==(a=t[2].length*t[3]+20)&&v(r,"height",a)},i:t,o:t,d(t){t&&c(n),h(l,t),i.cancel()}}}function Xi(t,e,n){let r,a,i;o(t,rn,t=>n(17,r=t)),o(t,on,t=>n(18,a=t)),o(t,an,t=>n(21,i=t));let{data:l=[]}=e,{day:s=new Date(2019,11,18)}=e,u=400;const c=Rt("%Y-%m");let h=99,f=-99,d=r;let m,g,p,y,v,x,M,b,w,$,k,_,T,A,D,S,C;return t.$set=t=>{"data"in t&&n(6,l=t.data),"day"in t&&n(7,s=t.day)},t.$$.update=()=>{128&t.$$.dirty[0]&&(m=c(s)),64&t.$$.dirty[0]&&n(13,y=l.filter(t=>t.tMin>-999&&t.tMax>-999).map(t=>(t.year=t.date.getFullYear(),t.decade=10*Math.floor(t.year/10),t.yearMonth=c(t.date),t)).filter(t=>t.year>=1960&&t.year<2020)),8192&t.$$.dirty[0]&&(g=Math.max(1950,y[0].year)),8192&t.$$.dirty[0]&&(p=y[y.length-1].year),8192&t.$$.dirty[0]&&n(15,v=Array.from(bn(y,t=>t.yearMonth)).map(([t,e])=>({year:e[0].year,decade:e[0].decade,month:e[0].date.getMonth(),date:new Date(e[0].year,e[0].date.getMonth(),1),tAvg:Dn(e,t=>t.tAvg)}))),425984&t.$$.dirty[0]&&n(16,x=v.filter(t=>t.year>=r&&t.year<a)),65536&t.$$.dirty[0]&&(M=[0,1,2,3,4,5,6,7,8,9,10,11].map(t=>{return{tAvg:Dn(x.filter(e=>e.month===t),t=>t.tAvg)}})),65536&t.$$.dirty[0]&&n(1,b=[0,1,2,3,4,5,6,7,8,9,10,11].map(t=>{return Dn(x.filter(e=>e.month===t),t=>t.tAvg)})),32769&t.$$.dirty[0]&&n(2,w=Array.from(bn(v,t=>t.decade).values()).map(t=>({decade:t[0].decade,xScale:ta().domain([new Date(t[0].decade,0,1),new Date(t[0].decade+10,0,0)]).range([0,u-40]),values:t}))),33538&t.$$.dirty[0]&&(n(8,h=99),n(9,f=-99),v.forEach(t=>{const e=t.tAvg-b[t.month];n(8,h=Math.min(h,e)),n(9,f=Math.max(f,e))})),131072&t.$$.dirty[0]&&n(10,d=r),2098176&t.$$.dirty[0]&&n(20,$=d+i),1057792&t.$$.dirty[0]&&n(22,k=y.filter(t=>t.year>=d&&t.year<$)),4194304&t.$$.dirty[0]&&(_=Dn(k,t=>t.tMin)),4194304&t.$$.dirty[0]&&(T=Dn(k,t=>t.tMax)),1&t.$$.dirty[0]&&(A={top:40,right:180,bottom:30,left:u<500?40:60}),1&t.$$.dirty[0]&&n(3,D=u<500?80:100),776&t.$$.dirty[0]&&n(4,S=Zr().domain([h,f]).range([D-20,0])),16&t.$$.dirty[0]&&(C=S.ticks(6))},[u,b,w,D,S,(t,e)=>e?`'${String(t.getFullYear()).substr(2)}`:t.getFullYear(),l,s,h,f,d,m,g,y,p,v,x,r,a,M,$,i,k,_,T,A,C,c,function(){u=this.clientWidth,n(0,u)}]}class Gi extends Q{constructor(t){super(),G(this,t,Xi,Ii,i,{data:6,day:7},[-1,-1])}}function Qi(t,e,n){const r=t.slice();return r[19]=e[n],r}function Ki(t,e,n){const r=t.slice();return r[22]=e[n],r[24]=n,r}function to(t,e,n){const r=t.slice();return r[22]=e[n],r}function eo(t){let e,n,r,a,i,o,l,h,f,g,p=t[22]>0?"+":t[22]<0?"&minus;":"&plusmn;",y=Math.abs(t[22]).toFixed(1)+"";return{c(){e=d("text"),r=m(y),a=m("°C\n                    "),l=d("line"),n=new k(p,r),v(e,"x",i=t[0]-t[4].right+5),v(e,"y",o=t[6](t[22])),v(e,"class","svelte-1toxd0x"),v(l,"transform",h="translate(0,"+t[6](t[22])+")"),v(l,"x1",f=t[4].left),v(l,"x2",g=t[0]-t[4].right),v(l,"class","svelte-1toxd0x"),$(l,"zero",!t[22])},m(t,i){u(t,e,i),n.m(e),s(e,r),s(e,a),u(t,l,i)},p(t,a){64&a&&p!==(p=t[22]>0?"+":t[22]<0?"&minus;":"&plusmn;")&&n.p(p),64&a&&y!==(y=Math.abs(t[22]).toFixed(1)+"")&&x(r,y),17&a&&i!==(i=t[0]-t[4].right+5)&&v(e,"x",i),64&a&&o!==(o=t[6](t[22]))&&v(e,"y",o),64&a&&h!==(h="translate(0,"+t[6](t[22])+")")&&v(l,"transform",h),16&a&&f!==(f=t[4].left)&&v(l,"x1",f),17&a&&g!==(g=t[0]-t[4].right)&&v(l,"x2",g),64&a&&$(l,"zero",!t[22])},d(t){t&&c(e),t&&c(l)}}}function no(t){let e,n,r,a,i,o,l,h,f=t[7](t[22],t[24])+"";return{c(){e=d("g"),n=d("line"),a=d("g"),i=d("text"),o=m(f),v(n,"y2",r=lo-t[4].bottom-t[4].top),v(n,"class","svelte-1toxd0x"),v(i,"y",l=lo-t[4].bottom-t[4].top+25),v(i,"class","svelte-1toxd0x"),v(a,"transform","translate(0,0)"),v(e,"class","tick svelte-1toxd0x"),v(e,"transform",h="translate("+t[5](t[22])+", 0)")},m(t,r){u(t,e,r),s(e,n),s(e,a),s(a,i),s(i,o)},p(t,a){16&a&&r!==(r=lo-t[4].bottom-t[4].top)&&v(n,"y2",r),32&a&&f!==(f=t[7](t[22],t[24])+"")&&x(o,f),16&a&&l!==(l=lo-t[4].bottom-t[4].top+25)&&v(i,"y",l),32&a&&h!==(h="translate("+t[5](t[22])+", 0)")&&v(e,"transform",h)},d(t){t&&c(e)}}}function ro(t){let e,n,r;return{c(){e=d("line"),v(e,"class","colder svelte-1toxd0x"),v(e,"y1",n=t[6](0)),v(e,"y2",r=t[6](t[19].tAvg-t[2]))},m(t,n){u(t,e,n)},p(t,a){64&a&&n!==(n=t[6](0))&&v(e,"y1",n),70&a&&r!==(r=t[6](t[19].tAvg-t[2]))&&v(e,"y2",r)},d(t){t&&c(e)}}}function ao(t){let e,n,r;return{c(){e=d("line"),v(e,"class","hotter svelte-1toxd0x"),v(e,"y1",n=t[6](0)),v(e,"y2",r=t[6](t[19].tAvg-t[2]))},m(t,n){u(t,e,n)},p(t,a){64&a&&n!==(n=t[6](0))&&v(e,"y1",n),70&a&&r!==(r=t[6](t[19].tAvg-t[2]))&&v(e,"y2",r)},d(t){t&&c(e)}}}function io(t){let e,n,r,a=t[19].tAvg<t[2]&&ro(t),i=t[19].tAvg>t[2]&&ao(t);return{c(){e=d("g"),a&&a.c(),n=p(),i&&i.c(),v(e,"class","year svelte-1toxd0x"),v(e,"transform",r="translate("+t[5](t[19].year+.5)+",0)")},m(t,r){u(t,e,r),a&&a.m(e,null),s(e,n),i&&i.m(e,null)},p(t,o){t[19].tAvg<t[2]?a?a.p(t,o):(a=ro(t),a.c(),a.m(e,n)):a&&(a.d(1),a=null),t[19].tAvg>t[2]?i?i.p(t,o):(i=ao(t),i.c(),i.m(e,null)):i&&(i.d(1),i=null),34&o&&r!==(r="translate("+t[5](t[19].year+.5)+",0)")&&v(e,"transform",r)},d(t){t&&c(e),a&&a.d(),i&&i.d()}}}function oo(e){let n,r,a,i,o,l,m,g,p,y,x,M,b,$,k,_,T,A,D=e[6].ticks(5),S=[];for(let t=0;t<D.length;t+=1)S[t]=eo(to(e,D,t));let C=e[5].ticks(8),z=[];for(let t=0;t<C.length;t+=1)z[t]=no(Ki(e,C,t));let N=e[1],F=[];for(let t=0;t<N.length;t+=1)F[t]=io(Qi(e,N,t));return{c(){n=f("div"),r=d("svg"),a=d("g"),i=d("g");for(let t=0;t<S.length;t+=1)S[t].c();o=d("g");for(let t=0;t<z.length;t+=1)z[t].c();l=d("g");for(let t=0;t<F.length;t+=1)F[t].c();m=d("g"),g=d("line"),M=d("line"),v(i,"class","axis y-axis svelte-1toxd0x"),v(o,"class","axis x-axis svelte-1toxd0x"),v(l,"class","values"),v(g,"class","zero svelte-1toxd0x"),v(g,"transform",p="translate(0,"+e[6](0)+")"),v(g,"x1",y=e[4].left),v(g,"x2",x=e[0]-e[4].right),v(m,"class","axis y-axis svelte-1toxd0x"),v(M,"class","trend svelte-1toxd0x"),v(M,"x1",b=e[5](e[1][0].year)),v(M,"y1",$=e[6](e[3](e[1][0].year))),v(M,"x2",k=e[5](uo+1)),v(M,"y2",_=e[6](e[3](uo+1))),v(a,"transform",T="translate(0,"+e[4].top+")"),v(r,"height",lo),v(r,"class","svelte-1toxd0x"),v(n,"class","chart svelte-1toxd0x"),U(()=>e[18].call(n))},m(t,c){u(t,n,c),s(n,r),s(r,a),s(a,i);for(let t=0;t<S.length;t+=1)S[t].m(i,null);s(a,o);for(let t=0;t<z.length;t+=1)z[t].m(o,null);s(a,l);for(let t=0;t<F.length;t+=1)F[t].m(l,null);s(a,m),s(m,g),s(a,M),A=w(n,e[18].bind(n))},p(t,[e]){if(81&e){let n;for(D=t[6].ticks(5),n=0;n<D.length;n+=1){const r=to(t,D,n);S[n]?S[n].p(r,e):(S[n]=eo(r),S[n].c(),S[n].m(i,null))}for(;n<S.length;n+=1)S[n].d(1);S.length=D.length}if(176&e){let n;for(C=t[5].ticks(8),n=0;n<C.length;n+=1){const r=Ki(t,C,n);z[n]?z[n].p(r,e):(z[n]=no(r),z[n].c(),z[n].m(o,null))}for(;n<z.length;n+=1)z[n].d(1);z.length=C.length}if(102&e){let n;for(N=t[1],n=0;n<N.length;n+=1){const r=Qi(t,N,n);F[n]?F[n].p(r,e):(F[n]=io(r),F[n].c(),F[n].m(l,null))}for(;n<F.length;n+=1)F[n].d(1);F.length=N.length}64&e&&p!==(p="translate(0,"+t[6](0)+")")&&v(g,"transform",p),16&e&&y!==(y=t[4].left)&&v(g,"x1",y),17&e&&x!==(x=t[0]-t[4].right)&&v(g,"x2",x),34&e&&b!==(b=t[5](t[1][0].year))&&v(M,"x1",b),74&e&&$!==($=t[6](t[3](t[1][0].year)))&&v(M,"y1",$),32&e&&k!==(k=t[5](uo+1))&&v(M,"x2",k),72&e&&_!==(_=t[6](t[3](uo+1)))&&v(M,"y2",_),16&e&&T!==(T="translate(0,"+t[4].top+")")&&v(a,"transform",T)},i:t,o:t,d(t){t&&c(n),h(S,t),h(z,t),h(F,t),A.cancel()}}}const lo=200,so=1900,uo=2019;function co(t,e,n){let r,a;o(t,rn,t=>n(14,r=t)),o(t,on,t=>n(15,a=t));let{data:i=[]}=e,{day:l=new Date(2019,11,18)}=e,s=600;const u=Rt("%Y-%m");let c=99,h=-99;let f,d,m,g,p,y,v,x,M;return t.$set=t=>{"data"in t&&n(8,i=t.data),"day"in t&&n(9,l=t.day)},t.$$.update=()=>{512&t.$$.dirty&&(f=u(l)),256&t.$$.dirty&&n(13,d=i.filter(t=>t.tMin>-999&&t.tMax>-999)),8192&t.$$.dirty&&n(1,m=Array.from(bn(d,t=>t.date.getFullYear())).map(([t,e])=>({year:e[0].date.getFullYear(),tAvg:e.length>340?Dn(e,t=>t.tAvg):Number.NaN})).filter(t=>!isNaN(t.tAvg)&&t.year>=so&&t.year<=uo).sort((t,e)=>t.year-e.year)),49154&t.$$.dirty&&n(2,g=Dn(m.filter(t=>t.year>=r&&t.year<a),t=>t.tAvg)),3078&t.$$.dirty&&(n(10,c=99),n(11,h=-99),m.forEach(t=>{const e=t.tAvg-g;n(10,c=Math.min(c,e)),n(11,h=Math.max(h,e))})),6&t.$$.dirty&&n(3,p=function(t,e){var n=0,r=0,a=0,i=0,o=0,l=0,s=0,u=t.length;if(u!==e.length)throw new Error("The parameters valuesX and valuesY need to have same size!");if(0===u)return[[],[]];for(var c=0;c<u;c++)n+=l=t[c],r+=s=e[c],i+=l*l,a+=l*s,o++;var h=(o*a-n*r)/(o*i-n*n),f=r/o-h*n/o;return t=>t*h+f}(m.map(t=>t.year),m.map(t=>t.tAvg-g))),19&t.$$.dirty&&n(5,v=Zr().domain([m[0].year,m[m.length-1].year+1]).range([y.left,s-y.right])),3088&t.$$.dirty&&n(6,x=Zr().domain([c,h]).range([lo-y.bottom-y.top,0])),64&t.$$.dirty&&(M=x.ticks(6))},n(4,y={top:20,right:60,bottom:30,left:20}),[s,m,g,p,y,v,x,(t,e)=>t,i,l,c,h,f,d,r,a,M,u,function(){s=this.clientWidth,n(0,s)}]}class ho extends Q{constructor(t){super(),G(this,t,co,oo,i,{data:8,day:9})}}function fo(e){let n;return{c(){n=f("i"),n.textContent="loading data...",v(n,"class","text-small text-muted")},m(t,e){u(t,n,e)},p:t,i:t,o:t,d(t){t&&c(n)}}}function mo(t){let e,n,r,a,i,o,l,h,d,p,y,M,b,w,$;const k=new Li({props:{data:t[10]}});return{c(){e=f("h3"),e.textContent='Wie sich der "normale" Temperaturbereich errechnet',n=g(),r=f("h3"),r.textContent='How "normal" temperature ranges are being calculated',a=g(),i=f("p"),o=m("Jeder Balken zeigt die Temperaturspanne am 18.12. im jeweiligen Jahr (gemessen an der\n            Wetterstation "),l=m(t[3]),h=m("). Tipp: Du kannst den Vergleichszeitraum nach links und\n            rechts verschieben."),d=g(),p=f("p"),y=m("Each bar shows the temperature range on December 18 in a given year (measured at weather\n            station "),M=m(t[3]),b=m("). Hint: You can move the base period to the left and right."),w=g(),O(k.$$.fragment),v(e,"lang","de"),v(r,"lang","en"),v(i,"class","text-muted text-small"),v(i,"lang","de"),v(p,"class","text-muted text-small"),v(p,"lang","en")},m(t,c){u(t,e,c),u(t,n,c),u(t,r,c),u(t,a,c),u(t,i,c),s(i,o),s(i,l),s(i,h),u(t,d,c),u(t,p,c),s(p,y),s(p,M),s(p,b),u(t,w,c),I(k,t,c),$=!0},p(t,e){(!$||8&e)&&x(l,t[3]),(!$||8&e)&&x(M,t[3]);const n={};1024&e&&(n.data=t[10]),k.$set(n)},i(t){$||(q(k.$$.fragment,t),$=!0)},o(t){Z(k.$$.fragment,t),$=!1},d(t){t&&c(e),t&&c(n),t&&c(r),t&&c(a),t&&c(i),t&&c(d),t&&c(p),t&&c(w),X(k,t)}}}function go(t){let e,n,r,a={ctx:t,current:null,token:null,pending:vo,then:yo,catch:po,value:10,error:18,blocks:[,,,]};return V(n=t[0],a),{c(){e=p(),a.block.c()},m(t,n){u(t,e,n),a.block.m(t,a.anchor=n),a.mount=()=>e.parentNode,a.anchor=e,r=!0},p(e,r){if(t=e,a.ctx=t,1&r&&n!==(n=t[0])&&V(n,a));else{const e=t.slice();e[10]=a.resolved,a.block.p(e,r)}},i(t){r||(q(a.block),r=!0)},o(t){for(let t=0;t<3;t+=1){Z(a.blocks[t])}r=!1},d(t){t&&c(e),a.block.d(t),a.token=null,a=null}}}function po(e){let n,r,a,i=e[18].message+"";return{c(){n=f("p"),r=m("Something went wrong: "),a=m(i)},m(t,e){u(t,n,e),s(n,r),s(n,a)},p(t,e){1&e&&i!==(i=t[18].message+"")&&x(a,i)},i:t,o:t,d(t){t&&c(n)}}}function yo(t){let e;const n=new si({props:{data:t[10],station:t[1]}});return{c(){O(n.$$.fragment)},m(t,r){I(n,t,r),e=!0},p(t,e){const r={};1&e&&(r.data=t[10]),2&e&&(r.station=t[1]),n.$set(r)},i(t){e||(q(n.$$.fragment,t),e=!0)},o(t){Z(n.$$.fragment,t),e=!1},d(t){X(n,t)}}}function vo(e){let n;return{c(){n=f("p"),n.textContent="Daten werden geladen..."},m(t,e){u(t,n,e)},p:t,i:t,o:t,d(t){t&&c(n)}}}function xo(e){let n;return{c(){n=f("i"),n.textContent="loading data...",v(n,"class","text-small text-muted")},m(t,e){u(t,n,e)},p:t,i:t,o:t,d(t){t&&c(n)}}}function Mo(t){let e,n,r,a,i,o,l,h,d,p,y,M,b,w,$,k,_,T,A,D=t[7]-1+"",S=t[7]-1+"";const C=new Gi({props:{data:t[10]}});return{c(){e=f("h3"),e.textContent="Zu warme Monate werden immer häufiger",n=g(),r=f("h3"),r.textContent="Too-hot months become more frequent",a=g(),i=f("p"),o=m("Die Balken zeigen mittlere Temperaturabweichungen pro Monat gegenüber dem\n            Monatsdurchschnitt im Vergleichszeitraum von "),l=m(t[6]),h=m(" bis "),d=m(D),p=m(").\n            Zu warme Monate sind rot dargestellt, zu kalte sind blau."),y=g(),M=f("p"),b=m("Bars show temperature anomalies over the base period from "),w=m(t[6]),$=m(" to "),k=m(S),_=m(". Too-hot months are shown red, too-cold months are shown in blue."),T=g(),O(C.$$.fragment),v(e,"lang","de"),v(r,"lang","en"),v(i,"lang","de"),v(i,"class","text-muted text-small"),v(M,"lang","en"),v(M,"class","text-muted text-small")},m(t,c){u(t,e,c),u(t,n,c),u(t,r,c),u(t,a,c),u(t,i,c),s(i,o),s(i,l),s(i,h),s(i,d),s(i,p),u(t,y,c),u(t,M,c),s(M,b),s(M,w),s(M,$),s(M,k),s(M,_),u(t,T,c),I(C,t,c),A=!0},p(t,e){(!A||64&e)&&x(l,t[6]),(!A||128&e)&&D!==(D=t[7]-1+"")&&x(d,D),(!A||64&e)&&x(w,t[6]),(!A||128&e)&&S!==(S=t[7]-1+"")&&x(k,S);const n={};1024&e&&(n.data=t[10]),C.$set(n)},i(t){A||(q(C.$$.fragment,t),A=!0)},o(t){Z(C.$$.fragment,t),A=!1},d(t){t&&c(e),t&&c(n),t&&c(r),t&&c(a),t&&c(i),t&&c(y),t&&c(M),t&&c(T),X(C,t)}}}function bo(t){let e,n,r,a,i,o,l,h,d,p,y,M,b,w,$,k,_,T,A,D,S,C,z,N,F,Y,U,H,E,L,j=t[7]-1+"",R=t[7]-1+"";const W=new ho({props:{data:t[10]}});return{c(){e=f("h3"),n=m("Die globale Erwärmung zeigt sich auch an der Wetterstation "),r=m(t[3]),a=g(),i=f("h3"),o=m("Global warming is visible at weather station "),l=m(t[3]),h=m(", too"),d=g(),p=f("p"),y=m("Die Balken zeigen jährliche Temperaturanomalien an der Wetterstation "),M=m(t[3]),b=m(" gegenüber dem\n            Vergleichszeitraum von "),w=f("b"),$=m(t[6]),k=m(" bis "),_=m(j),T=m(")."),A=g(),D=f("p"),S=m("In this chart bars show yearly temperature anomalies at weather station "),C=m(t[3]),z=m(" over the base period from "),N=f("b"),F=m(t[6]),Y=m(" to "),U=m(R),H=m(")."),E=g(),O(W.$$.fragment),v(e,"lang","de"),v(i,"lang","en"),v(p,"lang","de"),v(p,"class","text-muted text-small"),v(D,"lang","en"),v(D,"class","text-muted text-small")},m(t,c){u(t,e,c),s(e,n),s(e,r),u(t,a,c),u(t,i,c),s(i,o),s(i,l),s(i,h),u(t,d,c),u(t,p,c),s(p,y),s(p,M),s(p,b),s(p,w),s(w,$),s(w,k),s(w,_),s(w,T),u(t,A,c),u(t,D,c),s(D,S),s(D,C),s(D,z),s(D,N),s(N,F),s(N,Y),s(N,U),s(N,H),u(t,E,c),I(W,t,c),L=!0},p(t,e){(!L||8&e)&&x(r,t[3]),(!L||8&e)&&x(l,t[3]),(!L||8&e)&&x(M,t[3]),(!L||64&e)&&x($,t[6]),(!L||128&e)&&j!==(j=t[7]-1+"")&&x(_,j),(!L||8&e)&&x(C,t[3]),(!L||64&e)&&x(F,t[6]),(!L||128&e)&&R!==(R=t[7]-1+"")&&x(U,R);const n={};1024&e&&(n.data=t[10]),W.$set(n)},i(t){L||(q(W.$$.fragment,t),L=!0)},o(t){Z(W.$$.fragment,t),L=!1},d(t){t&&c(e),t&&c(a),t&&c(i),t&&c(d),t&&c(p),t&&c(A),t&&c(D),t&&c(E),X(W,t)}}}function wo(t){let e,n,r,a,i,o,l,h,d,p,y,b,w,$,k,_,T,A,D,C,z,N,F,Y,U,E,L,j,R,V,B,G,Q,K,tt,et,nt,rt,at,it,ot,lt,st,ut,ct,ht,ft,dt,mt,gt,pt,yt,vt,xt,Mt,bt,wt,$t,kt,_t,Tt,At,Dt,St,Ct,zt,Nt,Ft,Yt,Ut,Ht,Et,Lt,jt,Rt,Wt,Jt,qt,Zt,Vt,Bt,Pt,Ot,It,Xt,Gt,Qt,Kt,te,ee,ne,re,ae,ie,oe,le,se,ue,ce,he,fe,de,me,ge,pe,ye,ve,xe,Me,be,we,$e,ke,_e,Te,Ae,De,Se,Ce,ze,Ne,Fe,Ye,Ue,He,Ee,Le,je,Re,We,Je,qe,Ze,Ve,Be,Pe,Oe,Ie,Xe,Ge,Qe,Ke,tn,en,nn,rn,an,on,ln,sn,un,cn,hn,fn,dn,mn,gn,pn,yn,vn,xn,Mn,bn,wn,$n,kn,_n,Tn,An,Dn,Sn,Cn,zn,Nn,Fn=t[7]-1+"",Yn=t[7]-1+"",Un=(t[1]?t[1].name:"...")+"",Hn=t[11](t[8])+"",En=t[11](t[9])+"",Ln=(t[1]?t[1].name:"...")+"",jn=t[11](t[8])+"",Rn=t[11](t[9])+"",Wn=(t[1]?Math.max(t[1].from.getFullYear(),1960):1960)+"",Jn=(t[1]?Math.max(t[1].from.getFullYear(),1960):1960)+"",qn=(t[1]?t[1].name:"...")+"",Zn=(t[1]?t[1].state:"...")+"",Vn=t[2].length+"",Bn=(t[1]?t[1].name:"...")+"",Pn=(t[1]?t[1].state:"...")+"",On=t[2].length+"";const In=[mo,fo],Xn=[];function Gn(t,e){return t[10]?0:1}gt=Gn(t),pt=Xn[gt]=In[gt](t);let Qn=t[0]&&go(t);const Kn=new wi({}),tr=[Mo,xo],er=[];function nr(t,e){return t[10]?0:1}He=nr(t),Ee=er[He]=tr[He](t);let rr=t[10]&&bo(t);function ar(e){t[16].call(null,e)}function ir(e){t[17].call(null,e)}let or={};void 0!==t[1]&&(or.station=t[1]),void 0!==t[2]&&(or.stations=t[2]);const lr=new xi({props:or});return S.push(()=>P(lr,"station",ar)),S.push(()=>P(lr,"stations",ir)),{c(){e=f("header"),e.innerHTML='<div id="logo"><i class="im im-code"></i></div> \n    <h1 class="svelte-z7ia5j"><a href="/blog">vis4.net</a></h1> \n    <p style="color: #555">\n        Hi, I&#39;m Gregor. I write about data visualization, cartography, colors, data journalism and\n        some of my open source hacks. This is my blog.\n    </p> \n    <hr>',n=g(),r=f("main"),a=f("h2"),a.textContent='Das Jahr 2019 war wärmer als normal — aber was heißt hier eigentlich "normal"?',i=g(),o=f("h2"),o.textContent="2019 was hotter than normal — but what does this even mean?",l=g(),h=f("p"),h.innerHTML='<i>\n            [\n            <a href="#/en">Click here to read this text in English</a>\n            ]\n        </i>',d=g(),p=f("p"),p.innerHTML='<i>\n            [\n            <a href="#/de">Hier klicken um diesen Text auf deutsch zu lesen</a></i>\n        ]\n    ',y=g(),b=f("p"),b.innerHTML='\n        Laut Deutschem Wetterdienst (DWD) war 2019 das\n        <a href="https://www.dwd.de/DE/presse/pressemitteilungen/DE/2019/20191230_deutschlandwetter_jahr2019.pdf?__blob=publicationFile&amp;v=3">\n            drittwärmste Jahr in Deutschland\n        </a>\n        seit Beginn der regelmäßigen Messungen 1881 (hinter 2014 und 2018). Am 25. Juli wurde mit\n        <b>42,6°C</b>\n        ein neuer deutscher Hitzerekord aufgestellt, und lokale Rekorde wurden in fast allen\n        Wetterstationen gemessen.\n    ',w=g(),$=f("p"),$.innerHTML="\n        According to Deutsche Wetterdienst (DWD), 2019 was the third hottest year in Germany since\n        we started to measure temperatures regularly in 1881. On July 25 a new national record of\n        <b>42.6°C</b>\n        was measured, along with local records in most weather stations.\n    ",k=g(),_=f("p"),_.textContent='Auch abseits von Rekordwerten war 2019 laut DWD "zu trocken, zu sonnig und vor allem wärmer\n        als üblich". Aber wer sagt eigentlich was übliche oder "normale" Temperaturen sind?',T=g(),A=f("p"),A.textContent='Aside from record temperatures, DWD described the year 2019 as "too dry, too sunny, and most\n        of all warmer than usual". But who\'s to say what usual or "normal" temperatures are? How are\n        they defined?',D=g(),C=f("p"),z=m("Als Rechenbeispiel nehmen wir uns den 18. Dezember an der Wetterstation "),N=m(t[3]),F=m(".\n        Die Tageshöchsttemperatur lag an diesem Tag bei\n        "),Y=f("b"),U=m(t[4]),E=m("°C"),L=m('\n        . Um zu bestimmen welche Temperaturen "normal" für einen bestimmten Tag sind, berechnen\n        Meterologen die Mittelwerte aus den Höchst- und tiefsttemperaturen am selben Datum in einem\n        '),j=f("b"),j.textContent="Vergleichszeitraum",R=m("\n        , zum Beispiel zwischen "),V=m(t[6]),B=m(" und "),G=m(Fn),Q=m("."),K=g(),tt=f("p"),et=m("So let's take a look at a single day, December 18, at weather station "),nt=m(t[3]),rt=m(".\n        The daily maximum temperature was at\n        "),at=f("b"),it=m(t[4]),ot=m("°C"),lt=m("\n        . Was that hotter than normal? To answer this question, meterologists compute averages of\n        maximum and minimum temperatures on the same date over a\n        "),st=f("b"),st.textContent="base period",ut=m("\n        , for instance between "),ct=m(t[6]),ht=m(" and "),ft=m(Yn),dt=m("."),mt=g(),pt.c(),yt=g(),vt=f("p"),xt=m('Ob ein Temperaturwert nun "höher als normal" ist, hängt also davon ab, mit welchem Zeitraum\n        wir vergleichen (der Zeitraum im Diagramm lässt sich verschieben um den Effekt zu beobachten). Doch wie wir den Zeitraum auch verändern, das Tageshoch von\n        '),Mt=f("b"),bt=m(t[4]),wt=m("°C"),$t=m('\n        ist und bleibt ein Ausreißer für einen 18. Dezember, und damit "zu hoch".'),kt=g(),_t=f("p"),Tt=m('As we see, whether or not a given temperature is classified as "too hot" depends on the choice of the base period (you can move the base period in the above chart to see this effect). But no matter how we move the base period, the daily maximum of '),At=f("b"),Dt=m(t[4]),St=m("°C"),Ct=m(' will remain an outlier on a December 18, and therefor qualifies as "too hot".'),zt=g(),Nt=f("p"),Ft=m('Natürlich war der 18. Dezember kein Einzelfall: Über das ganze Jahr hinweg gab es solche "zu heißen" Tage. Die folgende Grafik zeigt die an der Wetterstation '),Yt=m(t[3]),Ut=m(" gemessenen Temperaturwerte. Der hellgraue Bereich im Hintergrund zeigt die bisherigen Temperaturrekorde (an dieser Wetterstation) und die kleinen Pfeile weisen die neu aufgestellten Temperaturrekorde aus."),Ht=g(),Et=f("p"),Lt=m('Of course, the 18th of December was no isolated case. We can see these "too-hot" days throughout the entire year. The following graphic shows daily temperature measurements at the weather station '),jt=m(t[3]),Rt=m(". The area in light gray in the background shows past temperature records at this station, and the small arrows point to newly set records."),Wt=g(),Jt=f("h3"),Jt.textContent="Zu heiße Tage und Rekordtemperaturen über das ganze Jahr",qt=g(),Zt=f("h3"),Zt.textContent="Days too hot and temperature records all year round",Vt=g(),Bt=f("p"),Pt=m("Das Diagramm zeigt tägliche Höchst- und Tiefstwerte der Lufttemperatur an der Wetterstation "),Ot=m(Un),It=m("\n        zwischen "),Xt=m(Hn),Gt=m(" und "),Qt=m(En),Kt=m(". Jeder Tag wird durch einen Balken\n        dargestellt; ein Kreis zeigt die Tagesmitteltemperatur.\n        "),te=f("span"),te.textContent="Tipp: drehe dein Telefon seitwärts um einen längeren Zeitraum anzusehen!",ee=g(),ne=f("p"),re=m("This chart shows daily highs and lows of air temperature at weather station "),ae=m(Ln),ie=m("\n        between "),oe=m(jn),le=m(" and "),se=m(Rn),ue=m(". Each day is represented by a bar,\n        the daily mean temperature is displayed with a circle.\n        "),ce=f("span"),ce.textContent="Tipp: rotate your phone to see a longer time frame!",he=g(),fe=f("main"),Qn&&Qn.c(),de=g(),me=f("div"),ge=f("div"),O(Kn.$$.fragment),pe=g(),ye=f("div"),ve=f("img"),Me=g(),be=f("main"),we=f("p"),we.textContent="Das vermehrte Aufkommen zu warmer Tage hat freilich nicht erst in diesem Jahr angefangen (du kannst dir mit der Monat/Jahr-Steuerung unter dem Diagramm ältere Messungen ansehen). Was wir sehen ist vielmehr die Fortsetzungen des Langzeittrends der letzten Jahrzehnte. Es lohnt sich daher einen Blick auf einen längeren Zeitraum zu werfen.",$e=g(),ke=f("p"),ke.textContent="The increasing frequency of days that are \"too hot\" certainly didn't start this year (you can browse through time using the year/month controls below the chart if you want). Rather, what we see is the continuation of a long-term trend over the last decades. Therefor it's worth taking a look at a longer time span",_e=g(),Te=f("p"),Ae=m("Die folgende Grafik zeigt die Differenzen der Monatsmitteltemperaturem zum Monatsmittel im Vergleichszeitraum — auch bekannt als Temperaturanomalien — von "),De=m(Wn),Se=m(" bis 2019. Die Rekordjahre 2019 und 2018 sind gut erkennbar,\n        aber auch der Rekordwinter von 2006/07 fällt ins Auge."),Ce=g(),ze=f("p"),Ne=m("The following chart shows the differences of average monthly temperatures to the long-term average over the base period — also known as temperature anomalies — between "),Fe=m(Jn),Ye=m(" and 2019. We can see the heat records from 2019 and 2018 but also the record winter of 2006/07 is visible, too."),Ue=g(),Ee.c(),Le=g(),je=f("p"),Re=m("Komprimiert man die Daten weiter zu einem einzigem Temperatur-Mittelwert pro Jahr lässt sich der Trend auch mathematisch berechnen und als Trendlinie darstellen. Die Stärke des Anstiegs ist unterschiedlich in jeder Wetterstation, aber ansteigen tut die Temperatur überall, von den "),We=f("a"),Je=m("Alpen"),Ze=m(" bis nach "),Ve=f("a"),Be=m("Helgoland"),Oe=m(" in der Nordsee."),Ie=g(),Xe=f("p"),Ge=m("If we compress the data further to yearly temperature averages we can compute the trend mathematically and visualize it as trend line. The slope of this line is different in each weather station, but temperatures are rising everywhere from the "),Qe=f("a"),Ke=m("alps"),en=m(" in the South up to the Northern Sea island "),nn=f("a"),rn=m("Helgoland"),on=m("."),ln=g(),rr&&rr.c(),sn=g(),un=f("p"),cn=m("Alle Grafiken in diesem Artikel beziehen sich auf die Wetterstation "),hn=f("b"),fn=m(qn),dn=m("\n        in "),mn=m(Zn),gn=m(". Aber da der Klimawandel sich nicht auf einzelne\n        Regionen beschränkt, lassen sich die selben Effekte auch in allen anderen deutschen\n        Wetterstationen beobachten. Du kannst das folgende Formular benutzen, um die Daten einer der anderen "),pn=m(Vn),yn=m(" Wetterstationen anzusehen, die mindestens\n        tägliche Temperaturdaten zwischen 1980 und 2019 gesammelt haben."),vn=g(),xn=f("p"),Mn=m("All charts in this article are referring to the weather station "),bn=f("b"),wn=m(Bn),$n=m("\n        in "),kn=m(Pn),_n=m(". But since climate change is not limited to certain regions, the same effects can be seen in all other German weather stations. You can use the form below to change to any of the "),Tn=m(On),An=m(" stations in Germany that collected daily temperature data between at least 1980 and 2019."),Dn=g(),Sn=f("div"),O(lr.$$.fragment),v(e,"id","header"),v(e,"class","story svelte-z7ia5j"),v(a,"lang","de"),v(o,"lang","en"),v(h,"lang","de"),v(p,"lang","en"),v(b,"lang","de"),v($,"lang","en"),v(_,"lang","de"),v(A,"lang","en"),v(C,"lang","de"),v(tt,"lang","en"),v(vt,"lang","de"),v(_t,"lang","en"),v(Nt,"lang","de"),v(Et,"lang","en"),v(Jt,"lang","de"),v(Zt,"lang","en"),v(te,"class","only-mobile"),v(Bt,"lang","de"),v(Bt,"class","text-muted text-small"),v(ce,"class","only-mobile"),v(ne,"lang","en"),v(ne,"class","text-muted text-small"),v(r,"lang",t[5]),v(r,"class","story svelte-z7ia5j"),v(ge,"class","col-md"),v(ve,"alt","reading instructions"),M(ve,"width","300px"),M(ve,"max-width","100%"),M(ve,"margin-bottom","20px"),ve.src!==(xe="key-"+t[5]+".png")&&v(ve,"src",xe),v(ye,"class","col-md-auto"),v(me,"class","row"),v(fe,"class","full-width svelte-z7ia5j"),v(fe,"lang",t[5]),v(we,"lang","de"),v(ke,"lang","en"),v(Te,"lang","de"),v(ze,"lang","en"),v(We,"href",qe="#/"+t[5]+"/05792/zugspitze"),v(Ve,"href",Pe="#/"+t[5]+"/02115/helgoland"),v(je,"lang","de"),v(Qe,"href",tn="#/"+t[5]+"/05792/zugspitze"),v(nn,"href",an="#/"+t[5]+"/02115/helgoland"),v(Xe,"lang","en"),v(un,"lang","de"),v(xn,"lang","en"),v(Sn,"class","shadow-sm p-3 mb-5 bg-white rounded"),M(Sn,"max-width","30rem"),v(be,"class","story svelte-z7ia5j"),v(be,"lang",t[5])},m(t,c){u(t,e,c),u(t,n,c),u(t,r,c),s(r,a),s(r,i),s(r,o),s(r,l),s(r,h),s(r,d),s(r,p),s(r,y),s(r,b),s(r,w),s(r,$),s(r,k),s(r,_),s(r,T),s(r,A),s(r,D),s(r,C),s(C,z),s(C,N),s(C,F),s(C,Y),s(Y,U),s(Y,E),s(C,L),s(C,j),s(C,R),s(C,V),s(C,B),s(C,G),s(C,Q),s(r,K),s(r,tt),s(tt,et),s(tt,nt),s(tt,rt),s(tt,at),s(at,it),s(at,ot),s(tt,lt),s(tt,st),s(tt,ut),s(tt,ct),s(tt,ht),s(tt,ft),s(tt,dt),s(r,mt),Xn[gt].m(r,null),s(r,yt),s(r,vt),s(vt,xt),s(vt,Mt),s(Mt,bt),s(Mt,wt),s(vt,$t),s(r,kt),s(r,_t),s(_t,Tt),s(_t,At),s(At,Dt),s(At,St),s(_t,Ct),s(r,zt),s(r,Nt),s(Nt,Ft),s(Nt,Yt),s(Nt,Ut),s(r,Ht),s(r,Et),s(Et,Lt),s(Et,jt),s(Et,Rt),s(r,Wt),s(r,Jt),s(r,qt),s(r,Zt),s(r,Vt),s(r,Bt),s(Bt,Pt),s(Bt,Ot),s(Bt,It),s(Bt,Xt),s(Bt,Gt),s(Bt,Qt),s(Bt,Kt),s(Bt,te),s(r,ee),s(r,ne),s(ne,re),s(ne,ae),s(ne,ie),s(ne,oe),s(ne,le),s(ne,se),s(ne,ue),s(ne,ce),u(t,he,c),u(t,fe,c),Qn&&Qn.m(fe,null),s(fe,de),s(fe,me),s(me,ge),I(Kn,ge,null),s(me,pe),s(me,ye),s(ye,ve),u(t,Me,c),u(t,be,c),s(be,we),s(be,$e),s(be,ke),s(be,_e),s(be,Te),s(Te,Ae),s(Te,De),s(Te,Se),s(be,Ce),s(be,ze),s(ze,Ne),s(ze,Fe),s(ze,Ye),s(be,Ue),er[He].m(be,null),s(be,Le),s(be,je),s(je,Re),s(je,We),s(We,Je),s(je,Ze),s(je,Ve),s(Ve,Be),s(je,Oe),s(be,Ie),s(be,Xe),s(Xe,Ge),s(Xe,Qe),s(Qe,Ke),s(Xe,en),s(Xe,nn),s(nn,rn),s(Xe,on),s(be,ln),rr&&rr.m(be,null),s(be,sn),s(be,un),s(un,cn),s(un,hn),s(hn,fn),s(hn,dn),s(hn,mn),s(un,gn),s(un,pn),s(un,yn),s(be,vn),s(be,xn),s(xn,Mn),s(xn,bn),s(bn,wn),s(bn,$n),s(bn,kn),s(xn,_n),s(xn,Tn),s(xn,An),s(be,Dn),s(be,Sn),I(lr,Sn,null),Nn=!0},p(t,[e]){(!Nn||8&e)&&x(N,t[3]),(!Nn||16&e)&&x(U,t[4]),(!Nn||64&e)&&x(V,t[6]),(!Nn||128&e)&&Fn!==(Fn=t[7]-1+"")&&x(G,Fn),(!Nn||8&e)&&x(nt,t[3]),(!Nn||16&e)&&x(it,t[4]),(!Nn||64&e)&&x(ct,t[6]),(!Nn||128&e)&&Yn!==(Yn=t[7]-1+"")&&x(ft,Yn);let n=gt;gt=Gn(t),gt===n?Xn[gt].p(t,e):(W(),Z(Xn[n],1,1,()=>{Xn[n]=null}),J(),pt=Xn[gt],pt||(pt=Xn[gt]=In[gt](t),pt.c()),q(pt,1),pt.m(r,yt)),(!Nn||16&e)&&x(bt,t[4]),(!Nn||16&e)&&x(Dt,t[4]),(!Nn||8&e)&&x(Yt,t[3]),(!Nn||8&e)&&x(jt,t[3]),(!Nn||2&e)&&Un!==(Un=(t[1]?t[1].name:"...")+"")&&x(Ot,Un),(!Nn||256&e)&&Hn!==(Hn=t[11](t[8])+"")&&x(Xt,Hn),(!Nn||512&e)&&En!==(En=t[11](t[9])+"")&&x(Qt,En),(!Nn||2&e)&&Ln!==(Ln=(t[1]?t[1].name:"...")+"")&&x(ae,Ln),(!Nn||256&e)&&jn!==(jn=t[11](t[8])+"")&&x(oe,jn),(!Nn||512&e)&&Rn!==(Rn=t[11](t[9])+"")&&x(se,Rn),(!Nn||32&e)&&v(r,"lang",t[5]),t[0]?Qn?(Qn.p(t,e),q(Qn,1)):(Qn=go(t),Qn.c(),q(Qn,1),Qn.m(fe,de)):Qn&&(W(),Z(Qn,1,1,()=>{Qn=null}),J()),(!Nn||32&e&&ve.src!==(xe="key-"+t[5]+".png"))&&v(ve,"src",xe),(!Nn||32&e)&&v(fe,"lang",t[5]),(!Nn||2&e)&&Wn!==(Wn=(t[1]?Math.max(t[1].from.getFullYear(),1960):1960)+"")&&x(De,Wn),(!Nn||2&e)&&Jn!==(Jn=(t[1]?Math.max(t[1].from.getFullYear(),1960):1960)+"")&&x(Fe,Jn);let a=He;He=nr(t),He===a?er[He].p(t,e):(W(),Z(er[a],1,1,()=>{er[a]=null}),J(),Ee=er[He],Ee||(Ee=er[He]=tr[He](t),Ee.c()),q(Ee,1),Ee.m(be,Le)),(!Nn||32&e&&qe!==(qe="#/"+t[5]+"/05792/zugspitze"))&&v(We,"href",qe),(!Nn||32&e&&Pe!==(Pe="#/"+t[5]+"/02115/helgoland"))&&v(Ve,"href",Pe),(!Nn||32&e&&tn!==(tn="#/"+t[5]+"/05792/zugspitze"))&&v(Qe,"href",tn),(!Nn||32&e&&an!==(an="#/"+t[5]+"/02115/helgoland"))&&v(nn,"href",an),t[10]?rr?(rr.p(t,e),q(rr,1)):(rr=bo(t),rr.c(),q(rr,1),rr.m(be,sn)):rr&&(W(),Z(rr,1,1,()=>{rr=null}),J()),(!Nn||2&e)&&qn!==(qn=(t[1]?t[1].name:"...")+"")&&x(fn,qn),(!Nn||2&e)&&Zn!==(Zn=(t[1]?t[1].state:"...")+"")&&x(mn,Zn),(!Nn||4&e)&&Vn!==(Vn=t[2].length+"")&&x(pn,Vn),(!Nn||2&e)&&Bn!==(Bn=(t[1]?t[1].name:"...")+"")&&x(wn,Bn),(!Nn||2&e)&&Pn!==(Pn=(t[1]?t[1].state:"...")+"")&&x(kn,Pn),(!Nn||4&e)&&On!==(On=t[2].length+"")&&x(Tn,On);const i={};!Cn&&2&e&&(Cn=!0,i.station=t[1],H(()=>Cn=!1)),!zn&&4&e&&(zn=!0,i.stations=t[2],H(()=>zn=!1)),lr.$set(i),(!Nn||32&e)&&v(be,"lang",t[5])},i(t){Nn||(q(pt),q(Qn),q(Kn.$$.fragment,t),q(Ee),q(rr),q(lr.$$.fragment,t),Nn=!0)},o(t){Z(pt),Z(Qn),Z(Kn.$$.fragment,t),Z(Ee),Z(rr),Z(lr.$$.fragment,t),Nn=!1},d(t){t&&c(e),t&&c(n),t&&c(r),Xn[gt].d(),t&&c(he),t&&c(fe),Qn&&Qn.d(),X(Kn),t&&c(Me),t&&c(be),er[He].d(),rr&&rr.d(),X(lr)}}}function $o(t,e,n){let r,a,i,l,s,u;o(t,pn,t=>n(13,r=t)),o(t,fn,t=>n(5,a=t)),o(t,rn,t=>n(6,i=t)),o(t,on,t=>n(7,l=t)),o(t,hn,t=>n(8,s=t)),o(t,ln,t=>n(9,u=t));const c=Rt(r.introDateFormat);let h;const f=t=>({date:new Date(t.date),dateRaw:t.date,tMin:+t.TNK,tAvg:+t.TMK,tMax:+t.TXK});let d;const m=()=>{p&&n(0,d=ft(`/data/stations/${p.id}.csv`,f).then(t=>(n(10,h=t),h)))};let g,p,y=[];var v;let x,M;return v=()=>{p!==g&&(g=p,m())},A().$$.before_update.push(v),t.$$.update=()=>{2&t.$$.dirty&&n(3,x=p?p.name:"..."),1024&t.$$.dirty&&n(4,M=h?h.find(t=>"2019-12-18"===t.dateRaw).tMax:"...")},[d,p,y,x,M,a,i,l,s,u,h,c,g,r,f,m,function(t){p=t,n(1,p)},function(t){y=t,n(2,y)}]}return new class extends Q{constructor(t){super(),G(this,t,$o,wo,i,{})}}({target:document.body,props:{name:"world"}})}();
//# sourceMappingURL=bundle.js.map
